(this["webpackJsonp@kyberswap/interface"]=this["webpackJsonp@kyberswap/interface"]||[]).push([[25],{"./node_modules/react-indiana-drag-scroll/dist/index.es.js":function(e,t,n){"use strict";var r,s,o=n("./node_modules/react/index.js"),i=n.n(o),c=function(e,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},a=(s=r={path:void 0,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&r.path)}},r.exports,function(){var e={}.hasOwnProperty;function t(){for(var n=[],r=0;r<arguments.length;r++){var s=arguments[r];if(s){var o=typeof s;if("string"===o||"number"===o)n.push(s);else if(Array.isArray(s)&&s.length){var i=t.apply(null,s);i&&n.push(i)}else if("object"===o)for(var c in s)e.call(s,c)&&s[c]&&n.push(c)}}return n.join(" ")}s.exports?(t.default=t,s.exports=t):window.classNames=t}(),r.exports);function d(e,t,n){var r,s,o,i,c;function a(){var d=Date.now()-i;d<t&&d>=0?r=setTimeout(a,t-d):(r=null,n||(c=e.apply(o,s),o=s=null))}null==t&&(t=100);var d=function(){o=this,s=arguments,i=Date.now();var d=n&&!r;return r||(r=setTimeout(a,t)),d&&(c=e.apply(o,s),o=s=null),c};return d.clear=function(){r&&(clearTimeout(r),r=null)},d.flush=function(){r&&(c=e.apply(o,s),o=s=null,clearTimeout(r),r=null)},d}d.debounce=d;var l=d;!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css","top"===n&&r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}(".indiana-scroll-container {\n  overflow: auto; }\n  .indiana-scroll-container--dragging {\n    scroll-behavior: auto !important; }\n    .indiana-scroll-container--dragging > * {\n      pointer-events: none;\n      cursor: -webkit-grab;\n      cursor: grab; }\n  .indiana-scroll-container--hide-scrollbars {\n    overflow: hidden;\n    overflow: -moz-scrollbars-none;\n    -ms-overflow-style: none;\n    scrollbar-width: none; }\n    .indiana-scroll-container--hide-scrollbars::-webkit-scrollbar {\n      display: none !important;\n      height: 0 !important;\n      width: 0 !important;\n      background: transparent !important;\n      -webkit-appearance: none !important; }\n  .indiana-scroll-container--native-scroll {\n    overflow: auto; }\n\n.indiana-dragging {\n  cursor: -webkit-grab;\n  cursor: grab; }\n");var j,b=(j="indiana-scroll-container",function(e,t){if(!e)return j;var n;"string"==typeof e?n=e:t=e;var r=j;return n&&(r+="__"+n),r+(t?Object.keys(t).reduce((function(e,n){var s=t[n];return s&&(e+=" "+("boolean"==typeof s?r+"--"+n:r+"--"+n+"_"+s)),e}),""):"")}),u=function(e){function t(t){var n=e.call(this,t)||this;return n.onEndScroll=function(){n.scrolling=!1,!n.pressed&&n.started&&n.processEnd()},n.onScroll=function(e){var t=n.container.current;t.scrollLeft===n.scrollLeft&&t.scrollTop===n.scrollTop||(n.scrolling=!0,n.processScroll(e),n.onEndScroll())},n.onTouchStart=function(e){var t=n.props.nativeMobileScroll;if(n.isDraggable(e.target))if(n.internal=!0,t&&n.scrolling)n.pressed=!0;else{var r=e.touches[0];n.processClick(e,r.clientX,r.clientY),!t&&n.props.stopPropagation&&e.stopPropagation()}},n.onTouchEnd=function(e){var t=n.props.nativeMobileScroll;n.pressed&&(!n.started||n.scrolling&&t?n.pressed=!1:n.processEnd(),n.forceUpdate())},n.onTouchMove=function(e){var t=n.props.nativeMobileScroll;if(n.pressed&&(!t||!n.isMobile)){var r=e.touches[0];r&&n.processMove(e,r.clientX,r.clientY),e.preventDefault(),n.props.stopPropagation&&e.stopPropagation()}},n.onMouseDown=function(e){n.isDraggable(e.target)&&n.isScrollable()&&(n.internal=!0,-1!==n.props.buttons.indexOf(e.button)&&(n.processClick(e,e.clientX,e.clientY),e.preventDefault(),n.props.stopPropagation&&e.stopPropagation()))},n.onMouseMove=function(e){n.pressed&&(n.processMove(e,e.clientX,e.clientY),e.preventDefault(),n.props.stopPropagation&&e.stopPropagation())},n.onMouseUp=function(e){n.pressed&&(n.started?n.processEnd():(n.internal=!1,n.pressed=!1,n.forceUpdate(),n.props.onClick&&n.props.onClick(e)),e.preventDefault(),n.props.stopPropagation&&e.stopPropagation())},n.container=i.a.createRef(),n.onEndScroll=l(n.onEndScroll,300),n.scrolling=!1,n.started=!1,n.pressed=!1,n.internal=!1,n.getRef=n.getRef.bind(n),n}return function(e,t){function n(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.componentDidMount=function(){var e=this.props.nativeMobileScroll,t=this.container.current;window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd),t.addEventListener("touchstart",this.onTouchStart,{passive:!1}),t.addEventListener("mousedown",this.onMouseDown,{passive:!1}),e&&(this.isMobile=this.isMobileDevice(),this.isMobile&&this.forceUpdate())},t.prototype.componentWillUnmount=function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},t.prototype.getElement=function(){return this.container.current},t.prototype.isMobileDevice=function(){return void 0!==window.orientation||-1!==navigator.userAgent.indexOf("IEMobile")},t.prototype.isDraggable=function(e){var t=this.props.ignoreElements;if(t){var n=e.closest(t);return null===n||n.contains(this.getElement())}return!0},t.prototype.isScrollable=function(){var e=this.container.current;return e&&(e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight)},t.prototype.processClick=function(e,t,n){var r=this.container.current;this.scrollLeft=r.scrollLeft,this.scrollTop=r.scrollTop,this.clientX=t,this.clientY=n,this.pressed=!0},t.prototype.processStart=function(e){void 0===e&&(e=!0);var t=this.props.onStartScroll;this.started=!0,e&&document.body.classList.add("indiana-dragging"),t&&t({external:!this.internal}),this.forceUpdate()},t.prototype.processScroll=function(e){if(this.started){var t=this.props.onScroll;t&&t({external:!this.internal})}else this.processStart(!1)},t.prototype.processMove=function(e,t,n){var r=this.props,s=r.horizontal,o=r.vertical,i=r.activationDistance,c=r.onScroll,a=this.container.current;this.started?(s&&(a.scrollLeft-=t-this.clientX),o&&(a.scrollTop-=n-this.clientY),c&&c({external:!this.internal}),this.clientX=t,this.clientY=n,this.scrollLeft=a.scrollLeft,this.scrollTop=a.scrollTop):(s&&Math.abs(t-this.clientX)>i||o&&Math.abs(n-this.clientY)>i)&&(this.clientX=t,this.clientY=n,this.processStart())},t.prototype.processEnd=function(){var e=this.props.onEndScroll;this.container.current&&e&&e({external:!this.internal}),this.pressed=!1,this.started=!1,this.scrolling=!1,this.internal=!1,document.body.classList.remove("indiana-dragging"),this.forceUpdate()},t.prototype.getRef=function(e){[this.container,this.props.innerRef].forEach((function(t){t&&("function"==typeof t?t(e):t.current=e)}))},t.prototype.render=function(){var e=this.props,t=e.children,n=e.draggingClassName,r=e.className,s=e.style,o=e.hideScrollbars,c=e.component;return i.a.createElement(c,{className:a(r,this.pressed&&n,b({dragging:this.pressed,"hide-scrollbars":o,"native-scroll":this.isMobile})),style:s,ref:this.getRef,onScroll:this.onScroll},t)},t.defaultProps={nativeMobileScroll:!0,hideScrollbars:!0,activationDistance:10,vertical:!0,horizontal:!0,stopPropagation:!1,style:{},component:"div",buttons:[0]},t}(o.PureComponent);t.a=u},"./src/components/ClassicElasticTab.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),s=n("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),o=n("./node_modules/@lingui/react/esm/index.js"),i=n("./node_modules/querystring-es3/index.js"),c=n("./node_modules/react-router/dist/index.js"),a=n("./node_modules/rebass/dist/index.esm.js"),d=n("./src/constants/index.ts"),l=n("./src/constants/v2.ts"),j=n("./src/hooks/index.ts"),b=n("./src/hooks/useMixpanel.ts"),u=n("./src/hooks/useParsedQueryString.ts"),p=n("./src/hooks/useTheme.ts"),x=n("./src/utils/string.ts"),m=n("./src/components/Icons/index.ts"),h=n("./src/components/Tooltip/index.tsx"),O=n("./node_modules/react/jsx-runtime.js"),f=["tab"];t.a=function(){var e=Object(u.a)(),t=e.tab,n=void 0===t?l.c.ELASTIC:t,g=Object(s.a)(e,f),v=Object(x.d)(n,l.c)?n:l.c.ELASTIC,y=Object(b.c)().mixpanelHandler,k=Object(j.b)().chainId,w=l.a[k],C=Object(p.a)(),S=Object(c.k)(),T=Object(c.m)(),I=S.pathname.includes("/farms");return Object(O.jsxs)(a.b,{width:"max-content",children:[Object(O.jsx)(h.a,{text:w||"",children:Object(O.jsxs)(a.b,{alignItems:"center",onClick:()=>{if(!w){var e=Object(r.a)(Object(r.a)({},g),{},{tab:l.c.ELASTIC}),t="";S.pathname.startsWith(d.g.POOLS)?t=b.a.ELASTIC_POOLS_ELASTIC_POOLS_CLICKED:S.pathname.startsWith(d.g.MY_POOLS)&&(t=b.a.ELASTIC_MYPOOLS_ELASTIC_POOLS_CLICKED),t&&y(t),T({search:Object(i.stringify)(e)},{replace:!0})}},children:[Object(O.jsx)(m.m,{size:20,color:v===l.c.ELASTIC?C.primary:C.subText}),Object(O.jsx)(a.e,{fontWeight:500,fontSize:[18,20,24],color:v===l.c.ELASTIC?w?C.disableText:C.primary:C.subText,width:"auto",marginLeft:"4px",role:"button",style:{cursor:w?"not-allowed":"pointer"},children:I?Object(O.jsx)(o.b,{id:"Elastic Farms"}):Object(O.jsx)(o.b,{id:"Elastic Pools"})})]})}),Object(O.jsx)(a.e,{fontWeight:500,fontSize:[18,20,24],color:C.subText,marginX:"12px",children:"|"}),Object(O.jsxs)(a.b,{alignItems:"center",onClick:()=>{var e=Object(r.a)(Object(r.a)({},g),{},{tab:l.c.CLASSIC});T({search:Object(i.stringify)(e)},{replace:!0})},children:[Object(O.jsx)(m.l,{size:20,color:v===l.c.ELASTIC?C.subText:C.primary}),Object(O.jsx)(a.e,{fontWeight:500,fontSize:[18,20,24],color:v===l.c.CLASSIC?C.primary:C.subText,width:"auto",marginLeft:"4px",style:{cursor:"pointer"},role:"button",children:I?Object(O.jsx)(o.b,{id:"Classic Farms"}):Object(O.jsx)(o.b,{id:"Classic Pools"})})]})]})}},"./src/components/Dots.tsx":function(e,t,n){"use strict";var r=n("./node_modules/styled-components/dist/styled-components.browser.esm.js").default.span.withConfig({displayName:"Dots",componentId:"sc-1ae7w1-0"})(["&::after{display:inline-block;animation:ellipsis 1.25s infinite;content:'.';width:1em;text-align:left;}@keyframes ellipsis{0%{content:'.';}33%{content:'..';}66%{content:'...';}}"]);t.a=r},"./src/components/HoverDropdown/index.tsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),s=n("./node_modules/react/index.js"),o=n("./node_modules/rebass/dist/index.esm.js"),i=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),c=n("./node_modules/@svgr/webpack/lib/index.js?-svgo,+titleProp,+ref!./src/assets/svg/down.svg"),a=n("./src/components/Tooltip/index.tsx"),d=n("./node_modules/react/jsx-runtime.js"),l=i.default.div.withConfig({displayName:"HoverDropdown__Dropdown",componentId:"sc-d4bw6y-0"})(["display:none;position:absolute;background:",";filter:drop-shadow(0px 4px 12px rgba(0,0,0,0.36));box-shadow:0px 0px 1px rgba(0,0,0,0.01),0px 4px 8px rgba(0,0,0,0.04),0px 16px 24px rgba(0,0,0,0.04),0px 24px 32px rgba(0,0,0,0.01);border-radius:16px;padding:12px;width:max-content;z-index:13;top:28px;",""],(e=>e.theme.tableHeader),(e=>{var t=e.placement;return"center"===t?"\n    left: 50%;\n    transform: translate(-50%, 0);\n    ":"right"===t?"left: 100%;\n        transform: translate(-100%, 0);\n    ":""})),j=Object(i.default)(c.a).withConfig({displayName:"HoverDropdown__DropdownIcon",componentId:"sc-d4bw6y-1"})(["margin-left:4px;transition:transform 300ms;"]),b=i.default.div.withConfig({displayName:"HoverDropdown__HoverDropdownWrapper",componentId:"sc-d4bw6y-2"})(["position:relative;display:inline-block;cursor:pointer;width:fit-content;padding:",";:hover{","{display:flex;flex-direction:column;}","{transform:rotate(",");}}"],(e=>e.padding||"8px 0"),l,j,(e=>e.disabledHover?"0":"-180deg"));t.a=e=>{var t=e.hideIcon,n=void 0!==t&&t,i=e.content,c=e.dropdownContent,l=e.padding,u=e.style,p=void 0===u?{}:u,x=Object(s.useState)(!1),m=Object(r.a)(x,2),h=m[0],O=m[1];return Object(d.jsx)(b,{disabledHover:!c,padding:l,style:p,onMouseOver:()=>O(!0),onMouseLeave:()=>O(!1),children:Object(d.jsx)(a.d,{show:h,text:c,placement:"bottom",width:"max-content",children:Object(d.jsxs)(o.b,{alignItems:"center",children:[i,!n&&Object(d.jsx)(j,{})]})})})}},"./src/components/Icons/Withdraw.tsx":function(e,t,n){"use strict";var r=n("./node_modules/react/jsx-runtime.js");t.a=e=>{var t=e.width,n=e.height;return Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t||16,height:n||16,viewBox:"0 0 16 16",children:Object(r.jsx)("path",{d:"M3.33337 3.33317C3.33337 3.69984 3.63337 3.99984 4.00004 3.99984H12C12.3667 3.99984 12.6667 3.69984 12.6667 3.33317C12.6667 2.9665 12.3667 2.6665 12 2.6665H4.00004C3.63337 2.6665 3.33337 2.9665 3.33337 3.33317ZM4.94004 9.33317H6.00004V12.6665C6.00004 13.0332 6.30004 13.3332 6.66671 13.3332H9.33337C9.70004 13.3332 10 13.0332 10 12.6665V9.33317H11.06C11.6534 9.33317 11.9534 8.61317 11.5334 8.19317L8.47337 5.13317C8.21337 4.87317 7.79337 4.87317 7.53337 5.13317L4.47337 8.19317C4.05337 8.61317 4.34671 9.33317 4.94004 9.33317Z",fill:"currentColor"})})}},"./src/components/PoolsCurrencyInputPanel/index.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return A}));var r,s,o,i=n("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),c=n("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),a=n("./node_modules/@lingui/react/esm/index.js"),d=n("./node_modules/react/index.js"),l=n("./node_modules/react-feather/dist/icons/x.js"),j=n("./node_modules/rebass/dist/index.esm.js"),b=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),u=n("./node_modules/@svgr/webpack/lib/index.js?-svgo,+titleProp,+ref!./src/assets/svg/down.svg"),p=n("./src/components/CurrencyLogo/index.tsx"),x=n("./src/components/DoubleLogo/index.tsx"),m=n("./src/components/SearchModal/CurrencySearchModal.tsx"),h=n("./src/hooks/useTheme.ts"),O=n("./src/utils/dmm.ts"),f=n("./node_modules/react/jsx-runtime.js"),g=b.default.div.withConfig({displayName:"PoolsCurrencyInputPanel__InputRow",componentId:"sc-bxeb8p-0"})([""," align-items:center;padding:",";",";"],(e=>e.theme.flexRowNoWrap),(e=>e.selected?"0.75rem 0.5rem 0.75rem 1rem":"0.75rem 0.75rem 0.75rem 1rem"),(e=>e.theme.mediaWidth.upToMedium(r||(r=Object(c.a)(["\n    width: 100%;\n  "]))))),v=b.default.button.withConfig({displayName:"PoolsCurrencyInputPanel__CurrencySelect",componentId:"sc-bxeb8p-1"})(["align-items:center;height:2.25rem;font-size:20px;font-weight:500;background-color:",";border:1px solid #52ccad;color:",";border-radius:40px;outline:none;cursor:pointer;user-select:none;padding:0 0.5rem;:hover{background-color:",";}",";"],(e=>e.theme.background),(e=>e.theme.text),(e=>e.theme.bg2),(e=>e.theme.mediaWidth.upToMedium(s||(s=Object(c.a)(["\n    width: 100%;\n  "]))))),y=b.default.span.withConfig({displayName:"PoolsCurrencyInputPanel__Aligner",componentId:"sc-bxeb8p-2"})(["display:flex;align-items:center;justify-content:space-between;",";"],(e=>e.theme.mediaWidth.upToMedium(o||(o=Object(c.a)(["\n    width: 100%;\n  "]))))),k=Object(b.default)(u.a).withConfig({displayName:"PoolsCurrencyInputPanel__StyledDropDown",componentId:"sc-bxeb8p-3"})(["margin:0 0.25rem 0 0.5rem;height:35%;path{stroke:",";fill:",";}"],(e=>e.theme.subText),(e=>e.theme.subText)),w=Object(b.default)(l.a).withConfig({displayName:"PoolsCurrencyInputPanel__StyledX",componentId:"sc-bxeb8p-4"})(["margin:0 0.25rem 0 0.5rem;path,line{stroke:",";}:hover{path,line{stroke:",";}}"],(e=>e.theme.text),(e=>e.theme.subText)),C=b.default.div.withConfig({displayName:"PoolsCurrencyInputPanel__InputPanel",componentId:"sc-bxeb8p-5"})([""," position:relative;border-radius:4px;background-color:transparent;z-index:1;"],(e=>e.theme.flexColumnNoWrap)),S=b.default.div.withConfig({displayName:"PoolsCurrencyInputPanel__Container",componentId:"sc-bxeb8p-6"})([""]),T=b.default.div.withConfig({displayName:"PoolsCurrencyInputPanel__LogoNameWrapper",componentId:"sc-bxeb8p-7"})(["display:flex;align-items:center;"]),I=b.default.span.withConfig({displayName:"PoolsCurrencyInputPanel__StyledTokenName",componentId:"sc-bxeb8p-8"})([""," font-size:",";min-width:max-content;"],(e=>e.active?"  margin: 0 0.25rem 0 0.75rem;":"  margin: 0 0.25rem 0 0.25rem;"),(e=>e.active?"16px":"14px"));function A(e){var t=e.onCurrencySelect,n=e.onClearCurrency,r=e.currency,s=e.disableCurrencySelect,o=void 0!==s&&s,c=e.pair,l=void 0===c?null:c,b=e.otherCurrency,u=e.id,A=e.showCommonBases,_=Object(d.useState)(!1),L=Object(i.a)(_,2),E=L[0],P=L[1],D=Object(h.a)(),z=Object(d.useCallback)((()=>{P(!1)}),[P]),R=Object(O.i)(r||void 0);return Object(f.jsxs)(C,{id:u,children:[Object(f.jsx)(S,{children:Object(f.jsx)(g,{style:{padding:"0",borderRadius:"8px"},selected:o,children:Object(f.jsx)(v,{selected:!!r,className:"open-currency-select-button",onClick:()=>{o||P(!0)},children:Object(f.jsxs)(y,{children:[Object(f.jsxs)(T,{children:[l?Object(f.jsx)(x.b,{currency0:l.token0,currency1:l.token1,size:24,margin:!0}):r?Object(f.jsx)(p.a,{currency:r||void 0,size:"24px"}):null,l?Object(f.jsxs)(I,{className:"pair-name-container",children:[null===l||void 0===l?void 0:l.token0.symbol,":",null===l||void 0===l?void 0:l.token1.symbol]}):Object(f.jsx)(I,{className:"token-symbol-container",active:Boolean(r&&r.symbol),children:(R&&R.symbol&&R.symbol.length>20?R.symbol.slice(0,4)+"..."+R.symbol.slice(R.symbol.length-5,R.symbol.length):null===R||void 0===R?void 0:R.symbol)||Object(f.jsx)(j.e,{color:D.subText,children:Object(f.jsx)(a.b,{id:"Select Token"})})})]}),!o&&!r&&Object(f.jsx)(k,{}),!o&&r&&Object(f.jsx)(w,{size:16,onClick:e=>{e.stopPropagation(),n&&n()}})]})})})}),!o&&t&&Object(f.jsx)(m.a,{isOpen:E,onDismiss:z,onCurrencySelect:t,selectedCurrency:r,otherSelectedCurrency:b,showCommonBases:A})]})}},"./src/components/RewardTokenPrices/index.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r,s=n("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),o=n("./node_modules/@kyberswap/ks-sdk-core/dist/index.js"),i=n("./node_modules/react/index.js"),c=n("./node_modules/react-indiana-drag-scroll/dist/index.es.js"),a=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),d=n("./src/components/CurrencyLogo/index.tsx"),l=n("./src/constants/index.ts"),j=n("./src/constants/tokens.ts"),b=n("./src/hooks/index.ts"),u=n("./src/hooks/useThrottle.ts"),p=n("./src/state/tokenPrices/hooks.ts"),x=n("./src/utils/index.ts"),m=n("./node_modules/react/jsx-runtime.js"),h=a.default.div.withConfig({displayName:"RewardTokenPrices__ScrollContainerWithGradient",componentId:"sc-1l03pbq-0"})(["position:relative;display:flex;justify-content:flex-end;align-items:center;height:fit-content;width:100%;max-width:calc(100vw - 32px);"," &.left-visible:after,&.right-visible:before{content:'';display:block;z-index:2;pointer-events:none;position:absolute;inset:0 0 auto auto;width:40px;height:100%;top:50%;transform:translateY(-50%);}&.left-visible:after{background:linear-gradient( to right,",",transparent );left:0;}&.right-visible:before{background:linear-gradient( to left,",",transparent );right:0;}"],(e=>e.theme.mediaWidth.upToSmall(r||(r=Object(s.a)(["\n    justify-content: flex-start;\n  "])))),(e=>{var t=e.theme,n=e.backgroundColor;return null!==n&&void 0!==n?n:t.buttonBlack}),(e=>{var t=e.theme,n=e.backgroundColor;return null!==n&&void 0!==n?n:t.buttonBlack})),O=a.default.div.withConfig({displayName:"RewardTokenPrices__RewardTokensList",componentId:"sc-1l03pbq-1"})(["display:flex;"]),f=a.default.div.withConfig({displayName:"RewardTokenPrices__TokenWrapper",componentId:"sc-1l03pbq-2"})(["display:flex;align-items:center;padding-left:",";padding-right:",";border-left:",";white-space:nowrap;"],(e=>e.isFirstItem?"0":"20px"),(e=>e.isLastItem?"0":"20px"),(e=>{var t=e.theme;return e.isFirstItem?"none":"1px solid ".concat(t.border)})),g=a.default.span.withConfig({displayName:"RewardTokenPrices__TokenSymbol",componentId:"sc-1l03pbq-3"})(["margin-left:4px;font-size:14px;font-weight:400;margin-right:4px;"]);t.b=e=>{var t=e.style,n=void 0===t?{}:t,r=e.rewardTokens,s=Object(b.b)().chainId,a=r.findIndex((e=>e.wrapped.address===l.db))>=0,v=r.findIndex((e=>e.wrapped.address===o.WETH[s].address))>=0;(r=a&&v?r.filter((e=>e.wrapped.address!==o.WETH[s].address)):r).sort((function(e,t){return e.wrapped.address===j.f[s].address?-1:t.wrapped.address===j.f[s].address?1:e.wrapped.address===l.db||e.wrapped.address===o.WETH[s].address?-1:t.wrapped.address===l.db||t.wrapped.address===o.WETH[s].address?1:0}));var y=Object(p.a)(r.map((e=>e.wrapped.address))),k=Object(i.useRef)(null),w=Object(i.useRef)(null),C=Object(i.useRef)(null),S=Object(u.a)((()=>{var e,t,n,r,s,o=k.current;(null===o||void 0===o?void 0:o.scrollLeft)>0?null===(t=C.current)||void 0===t||t.classList.add("left-visible"):null===(n=C.current)||void 0===n||n.classList.remove("left-visible");(null===(e=w.current)||void 0===e?void 0:e.scrollWidth)-(null===o||void 0===o?void 0:o.scrollLeft)>(null===o||void 0===o?void 0:o.clientWidth)?null===(r=C.current)||void 0===r||r.classList.add("right-visible"):null===(s=C.current)||void 0===s||s.classList.remove("right-visible")}),300);return Object(i.useEffect)((()=>(window.addEventListener("resize",S),()=>window.removeEventListener("resize",S))),[]),Object(i.useEffect)((()=>{S()}),[s]),r.length?Object(m.jsx)(h,{ref:C,style:n,children:Object(m.jsx)(c.a,{innerRef:k,vertical:!1,className:"scroll-container",onScroll:S,children:Object(m.jsx)(O,{ref:w,children:r.map(((e,t)=>{var n;return Object(m.jsxs)(f,{isFirstItem:0===t,isLastItem:t===(null===(n=r)||void 0===n?void 0:n.length)-1,children:[Object(m.jsx)(d.a,{currency:e,size:"20px"}),Object(m.jsxs)(g,{children:[e.symbol,":"]}),Object(m.jsx)("span",{children:y[e.wrapped.address]?Object(x.j)(y[e.wrapped.address],!0):"N/A"})]},t)}))})})}):null}},"./src/components/SwitchLocaleLink/index.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r,s=n("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),o=n("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),i=n("./node_modules/querystring-es3/index.js"),c=n("./node_modules/react/index.js"),a=n("./node_modules/react-router/dist/index.js"),d=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),l=n("./src/constants/locales.tsx"),j=n("./src/hooks/useActiveLocale.ts"),b=n("./src/hooks/useParsedQueryString.ts"),u=n("./src/theme/index.tsx"),p=n("./node_modules/react/jsx-runtime.js"),x=Object(d.default)(u.k.small).withConfig({displayName:"SwitchLocaleLink__Container",componentId:"sc-1rrcg41-0"})(["opacity:0.6;:hover{opacity:1;}margin-top:1rem !important;",";"],(e=>e.theme.mediaWidth.upToMedium(r||(r=Object(o.a)(["\n    display: none;\n  "])))));function m(){var e=Object(j.b)(),t=Object(c.useMemo)((()=>Object(j.a)()),[]),n=Object(a.k)(),r=Object(b.a)();if(t&&(t!==l.a||e!==l.a)){var o;o=e===t?l.a:t;var d=Object(s.a)(Object(s.a)({},n),{},{search:Object(i.stringify)(Object(s.a)(Object(s.a)({},r),{},{lng:o}))});return Object(p.jsxs)(x,{children:["KyberSwap available in: ",Object(p.jsx)(u.j,{to:d,children:Object(l.c)(o)})]})}return null}},"./src/components/YieldPools/FarmPoolSort.tsx":function(e,t,n){"use strict";var r,s=n("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),o=n("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),i=n("./node_modules/@lingui/react/esm/index.js"),c=n("./node_modules/react/index.js"),a=n("./node_modules/react-feather/dist/icons/x.js"),d=n("./node_modules/react-router/dist/index.js"),l=n("./node_modules/react-router-dom/dist/index.js"),j=n("./node_modules/react-use/esm/useMedia.js"),b=n("./node_modules/rebass/dist/index.esm.js"),u=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),p=n("./node_modules/@svgr/webpack/lib/index.js?-svgo,+titleProp,+ref!./src/assets/svg/down.svg"),x=n("./src/components/Button/index.tsx"),m=n("./src/components/Icons/index.ts"),h=n("./src/components/Modal/index.tsx"),O=n("./src/constants/styles.ts"),f=n("./src/constants/v2.ts"),g=n("./src/hooks/useOnClickOutside.tsx"),v=n("./src/hooks/useTheme.ts"),y=n("./node_modules/react/jsx-runtime.js"),k=u.default.div.withConfig({displayName:"FarmPoolSort__Wrapper",componentId:"sc-nex9n3-0"})(["padding:0 12px;background:",";font-size:12px;font-weight:500;line-height:16px;border-radius:999px;position:relative;display:flex;justify-content:space-between;align-items:center;min-width:140px;height:36px;cursor:pointer;",";"],(e=>e.theme.background),(e=>e.theme.mediaWidth.upToExtraSmall(r||(r=Object(o.a)(["\n    min-width: fit-content;\n    padding: 10px;\n  "]))))),w=u.default.div.withConfig({displayName:"FarmPoolSort__DropDownMenu",componentId:"sc-nex9n3-1"})(["position:absolute;top:52px;overflow:hidden;left:0;right:0;box-shadow:0px 4px 4px rgba(0,0,0,0.25);background:",";border-radius:16px;padding:8px 0;z-index:",";"],(e=>e.theme.tableHeader),O.a.POPOVER_CONTAINER),C=u.default.div.withConfig({displayName:"FarmPoolSort__Row",componentId:"sc-nex9n3-2"})(["padding:8px 12px;color:",";:hover{background:",";}"],(e=>e.theme.subText),(e=>e.theme.buttonBlack)),S=[{orderBy:"apr",orderDirection:"asc",label:Object(y.jsx)(i.b,{id:"AVG APR \u2191"})},{orderBy:"apr",orderDirection:"desc",label:Object(y.jsx)(i.b,{id:"AVG APR \u2193"})},{orderBy:"staked_tvl",orderDirection:"asc",label:Object(y.jsx)(i.b,{id:"STAKED TVL \u2191"})},{orderBy:"staked_tvl",orderDirection:"desc",label:Object(y.jsx)(i.b,{id:"STAKED TVL \u2193"})},{orderBy:"end_time",orderDirection:"asc",label:Object(y.jsx)(i.b,{id:"END TIME \u2191"})},{orderBy:"end_time",orderDirection:"desc",label:Object(y.jsx)(i.b,{id:"END TIME \u2193"})},{orderBy:"my_deposit",orderDirection:"asc",label:Object(y.jsx)(i.b,{id:"MY DEPOSIT \u2191"})},{orderBy:"my_deposit",orderDirection:"desc",label:Object(y.jsx)(i.b,{id:"MY DEPOSIT \u2193"})},{orderBy:"my_reward",orderDirection:"asc",label:Object(y.jsx)(i.b,{id:"MY REWARD \u2191"})},{orderBy:"my_reward",orderDirection:"desc",label:Object(y.jsx)(i.b,{id:"MY REWARD \u2193"})}];t.a=e=>{var t=e.className,n=Object(d.k)().pathname,r=Object(l.d)(),o=Object(s.a)(r,2),u=o[0],O=o[1],T=u.get("orderDirection")||"desc",I=u.get("orderBy")||(n.startsWith("/farms")?"my_deposit":"tvl"),A=Object(c.useRef)(null);Object(g.a)(A,(()=>{F(!1)}));var _=u.get("tab")||f.c.ELASTIC,L=n.startsWith("/farms")?S:(e=>[{orderBy:"apr",orderDirection:"asc",label:Object(y.jsx)(i.b,{id:"AVG APR \u2191"})},{orderBy:"apr",orderDirection:"desc",label:Object(y.jsx)(i.b,{id:"AVG APR \u2193"})},{orderBy:"tvl",orderDirection:"asc",label:e===f.c.CLASSIC?Object(y.jsx)(i.b,{id:"AMP LIQUIDITY \u2191"}):Object(y.jsx)(i.b,{id:"TVL \u2191"})},{orderBy:"tvl",orderDirection:"desc",label:e===f.c.CLASSIC?Object(y.jsx)(i.b,{id:"AMP LIQUIDITY \u2193"}):Object(y.jsx)(i.b,{id:"TVL \u2193"})},{orderBy:"volume",orderDirection:"asc",label:Object(y.jsx)(i.b,{id:"VOLUME \u2191"})},{orderBy:"volume",orderDirection:"desc",label:Object(y.jsx)(i.b,{id:"VOLUME \u2193"})},{orderBy:"fee",orderDirection:"asc",label:Object(y.jsx)(i.b,{id:"FEES \u2191"})},{orderBy:"fee",orderDirection:"desc",label:Object(y.jsx)(i.b,{id:"FEES \u2193"})},{orderBy:"my_liquidity",orderDirection:"asc",label:Object(y.jsx)(i.b,{id:"MY LIQUIDITY \u2191"})},{orderBy:"my_liquidity",orderDirection:"desc",label:Object(y.jsx)(i.b,{id:"MY LIQUIDITY \u2193"})}])(_),E=Object(v.a)(),P=L.find((e=>e.orderBy===I&&e.orderDirection===T)),D=Object(c.useState)(!1),z=Object(s.a)(D,2),R=z[0],F=z[1],M=Object(j.a)("(max-width: 576px)");return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(k,{className:t,role:"button",ref:A,onClick:e=>{e.stopPropagation(),F((e=>!e))},children:[Object(y.jsxs)(b.b,{alignItems:"center",children:[Object(y.jsx)(m.n,{size:20}),!M&&Object(y.jsx)(b.e,{marginLeft:"4px",children:null===P||void 0===P?void 0:P.label})]}),!M&&Object(y.jsx)(p.a,{style:{transform:"rotate(".concat(R?"180deg":"0",")")}}),R&&!M&&Object(y.jsx)(w,{children:L.map((e=>Object(y.jsx)(C,{role:"button",onClick:()=>{u.set("orderBy",e.orderBy),u.set("orderDirection",e.orderDirection),O(u)},children:e.label},e.orderBy+"_"+e.orderDirection)))})]}),Object(y.jsx)(h.a,{isOpen:R&&M,onDismiss:()=>F(!1),maxWidth:"808px",maxHeight:80,minHeight:50,children:Object(y.jsxs)(b.b,{flexDirection:"column",width:"100%",padding:"24px 20px",backgroundColor:E.background,children:[Object(y.jsxs)(b.b,{alignItems:"center",justifyContent:"space-between",children:[Object(y.jsx)(b.e,{fontWeight:"500",children:Object(y.jsx)(i.b,{id:"Sort"})}),Object(y.jsx)(x.d,{onClick:()=>F(!1),width:"36px",height:"36px",padding:"0",children:Object(y.jsx)(a.a,{color:E.text})})]}),L.map((e=>Object(y.jsx)(b.e,{fontWeight:"500",fontSize:"12px",padding:"12px 0",color:E.subText,role:"button",onClick:()=>{u.set("orderBy",e.orderBy),u.set("orderDirection",e.orderDirection),O(u)},children:e.label},e.orderBy+"_"+e.orderDirection)))]})})]})}},"./src/hooks/useIsTickAtLimit.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("./node_modules/@kyberswap/ks-sdk-elastic/dist/index.js"),s=n("./node_modules/react/index.js"),o=n("./src/state/mint/proamm/type.ts");function i(e,t,n){return Object(s.useMemo)((()=>({[o.a.LOWER]:e&&t?t===Object(r.nearestUsableTick)(r.TickMath.MIN_TICK,r.TICK_SPACINGS[e]):void 0,[o.a.UPPER]:e&&n?n===Object(r.nearestUsableTick)(r.TickMath.MAX_TICK,r.TICK_SPACINGS[e]):void 0})),[e,t,n])}},"./src/hooks/useProAmmPositions.ts":function(e,t,n){"use strict";n.d(t,"c",(function(){return x})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return h}));var r=n("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),s=n("./node_modules/@ethersproject/abi/lib.esm/abi-coder.js"),o=n("./node_modules/@ethersproject/address/lib.esm/index.js"),i=n("./node_modules/@ethersproject/bignumber/lib.esm/bignumber.js"),c=n("./node_modules/@ethersproject/solidity/lib.esm/index.js"),a=n("./node_modules/@kyberswap/ks-sdk-elastic/dist/index.js"),d=n("./node_modules/react/index.js"),l=n("./src/hooks/index.ts"),j=n("./src/state/farms/elastic/hooks.ts"),b=n("./src/state/multicall/hooks.ts"),u=n("./src/hooks/useContract.ts");function p(e){var t=Object(u.o)(),n=Object(l.b)(),i=n.isEVM,a=n.networkInfo,j=Object(d.useMemo)((()=>e?e.map((e=>[e])):[]),[e]),p=Object(b.d)(t,"positions",j),x=Object(d.useMemo)((()=>p.some((e=>e.loading))),[p]),m=Object(d.useMemo)((()=>p.some((e=>e.error))),[p]),h=Object(d.useMemo)((()=>{if(!x&&!m&&e&&i)return p.map(((t,n)=>{var r=e[n],i=t.result;return{tokenId:r,poolId:Object(o.getCreate2Address)(a.elastic.coreFactory,Object(c.keccak256)(["bytes"],[s.b.encode(["address","address","uint24"],[i.info.token0,i.info.token1,i.info.fee])]),a.elastic.initCodeHash),feeGrowthInsideLast:i.pos.feeGrowthInsideLast,nonce:i.pos.nonce,liquidity:i.pos.liquidity,operator:i.pos.operator,tickLower:i.pos.tickLower,tickUpper:i.pos.tickUpper,rTokenOwed:i.pos.rTokenOwed,fee:i.info.fee,token0:i.info.token0,token1:i.info.token1}}))}),[x,m,p,e,a,i]);return Object(d.useMemo)((()=>({loading:x,positions:null===h||void 0===h?void 0:h.map(((e,t)=>Object(r.a)(Object(r.a)({},e),{},{tokenId:j[t][0]})))})),[x,h,j])}function x(e){var t,n=p(e?[e]:void 0);return{loading:n.loading,position:null===(t=n.positions)||void 0===t?void 0:t[0]}}function m(e){var t,n=Object(u.o)(),r=Object(b.c)(n,"balanceOf",[null!==e&&void 0!==e?e:void 0]),s=r.loading,o=r.result,c=null===o||void 0===o||null===(t=o[0])||void 0===t?void 0:t.toNumber(),a=Object(d.useMemo)((()=>{if(c&&e){for(var t=[],n=0;n<c;n++)t.push([e,n]);return t}return[]}),[e,c]),l=Object(b.d)(n,"tokenOfOwnerByIndex",a),j=Object(d.useMemo)((()=>l.some((e=>e.loading))),[l]),x=p(Object(d.useMemo)((()=>e?l.map((e=>e.result)).filter((e=>!!e)).map((e=>i.a.from(e[0]))):[]),[e,l])),m=x.positions,h=x.loading;return Object(d.useMemo)((()=>({loading:j||s||h,positions:m})),[j,s,h,m])}var h=()=>{var e=Object(l.b)(),t=e.isEVM,n=e.networkInfo,r=Object(j.b)(),s=r.farms,o=r.loading,c=r.userFarmInfo,b=Object(d.useMemo)((()=>(null===s||void 0===s?void 0:s.map((e=>e.pools)).flat())||[]),[s]),u=Object(d.useMemo)((()=>{var e,t=Date.now()/1e3;return(null===s||void 0===s||null===(e=s.map((e=>e.pools)).flat())||void 0===e?void 0:e.filter((e=>e.endTime>=t)).map((e=>e.poolAddress.toLowerCase())))||[]}),[s]),p=Object(d.useMemo)((()=>t?Object.values(c||{}).map((e=>e.depositedPositions.map((t=>{var r,s=Object(a.computePoolAddress)({factoryAddress:n.elastic.coreFactory,tokenA:t.pool.token0,tokenB:t.pool.token1,fee:t.pool.fee,initCodeHashManualOverride:n.elastic.initCodeHash}),o=b.filter((e=>e.poolAddress.toLowerCase()===s.toLowerCase())),c=Object.values(e.joinedPositions).flat().filter((e=>e.nftId.toString()===t.nftId.toString())).reduce(((e,t)=>e.gt(i.a.from(t.liquidity.toString()))?e:i.a.from(t.liquidity.toString())),i.a.from(0))||i.a.from(0);return{nonce:i.a.from("1"),tokenId:t.nftId,operator:"0x0000000000000000000000000000000000000000",poolId:s,tickLower:t.tickLower,tickUpper:t.tickUpper,liquidity:i.a.from(t.liquidity.toString()),feeGrowthInsideLast:i.a.from(0),stakedLiquidity:c,rTokenOwed:i.a.from(0),token0:t.pool.token0.address,token1:t.pool.token1.address,fee:t.pool.fee,endTime:null===o||void 0===o||null===(r=o[0])||void 0===r?void 0:r.endTime,rewardPendings:[]}})).flat())).flat().filter((e=>e.liquidity.gt(0))):[]),[b,c,t,n]);return Object(d.useMemo)((()=>({farms:s,userFarmInfo:c,activeFarmAddress:u,farmPositions:p,loading:o})),[o,p,u,s,c])}},"./src/hooks/useThrottle.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("./node_modules/lodash/lodash.js"),s=n.n(r),o=n("./node_modules/react/index.js");function i(e,t){var n=Object(o.useRef)(e);return n.current=e,Object(o.useMemo)((()=>s.a.throttle(n.current,t)),[t])}},"./src/pages/Farm/index.tsx":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),s=n("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),o=n("./node_modules/@lingui/react/esm/index.js"),i=n("./node_modules/@lingui/core/esm/index.js"),c=n("./node_modules/querystring-es3/index.js"),a=n("./node_modules/react/index.js"),d=n.n(a),l=n("./node_modules/react-feather/dist/icons/share-2.js"),j=n("./node_modules/react-feather/dist/icons/search.js"),b=n("./node_modules/react-redux/es/index.js"),u=n("./node_modules/react-router/dist/index.js"),p=n("./node_modules/react-router-dom/dist/index.js"),x=n("./node_modules/react-use/esm/useMedia.js"),m=n("./node_modules/rebass/dist/index.esm.js"),h=n("./node_modules/@svgr/webpack/lib/index.js?-svgo,+titleProp,+ref!./src/assets/svg/play_circle_outline.svg"),O=n("./src/components/ClassicElasticTab.tsx"),f=n("./src/components/Loader/index.tsx"),g=n("./src/components/PoolsCurrencyInputPanel/index.tsx"),v=n("./src/components/RewardTokenPrices/index.tsx"),y=n("./src/components/Row/index.tsx"),k=n("./src/components/SwitchLocaleLink/index.tsx"),w=n("./src/components/Toggle/index.tsx"),C=n("./src/components/Tutorial/index.tsx"),S=n("./src/components/LocalLoader/index.tsx"),T=n("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),I=n("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),A=n("./node_modules/@ethersproject/bignumber/lib.esm/bignumber.js"),_=n("./src/constants/index.ts"),L=n("./src/constants/tokens.ts"),E=n("./src/hooks/index.ts"),P=n("./src/hooks/useMixpanel.ts");var D,z,R,F,M,N,W,B,H=n("./src/constants/messages.ts"),q=n("./src/hooks/useContract.ts"),U=n("./src/state/transactions/hooks.tsx"),V=n("./src/state/transactions/type.ts"),Y=n("./src/utils/index.ts"),G=e=>{var t=Object(U.g)(),n=Object(q.r)(e),r=Object(a.useCallback)(function(){var e=Object(I.a)(Object(T.a)().mark((function e(r,s){var o,i;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}throw new Error(H.a);case 2:return e.next=4,n.estimateGas.vestScheduleAtIndices(r,s);case 4:return o=e.sent,e.next=7,n.vestScheduleAtIndices(r,s,{gasLimit:Object(Y.b)(o)});case 7:return i=e.sent,t({hash:i.hash,type:V.c.CLAIM_REWARD,extraInfo:{summary:"reward"}}),e.abrupt("return",i.hash);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[n,t]),s=Object(a.useCallback)(function(){var e=Object(I.a)(Object(T.a)().mark((function e(r,s){var o,i;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}throw new Error(H.a);case 2:return e.next=4,n.estimateGas.vestScheduleForMultipleTokensAtIndices(r,s);case 4:return o=e.sent,e.next=7,n.vestScheduleForMultipleTokensAtIndices(r,s,{gasLimit:Object(Y.b)(o)});case 7:return i=e.sent,t({hash:i.hash,type:V.c.CLAIM_REWARD,extraInfo:{summary:"all rewards"}}),e.abrupt("return",i.hash);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[n,t]);return{vestAtIndex:r,vestMultipleTokensAtIndices:s}},K=n("./src/state/application/hooks.ts"),Z=n("./src/state/farms/classic/types.ts"),X=n("./src/state/hooks.ts"),Q=n("./src/state/tokenPrices/hooks.ts"),J=n("./src/state/vesting/actions.ts"),$=n("./src/utils/formatBalance.ts"),ee=n("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),te=n("./node_modules/@kyberswap/ks-sdk-core/dist/index.js"),ne=n("./node_modules/dayjs/dayjs.min.js"),re=n.n(ne),se=n("./node_modules/recharts/es6/chart/PieChart.js"),oe=n("./node_modules/recharts/es6/polar/Pie.js"),ie=n("./node_modules/recharts/es6/component/Cell.js"),ce=n("./node_modules/recharts/es6/component/Tooltip.js"),ae=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),de=n("./src/components/Button/index.tsx"),le=n("./src/components/CurrencyLogo/index.tsx"),je=n("./src/components/HoverDropdown/index.tsx"),be=n("./src/components/Icons/Wallet.tsx"),ue=n("./src/components/Tooltip/index.tsx"),pe=n("./src/hooks/useTheme.ts"),xe=n("./src/utils/numbers.ts"),me=n("./node_modules/react/jsx-runtime.js"),he=e=>{if(e<0)return i.a._("Full unlocked");var t=e/60/60/24;if(t>1)return t+" Days left";var n=e/60/60;return n<24&&n>1?n.toFixed(0)+" Hours left":(e/60).toFixed(0)+" Minutes left"},Oe=["#0086E7","#31CB9E","#FF50F8","#FF9901"],fe=ae.default.div.withConfig({displayName:"VestingCard__ScheduleCardWrapper",componentId:"sc-z19nm2-0"})(["padding:24px;border-radius:20px;background:",";border:1px solid ",";",""],(e=>e.theme.background),(e=>e.theme.border),(e=>e.theme.mediaWidth.upToSmall(D||(D=Object(ee.a)(["\n    padding: 16px;\n  "]))))),ge=ae.default.span.withConfig({displayName:"VestingCard__ScheduleCardContent",componentId:"sc-z19nm2-1"})(["background:",";padding:24px;border-radius:20px;display:flex;"," ",""],(e=>e.theme.buttonBlack),(e=>e.theme.mediaWidth.upToLarge(z||(z=Object(ee.a)(["\n    flex-direction: column;\n  "])))),(e=>e.theme.mediaWidth.upToSmall(R||(R=Object(ee.a)(["\n    background: ",";\n    padding: 0;\n  "])),(e=>e.theme.background)))),ve=ae.default.div.withConfig({displayName:"VestingCard__TotalHarvested",componentId:"sc-z19nm2-2"})(["flex:1;"]),ye=ae.default.div.withConfig({displayName:"VestingCard__DetailReward",componentId:"sc-z19nm2-3"})(["flex:2;border-left:1px solid ",";padding-left:24px;",""],(e=>e.theme.border),(e=>e.theme.mediaWidth.upToLarge(F||(F=Object(ee.a)(["\n    padding-left: 0;\n    border-left: none;\n    margin-top: 24px\n  "]))))),ke=Object(ae.default)(m.e).withConfig({displayName:"VestingCard__Title",componentId:"sc-z19nm2-4"})(["font-size:14px;font-weight:500;border-bottom:1px dashed ",";line-height:24px;color:",";"],(e=>{var t=e.theme;return e.noBorder?"transparent":t.border}),(e=>e.theme.subText)),we=ae.default.div.withConfig({displayName:"VestingCard__ProgressBar",componentId:"sc-z19nm2-5"})(["height:36px;margin-top:12px;background:",";position:relative;"],(e=>e.theme.border)),Ce=ae.default.div.withConfig({displayName:"VestingCard__Claimed",componentId:"sc-z19nm2-6"})(["height:36px;background:",";width:",";position:absolute;left:0;top:0;z-index:1;text-align:right;"],(e=>e.theme.darkGreen),(e=>e.width)),Se=Object(ae.default)(Ce).withConfig({displayName:"VestingCard__Unlocked",componentId:"sc-z19nm2-7"})(["background:",";"],(e=>e.theme.primary)),Te=ae.default.div.withConfig({displayName:"VestingCard__Dot",componentId:"sc-z19nm2-8"})(["width:16px;height:16px;border-radius:50%;background:",";"],(e=>e.color)),Ie=ae.default.div.withConfig({displayName:"VestingCard__Circle",componentId:"sc-z19nm2-9"})(["width:12px;height:12px;border-radius:50%;background:",";"],(e=>e.fill)),Ae=Object(ae.default)(m.b).withConfig({displayName:"VestingCard__SummaryWrapper",componentId:"sc-z19nm2-10"})(["gap:24px;width:100%;",""],(e=>e.theme.mediaWidth.upToSmall(M||(M=Object(ee.a)(["\n    flex-direction: column;\n    gap: 12px;\n  "]))))),_e=ae.default.div.withConfig({displayName:"VestingCard__SummaryItem",componentId:"sc-z19nm2-11"})(["border-radius:20px;flex:1;padding:16px 24px;background:",";",""],(e=>{var t=e.theme;return e.colorful?t.radialGradient:t.background}),(e=>{var t=e.theme,n=e.colorful;return t.mediaWidth.upToSmall(N||(N=Object(ee.a)(["\n    background: ",";\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n  "])),n?t.radialGradient:t.buttonBlack)})),Le=Object(ae.default)(m.a).withConfig({displayName:"VestingCard__PieChartLengd",componentId:"sc-z19nm2-12"})(["margin:24px auto 0 !important;display:grid;grid-template-columns:1fr 1fr;gap:24px;width:fit-content;",""],(e=>e.theme.mediaWidth.upToExtraSmall(W||(W=Object(ee.a)(["\n   grid-template-columns: 1fr;\n  "]))))),Ee=Object(ae.default)(m.b).withConfig({displayName:"VestingCard__VestingPercent",componentId:"sc-z19nm2-13"})(["",""],(e=>e.theme.mediaWidth.upToExtraSmall(B||(B=Object(ee.a)(["\n    flex-direction: column;\n  "])))));var Pe=function(e){var t=e.info,n=e.endTime,r=e.remainTime,s=e.onClaimAll,c=Object(pe.a)(),a=Object.values(t).reduce(((e,t)=>{var n=te.CurrencyAmount.fromRawAmount(t.token,t.vestableAmount.toString());return e+t.tokenPrice*parseFloat(n.toExact())}),0),d=Object.values(t).reduce(((e,t)=>{var n=te.CurrencyAmount.fromRawAmount(t.token,t.totalAmount.toString());return e+t.tokenPrice*parseFloat(n.toExact())}),0),l=Object.values(t).reduce(((e,t)=>{var n=te.CurrencyAmount.fromRawAmount(t.token,t.vestedAmount.toString());return e+t.tokenPrice*parseFloat(n.toExact())}),0),j=d-a-l,b=Object.values(t).some((e=>e.vestableAmount.gt(0))),u=100*(d?l/d:0),p=100*(d?a/d:0),x=Object.values(t).map((e=>{var t=e.tokenPrice*+te.CurrencyAmount.fromRawAmount(e.token,e.totalAmount.toString()).toExact();return{name:e.token.symbol,value:t,percent:t/d*100}}));return Object(me.jsx)(me.Fragment,{children:Object(me.jsx)(fe,{children:Object(me.jsxs)(ge,{children:[Object(me.jsxs)(ve,{children:[Object(me.jsx)(ue.a,{text:i.a._("The total amount of rewards you have harvested from the farms. Harvested rewards are locked initially and vested linearly over a short period."),children:Object(me.jsx)(ke,{children:Object(me.jsx)(o.b,{id:"Total Harvested Rewards"})})}),Object(me.jsx)(m.e,{marginTop:"8px",fontSize:"32px",fontWeight:"500",children:Object(xe.a)(d)}),Object(me.jsx)(ke,{marginTop:"28px",noBorder:!0,children:Object(me.jsx)(o.b,{id:"Rewards Breakdown"})}),Object(me.jsx)(se.a,{width:184,height:184,style:{margin:"auto",marginTop:"24px"},children:Object(me.jsxs)(oe.a,{data:x,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,fill:"#82ca9d",children:[x.map(((e,t)=>Object(me.jsx)(ie.a,{fill:Oe[t%Oe.length]},t))),Object(me.jsx)(ce.a,{})]})}),Object(me.jsx)(Le,{children:x.map(((e,t)=>Object(me.jsxs)(m.b,{fontSize:"12px",alignItems:"center",sx:{gap:"6px"},children:[Object(me.jsx)(Ie,{fill:Oe[t%Oe.length]}),Object(me.jsxs)(m.e,{children:[e.name,":"]}),Object(me.jsxs)(m.e,{color:c.subText,children:[Object(xe.a)(e.value)," (",e.percent.toFixed(2),"%)"]})]},t)))})]}),Object(me.jsxs)(ye,{children:[Object(me.jsxs)(Ae,{children:[Object(me.jsxs)(_e,{children:[Object(me.jsxs)(m.b,{alignItems:"center",color:c.subText,sx:{gap:"4px"},children:[Object(me.jsx)(be.a,{}),Object(me.jsx)(ue.a,{text:i.a._("The amount of rewards you have already claimed"),children:Object(me.jsx)(ke,{children:Object(me.jsx)(o.b,{id:"Claimed Rewards"})})})]}),Object(me.jsx)(je.a,{padding:"8px 0 0",content:Object(me.jsx)(m.e,{fontSize:"20px",fontWeight:"500",children:Object(xe.a)(l)}),dropdownContent:Object.values(t).length?Object.values(t).map((e=>Object(me.jsxs)(m.b,{alignItems:"center",paddingY:"4px",children:[Object(me.jsx)(le.a,{size:"16px",currency:e.token}),Object(me.jsxs)(m.e,{fontSize:"12px",marginLeft:"4px",children:[te.CurrencyAmount.fromRawAmount(e.token,e.vestedAmount.toString()).toSignificant(8)," ",e.token.symbol]})]},e.token.address))):""})]}),Object(me.jsxs)(_e,{colorful:!0,children:[Object(me.jsxs)(m.b,{alignItems:"center",color:c.subText,sx:{gap:"4px"},children:[Object(me.jsx)(be.a,{}),Object(me.jsx)(ue.a,{text:i.a._("The amount of rewards that are unlocked and can be claimed instantly as their vesting is over"),children:Object(me.jsx)(ke,{children:"Claimable Rewards"})})]}),Object(me.jsx)(je.a,{padding:"8px 0 0",content:Object(me.jsx)(m.e,{fontSize:"20px",fontWeight:"500",children:Object(xe.a)(a)}),dropdownContent:Object.values(t).map((e=>Object(me.jsxs)(m.b,{alignItems:"center",paddingY:"4px",children:[Object(me.jsx)(le.a,{size:"16px",currency:e.token}),Object(me.jsxs)(m.e,{fontSize:"12px",marginLeft:"4px",children:[te.CurrencyAmount.fromRawAmount(e.token,e.vestableAmount.toString()).toSignificant(8)," ",e.token.symbol]})]},e.token.address)))})]}),Object(me.jsxs)(_e,{children:[Object(me.jsxs)(m.b,{alignItems:"center",color:c.subText,sx:{gap:"4px"},children:[Object(me.jsx)(be.a,{}),Object(me.jsx)(ue.a,{text:i.a._("The amount of rewards that are locked as they are currently vesting"),children:Object(me.jsx)(ke,{children:Object(me.jsx)(o.b,{id:"Locked Rewards"})})})]}),Object(me.jsx)(je.a,{padding:"8px 0 0",content:Object(me.jsx)(m.e,{fontSize:"20px",fontWeight:"500",children:Object(xe.a)(j)}),dropdownContent:Object.values(t).length?Object.values(t).map((e=>Object(me.jsxs)(m.b,{alignItems:"center",paddingY:"4px",children:[Object(me.jsx)(le.a,{size:"16px",currency:e.token}),Object(me.jsxs)(m.e,{fontSize:"12px",marginLeft:"4px",children:[te.CurrencyAmount.fromRawAmount(e.token,e.totalAmount.sub(e.vestedAmount).sub(e.vestableAmount).toString()).toSignificant(8)," ",e.token.symbol]})]},e.token.address))):""})]})]}),Object(me.jsx)(m.e,{color:c.subText,fontSize:"14px",fontWeight:"500",marginTop:"36px",children:"Vesting Schedule"}),Object(me.jsxs)(m.b,{fontSize:"14px",marginTop:"20px",justifyContent:"space-between",children:[Object(me.jsx)(m.e,{children:"Full Unlock"}),Object(me.jsxs)(m.e,{color:c.subText,children:[re()(1e3*n).format("DD-MM-YYYY")," (",he(r),")"]})]}),Object(me.jsxs)(we,{children:[Object(me.jsx)(Se,{width:"".concat(u+p,"%")}),Object(me.jsx)(Ce,{width:u+"%"})]}),Object(me.jsxs)(Ee,{sx:{gap:"24px"},alignItems:"center",justifyContent:"center",fontSize:"12px",color:c.subText,marginTop:"12px",children:[Object(me.jsxs)(m.b,{children:[Object(me.jsx)(Te,{color:c.darkGreen}),Object(me.jsx)(m.e,{marginLeft:"4px",lineHeight:"16px",children:Object(me.jsx)(o.b,{id:"{0}% Claimed",values:{0:u.toFixed(0)}})})]}),Object(me.jsxs)(m.b,{children:[Object(me.jsx)(Te,{color:c.primary}),Object(me.jsx)(m.e,{marginLeft:"4px",lineHeight:"16px",children:Object(me.jsx)(o.b,{id:"{0}% claimable",values:{0:p.toFixed(0)}})})]}),Object(me.jsxs)(m.b,{children:[Object(me.jsx)(Te,{color:c.border}),Object(me.jsx)(m.e,{marginLeft:"4px",lineHeight:"16px",children:Object(me.jsx)(o.b,{id:"{0}% Locked",values:{0:Math.abs(100-p-u).toFixed(0)}})})]})]}),Object(me.jsx)(de.j,{style:{margin:"28px auto 0",fontSize:"14px",width:"fit-content",minWidth:"200px"},onClick:s,disabled:!b,children:Object(me.jsx)(o.b,{id:"Claim"})})]})]})})})},De=e=>{var t=e.rewardLockerAddress,n=e.schedules,r=e.rewardLockerVersion,o=Object(X.a)(),i=Object(K.c)(),c=Math.round(Date.now()/1e3),d=Object(E.b)(),l=d.account,j=d.chainId,b=G(t).vestMultipleTokensAtIndices,u=Object(P.c)().mixpanelHandler;n||(n=[]);var p={};n.forEach((e=>{var t=e[4].address===_.db?L.i[j].wrapped.address:e[4].address;p[t]||(p[t]=e[4])}));var x=Object(Q.a)(Object.keys(p)),m=n.reduce(((e,t)=>{if(!i)return e;var n=t[4].address===_.db?L.i[j].wrapped.address:t[4].address;e[n]||(e[n]={vestableIndexes:[],vestableAmount:A.a.from(0),totalAmount:A.a.from(0),unlockedAmount:A.a.from(0),vestedAmount:A.a.from(0),token:t[4],tokenPrice:x[n]}),e[n].totalAmount=e[n].totalAmount.add(A.a.from(t[2])),e[n].vestedAmount=e[n].vestedAmount.add(A.a.from(t[3]));var s=t[2].sub(t[3]).isZero(),o=(r===Z.b.V1?t[1].lt(i):t[1].lt(c))?t[2]:r===Z.b.V1?t[2].mul(A.a.from(i).sub(t[0])).div(t[1].sub(t[0])):t[2].mul(A.a.from(c).sub(t[0])).div(t[1].sub(t[0])),a=o.sub(A.a.from(t[3]));return s||e[n].vestableIndexes.push(t[5]),e[n].vestableAmount=e[n].vestableAmount.add(a.isNegative()?A.a.from(0):a),e[n].unlockedAmount=e[n].unlockedAmount.add(o),e}),{}),h=function(){var e=Object(I.a)(Object(T.a)().mark((function e(){var t,n,r;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l){e.next=2;break}return e.abrupt("return");case 2:return o(Object(J.d)(!0)),o(Object(J.a)(!0)),o(Object(J.e)("")),e.prev=5,t=Object.values(m).filter((e=>e.vestableIndexes.length>0)).map((e=>e.token.address)),n=Object.keys(m).reduce(((e,t)=>(m[t].vestableIndexes.length>0&&e.push(m[t].vestableIndexes),e)),[]),e.next=10,b(t,n);case 10:(r=e.sent)&&u(P.a.ALL_REWARDS_CLAIMED,{reward_tokens_and_amounts:Object.assign({},...Object.keys(m).map((e=>({[e]:Object($.a)(m[e].vestableAmount,m[e].token.decimals)}))))}),o(Object(J.e)(r)),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(5),console.error(e.t0),o(Object(J.f)(e.t0));case 19:o(Object(J.a)(!1));case 20:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(){return e.apply(this,arguments)}}(),O=function(e){var t=Object(E.e)().library,n=Object(a.useState)(),r=Object(s.a)(n,2),o=r[0],i=r[1];return Object(a.useEffect)((()=>{function n(){return(n=Object(I.a)(Object(T.a)().mark((function n(){var r;return Object(T.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=5;break}return n.next=3,null===t||void 0===t?void 0:t.getBlock(e);case 3:(r=n.sent)&&i(r.timestamp);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}o||function(){n.apply(this,arguments)}()}),[e,t,o]),o}(n.reduce(((e,t)=>t[6]===Z.b.V1&&e&&e<t[1].toNumber()?t[1].toNumber():e),i)),f=n.reduce(((e,t)=>t[6]===Z.b.V2&&e&&e<t[1].toNumber()?t[1].toNumber():e),O||0);return Object(me.jsx)(Pe,{info:m,endTime:f,remainTime:f-c,onClaimAll:h})},ze=ae.default.div.withConfig({displayName:"styleds__ScheduleGrid",componentId:"sc-8ux8oq-0"})(["display:grid;gap:24px;grid-template-columns:1fr;margin-top:16px;"]),Re=n("./src/state/vesting/hooks.ts"),Fe=n("./src/components/TransactionConfirmationModal/index.tsx");function Me(){var e=Object(b.e)((e=>e.vesting.showConfirm)),t=Object(b.e)((e=>e.vesting.attemptingTxn)),n=Object(b.e)((e=>e.vesting.txHash)),r=Object(b.e)((e=>e.vesting.error)),s=Object(X.a)(),o=Object(a.useCallback)((()=>{s(Object(J.d)(!1)),s(Object(J.a)(!1)),s(Object(J.e)("")),s(Object(J.f)(null))}),[s]),i=Object(a.useCallback)((()=>r?Object(me.jsx)(Fe.c,{onDismiss:o,message:r}):null),[o,r]);return Object(me.jsx)(Fe.e,{hash:n||"",isOpen:e,onDismiss:o,attemptingTxn:t,content:i,pendingText:""})}var Ne,We,Be,He=e=>{var t=e.loading,n=Object(Re.c)().schedulesByRewardLocker,r=Object(Re.b)(),s=Object(pe.a)(),i=Object.keys(r).every((e=>{var t;return!(null!==(t=n[e])&&void 0!==t&&t.length)}));return Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(Me,{}),i?t?Object(me.jsx)(S.a,{}):Object(me.jsx)(m.e,{textAlign:"center",color:s.subText,marginTop:"24px",children:Object(me.jsx)(o.b,{id:"No vesting schedule!"})}):Object(me.jsx)(ze,{children:Object.keys(r).filter((e=>{var t;return!(null===(t=n[e])||void 0===t||!t.length)})).map((e=>Object(me.jsx)(De,{rewardLockerAddress:e,schedules:n[e],rewardLockerVersion:r[e]},e)))})]})},qe=e=>{var t=e.schedules,n=t.reduce(((e,t)=>e<t.endTime?t.endTime:e),0),r=Math.floor(+new Date/1e3),s=n-r,o=Object(P.c)().mixpanelHandler,i=t.reduce(((e,t,n)=>{var s=t.token.isNative?_.db:t.token.address;e[s]||(e[s]={vestableIndexes:[],vestableAmount:A.a.from(0),totalAmount:A.a.from(0),unlockedAmount:A.a.from(0),vestedAmount:A.a.from(0),token:t.token,tokenPrice:t.tokenPrice}),e[s].totalAmount=e[s].totalAmount.add(A.a.from(t.quantity)),e[s].vestedAmount=e[s].vestedAmount.add(A.a.from(t.vestedQuantity));var o=t.quantity.sub(t.vestedQuantity).isZero(),i=r>t.endTime,c=A.a.from(t.endTime-t.startTime),a=i?t.quantity:t.quantity.mul(A.a.from(r).sub(A.a.from(t.startTime))).div(c);e[s].unlockedAmount=e[s].unlockedAmount.add(a);var d=a.sub(A.a.from(t.vestedQuantity));return e[s].vestableAmount=e[s].vestableAmount.add(d.isNegative()?A.a.from(0):d),o||e[s].vestableIndexes.push(t.index),e}),{}),c=Object(U.g)(),a=function(){var e=Object(I.a)(Object(T.a)().mark((function e(){var n,r,s,a,d;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null===t||void 0===t?void 0:t[0].contract){e.next=3;break}return e.abrupt("return");case 3:return r=Object.keys(i),s=r.map((e=>i[e].vestableIndexes)),r=r.filter(((e,t)=>!!s[t].length)),s=s.filter((e=>!!e.length)),e.next=9,n.estimateGas.vestScheduleForMultipleTokensAtIndices(r,s);case 9:return a=e.sent,e.next=12,n.vestScheduleForMultipleTokensAtIndices(r,s,{gasLimit:Object(Y.b)(a)});case 12:(d=e.sent)&&(c({hash:d.hash,type:V.c.CLAIM_REWARD,extraInfo:{summary:"all rewards"}}),o(P.a.ELASTIC_ALL_REWARD_CLAIMED,{reward_tokens_and_qty:Object.assign({},...Object.keys(i).map((e=>({[e]:Object($.a)(i[e].vestableAmount,i[e].token.decimals)}))))}));case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(me.jsx)(Pe,{info:i,endTime:n,remainTime:s,onClaimAll:a})},Ue=()=>{var e=Object(pe.a)(),t=Object(Re.a)(),n=t.loading,r=t.schedulesByRewardLocker,s={value:0,amountByAddress:{}},i={value:0,amountByAddress:{}},c={value:0,amountByAddress:{}},a={value:0,amountByAddress:{}},d=Math.floor(+new Date/1e3);Object.values(r).forEach((e=>{e.forEach((e=>{var t=e.token.isNative?e.token.symbol:e.token.address,n=te.CurrencyAmount.fromRawAmount(e.token,e.quantity.toString()),r=e.tokenPrice*parseFloat(n.toExact());s.value+=r,s.amountByAddress[t]?s.amountByAddress[t]=s.amountByAddress[t].add(n):s.amountByAddress[t]=n;var o=te.CurrencyAmount.fromRawAmount(e.token,e.vestedQuantity.toString()),l=e.tokenPrice*parseFloat(o.toExact());a.value+=l,a.amountByAddress[t]?a.amountByAddress[t]=a.amountByAddress[t].add(o):a.amountByAddress[t]=o;var j=d>e.endTime,b=A.a.from(e.endTime-e.startTime),u=j?e.quantity:e.quantity.mul(A.a.from(d).sub(A.a.from(e.startTime)).div(b)),p=te.CurrencyAmount.fromRawAmount(e.token,u.sub(A.a.from(e.vestedQuantity)).toString()),x=e.tokenPrice*parseFloat(p.toExact());c.value+=x,c.amountByAddress[t]?c.amountByAddress[t]=c.amountByAddress[t].add(p):c.amountByAddress[t]=p;var m=te.CurrencyAmount.fromRawAmount(e.token,e.quantity.sub(u).toString());i.value+=e.tokenPrice*parseFloat(m.toExact()),i.amountByAddress[t]?i.amountByAddress[t]=i.amountByAddress[t].add(m):i.amountByAddress[t]=m}))}));var l=Object.keys(r).every((e=>{var t;return!(null!==(t=r[e])&&void 0!==t&&t.length)}));return Object(me.jsx)(me.Fragment,{children:l?n?Object(me.jsx)(S.a,{}):Object(me.jsx)(m.e,{textAlign:"center",color:e.subText,marginTop:"24px",children:Object(me.jsx)(o.b,{id:"No vesting schedule!"})}):Object(me.jsx)(ze,{children:Object.keys(r).map((e=>r[e].length?Object(me.jsx)(qe,{schedules:r[e]},e):null))})})},Ve=n("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),Ye=n("./node_modules/@svgr/webpack/lib/index.js?-svgo,+titleProp,+ref!./src/assets/svg/down.svg"),Ge=n("./src/components/InfoHelper/index.tsx"),Ke=n("./src/components/ShareModal/index.tsx"),Ze=(e,t)=>{var n,r,s,o;return{contract:null===e||void 0===e?void 0:e.id,tokenAddressIn:null===e||void 0===e||null===(n=e.token0)||void 0===n?void 0:n.id,tokenAddressOut:null===e||void 0===e||null===(r=e.token1)||void 0===r?void 0:r.id,tokenSymbolIn:null===e||void 0===e||null===(s=e.token0)||void 0===s?void 0:s.symbol,tokenSymbolOut:null===e||void 0===e||null===(o=e.token1)||void 0===o?void 0:o.symbol,rewards:t.map((e=>{var t;return{tokenSymbol:null!==(t=e.token.symbol)&&void 0!==t?t:"",tokenAmount:Object($.f)(e.amount,e.token.decimals),tokenAddress:e.token.address}}))}},Xe=e=>{var t=Object(U.g)(),n=Object(q.h)(e),r=Object(a.useCallback)(Object(I.a)(Object(T.a)().mark((function e(){var t;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===n||void 0===n?void 0:n.poolLength();case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),[n]),s=Object(a.useCallback)(function(){var e=Object(I.a)(Object(T.a)().mark((function e(t){var r;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===n||void 0===n?void 0:n.getPoolInfo(t);case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),[n]),o=Object(a.useCallback)(Object(I.a)(Object(T.a)().mark((function e(){var t;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===n||void 0===n?void 0:n.getRewardTokens();case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),[n]),i=Object(a.useCallback)(function(){var e=Object(I.a)(Object(T.a)().mark((function e(r,s,o){var i,c,a,d=arguments;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=d.length>3&&void 0!==d[3]&&d[3],n){e.next=3;break}throw new Error(H.a);case 3:return e.next=5,n.estimateGas.deposit(r,s,i);case 5:return c=e.sent,e.next=8,n.deposit(r,s,i,{gasLimit:Object(Y.b)(c)});case 8:return a=e.sent,t({hash:a.hash,type:V.c.STAKE,extraInfo:{tokenAddress:"",tokenSymbol:"".concat(o," Tokens"),tokenAmount:Object($.f)(s)}}),e.abrupt("return",a.hash);case 11:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),[t,n]),c=Object(a.useCallback)(function(){var e=Object(I.a)(Object(T.a)().mark((function e(r,s,o){var i,c;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}throw new Error(H.a);case 2:return e.next=4,n.estimateGas.withdraw(r,s);case 4:return i=e.sent,e.next=7,n.withdraw(r,s,{gasLimit:Object(Y.b)(i)});case 7:return c=e.sent,t({hash:c.hash,type:V.c.UNSTAKE,extraInfo:{tokenAddress:"",tokenSymbol:"".concat(o," Tokens"),tokenAmount:Object($.f)(s)}}),e.abrupt("return",c.hash);case 10:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),[t,n]),d=Object(a.useCallback)(function(){var e=Object(I.a)(Object(T.a)().mark((function e(r,s,o){var i,c;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}throw new Error(H.a);case 2:return e.next=4,n.estimateGas.harvest(r);case 4:return i=e.sent,e.next=7,n.harvest(r,{gasLimit:Object(Y.b)(i)});case 7:return c=e.sent,t({hash:c.hash,type:V.c.HARVEST,extraInfo:Ze(s,o)}),e.abrupt("return",c.hash);case 10:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),[t,n]),l=Object(a.useCallback)(function(){var e=Object(I.a)(Object(T.a)().mark((function e(r,s){var o,i;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}throw new Error(H.a);case 2:return e.next=4,n.estimateGas.harvestMultiplePools(r);case 4:return o=e.sent,e.next=7,n.harvestMultiplePools(r,{gasLimit:Object(Y.b)(o)});case 7:return i=e.sent,t({hash:i.hash,type:V.c.HARVEST,extraInfo:Ze(null,s)}),e.abrupt("return",i.hash);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[t,n]);return{masterChefContract:n,getPoolLength:r,getPoolInfo:s,getRewardTokens:o,deposit:i,withdraw:c,harvest:d,harvestMultiplePools:l}},Qe=n("./src/state/application/actions.ts"),Je=n("./src/state/farms/classic/actions.ts"),$e=n("./src/state/user/hooks.tsx"),et=n("./src/state/user/reducer.ts"),tt=n("./src/theme/index.tsx"),nt=n("./src/utils/dmm.ts"),rt=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(0===e)return"0 Days";var n,r=e%60,s=(e-r)/60,o=s%60,i=(s-o)/60,c=i%24,a=(i-c)/24,d="";!a&&t||(d+=a+(n=(t?" Day":"D")+(t&&a>1?"s ":" "))),!c&&t||(d+=c+(n=(t?" Hour":"H")+(t&&c>1?"s ":" "))),!o&&t||(d+=o+(n=(t?" Minute":"M")+(t&&o>1?"s ":" ")));var l=0===a&&0===c&&0===o;return l&&(n=(t?" Second":"S")+(t&&r>1?"s ":" "),d+=Math.trunc(r)+n),d},st=n("./node_modules/react-feather/dist/icons/x.js"),ot=n("./src/components/Column/index.tsx"),it=e=>{var t=e.width,n=e.height,r=e.color;return Object(me.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t||16,height:n||16,viewBox:"0 0 16 16",children:[Object(me.jsx)("path",{d:"M10.5912 3.05122L8.23457 5.40789C8.10441 5.53804 8.10441 5.74907 8.23457 5.87922L10.1199 7.76456C10.2501 7.89471 10.4611 7.89471 10.5912 7.76456L12.9479 5.40789C13.0781 5.27773 13.0781 5.06671 12.9479 4.93655L11.0626 3.05122C10.9324 2.92106 10.7214 2.92106 10.5912 3.05122Z",fill:r||"currentColor"}),Object(me.jsx)("path",{d:"M9.85967 2.84091C7.5575 0.834737 5.7628 0.607004 5.68003 0.597737C5.61138 0.590119 5.54206 0.604016 5.48165 0.637505C5.42124 0.670995 5.37273 0.722424 5.34282 0.784683C5.3129 0.846941 5.30307 0.916954 5.31468 0.985044C5.32628 1.05313 5.35875 1.11594 5.4076 1.16477L8.47173 4.22891L9.85967 2.84091Z",fill:r||"currentColor"}),Object(me.jsx)("path",{d:"M15.4022 10.3203C15.3929 10.2375 15.1652 8.44301 13.1594 6.14111L11.7715 7.52908L14.8351 10.5927C14.884 10.6416 14.9468 10.6741 15.0149 10.6857C15.083 10.6973 15.153 10.6874 15.2152 10.6575C15.2775 10.6276 15.3289 10.5791 15.3624 10.5187C15.3959 10.4583 15.4098 10.389 15.4022 10.3203Z",fill:r||"currentColor"}),Object(me.jsx)("path",{d:"M8.00024 6.58594L0.693332 13.8927C0.630821 13.9552 0.595703 14.04 0.595703 14.1284C0.595703 14.2168 0.630821 14.3016 0.693332 14.3641L1.63627 15.3068C1.69878 15.3693 1.78356 15.4044 1.87197 15.4044C1.96037 15.4044 2.04515 15.3693 2.10767 15.3068L9.41444 8.00014L8.00024 6.58594Z",fill:r||"currentColor"})]})},ct=n("./src/components/Modal/index.tsx"),at=n("./src/hooks/useOnClickOutside.tsx"),dt=ae.default.div.withConfig({displayName:"styled__ModalContentWrapper",componentId:"sc-5x7u0u-0"})(["display:flex;flex-direction:column;width:100%;padding:24px 20px;background-color:",";"],(e=>e.theme.background)),lt=Object(ae.default)(m.e).withConfig({displayName:"styled__Title",componentId:"sc-5x7u0u-1"})(["font-size:20px;line-height:32px;font-weight:500;border-bottom:0.5px dashed ",";"],(e=>{var t=e.theme;return e.border?t.subText:"transparent"})),jt=ae.default.div.withConfig({displayName:"styled__TableHeader",componentId:"sc-5x7u0u-2"})(["display:grid;grid-template-columns:18px 90px 1.5fr repeat(3,1fr);border-top-left-radius:8px;border-top-right-radius:8px;background:",";gap:16px;font-size:12px;text-transform:uppercase;margin-top:16px;padding:16px;font-weight:500;color:",";align-items:center;",""],(e=>e.theme.tableHeader),(e=>e.theme.subText),(e=>e.theme.mediaWidth.upToSmall(Ne||(Ne=Object(ee.a)(["\n    grid-template-columns: 18px 1fr 1fr;\n   "]))))),bt=Object(ae.default)(jt).withConfig({displayName:"styled__TableRow",componentId:"sc-5x7u0u-3"})(["background:",";border-radius:0;text-transform:none;margin-top:0;font-weight:400;color:",";border-bottom:1px solid ",";"],(e=>e.theme.background),(e=>e.theme.text),(e=>e.theme.border)),ut=ae.default.div.withConfig({displayName:"styled__Select",componentId:"sc-5x7u0u-4"})(["cursor:pointer;width:180px;border-radius:4px;background:",";display:flex;justify-content:space-between;align-items:center;position:relative;font-size:12px;color:",";padding:12px;",""],(e=>e.theme.buttonBlack),(e=>e.theme.subText),(e=>e.theme.mediaWidth.upToSmall(We||(We=Object(ee.a)(["\n    width: 100%;\n    margin-top: 16px;\n  "]))))),pt=ae.default.div.withConfig({displayName:"styled__SelectMenu",componentId:"sc-5x7u0u-5"})(["position:absolute;top:40px;left:0;width:180px;border-radius:8px;filter:drop-shadow(0px 4px 12px rgba(0,0,0,0.36));z-index:10;background:",";",""],(e=>e.theme.background),(e=>e.theme.mediaWidth.upToMedium(Be||(Be=Object(ee.a)(["\n    width: 100%;\n  "]))))),xt=ae.default.div.withConfig({displayName:"styled__SelectOption",componentId:"sc-5x7u0u-6"})(["padding:12px;cursor:pointer;font-size:12px;color:",";"],(e=>e.theme.subText)),mt=ae.default.div.withConfig({displayName:"styled__DropdownIcon",componentId:"sc-5x7u0u-7"})(["transform:rotate(",");height:0;border-left:4px solid transparent;border-right:4px solid transparent;border-top:4px solid ",";transition:transform 300ms;transform:rotate(",");"],(e=>e.rotate?"-180deg":"0"),(e=>e.theme.text),(e=>e.rotate?"-180deg":"0")),ht=n("./src/components/YieldPools/styleds.tsx"),Ot=e=>{var t=e.totalRewards,n=e.onHarvestAll,r=Object(pe.a)(),i=Object(a.useRef)(),c=Object(a.useState)(!1),d=Object(s.a)(c,2),l=d[0],j=d[1],b=Object(nt.l)(t),u=Object(x.a)("(min-width:500px)"),p=Object(E.b)().chainId,h=t.some((e=>null===e||void 0===e?void 0:e.amount.gt(A.a.from("0"))));Object(at.a)(i,l?()=>{h&&j((e=>!e))}:void 0);var O=Object(a.useState)(!1),f=Object(s.a)(O,2),g=f[0],v=f[1];return Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(ct.a,{isOpen:g,onDismiss:()=>v(!1),children:Object(me.jsxs)(dt,{children:[Object(me.jsxs)(m.b,{alignItems:"center",justifyContent:"space-between",marginBottom:"1rem",children:[Object(me.jsx)(m.e,{fontSize:"20px",fontWeight:"500",children:"Harvest All"}),Object(me.jsx)(de.d,{onClick:()=>v(!1),width:"36px",height:"36px",padding:"0",children:Object(me.jsx)(st.a,{color:r.text})})]}),Object(me.jsxs)(m.b,{justifyContent:"space-between",alignItems:"center",marginTop:"1rem",children:[Object(me.jsx)(m.e,{color:r.subText,fontSize:"0.75rem",children:Object(me.jsx)(o.b,{id:"My Rewards"})}),Object(me.jsx)(m.e,{fontSize:"0.75rem",fontWeight:"500",children:Object(Y.i)(b.toString(),!0)})]}),Object(me.jsx)(ht.u,{children:t.map(((e,n)=>Object(me.jsxs)(a.Fragment,{children:[Object(me.jsxs)(m.b,{alignItems:"center",fontSize:"12px",sx:{gap:"4px"},children:[p&&e.token.wrapped.address&&Object(me.jsx)(le.a,{currency:e.token,size:"16px"}),Object($.f)(e.amount,e.token.decimals)]}),n!==t.length-1&&Object(me.jsx)(m.e,{color:r.subText,children:"|"})]},e.token.wrapped.address)))}),Object(me.jsx)(de.j,{margin:"8px 0 0",onClick:()=>{null===n||void 0===n||n(),v(!1)},children:"Harvest"})]})}),u?Object(me.jsxs)(y.c,{children:[Object(me.jsxs)(y.c,{fontSize:"14px",gap:"4px",color:r.subText,width:"max-content",fontWeight:500,marginRight:"8px",children:[Object(me.jsx)(it,{width:16,height:16}),Object(me.jsx)(o.b,{id:"Rewards"})]}),Object(me.jsx)(je.a,{padding:"4px 0",content:Object(me.jsx)(m.e,{fontSize:"20px",fontWeight:500,children:Object(xe.a)(b)}),dropdownContent:t.some((e=>{var t;return null===e||void 0===e||null===(t=e.amount)||void 0===t?void 0:t.gt(0)}))?Object(me.jsx)(ot.c,{gap:"8px",children:t.map((e=>e&&e.amount&&!e.amount.lte(0)?Object(me.jsxs)(y.f,{children:[Object(me.jsx)(le.a,{currency:e.token,size:"16px"}),Object(me.jsxs)(m.e,{marginLeft:"4px",fontSize:"12px",children:[Object($.a)(e.amount,e.token.decimals)," ",e.token.symbol]})]},e.token.address):null))}):"",style:{marginRight:"24px"}}),Object(me.jsxs)(de.j,{width:"160px",onClick:()=>v(!0),disabled:!h,padding:"10px 12px",height:"fit-content",children:[Object(me.jsx)(it,{}),Object(me.jsx)(m.e,{marginLeft:"4px",children:Object(me.jsx)(o.b,{id:"Harvest All"})})]})]}):Object(me.jsxs)(ot.c,{gap:"12px",style:{flex:"1",borderRadius:"20px",background:r.buttonBlack,padding:"16px",alignItems:"stretch"},children:[Object(me.jsxs)(y.b,{children:[Object(me.jsxs)(y.c,{fontSize:"14px",gap:"4px",color:r.subText,width:"max-content",fontWeight:500,marginRight:"8px",children:[Object(me.jsx)(it,{width:16,height:16}),Object(me.jsx)(o.b,{id:"Rewards"})]}),Object(me.jsx)(je.a,{padding:"4px 0",content:Object(me.jsx)(m.e,{fontSize:"20px",fontWeight:500,children:Object(xe.a)(b)}),dropdownContent:t.some((e=>{var t;return null===e||void 0===e||null===(t=e.amount)||void 0===t?void 0:t.gt(0)}))?Object(me.jsx)(ot.c,{gap:"8px",children:t.map((e=>e&&e.amount&&!e.amount.lte(0)?Object(me.jsxs)(y.f,{children:[Object(me.jsx)(le.a,{currency:e.token,size:"16px"}),Object(me.jsxs)(m.e,{marginLeft:"4px",fontSize:"12px",children:[Object($.a)(e.amount,e.token.decimals)," ",e.token.symbol]})]},e.token.address):null))}):""})]}),Object(me.jsxs)(de.j,{onClick:()=>v(!0),disabled:!h,padding:"10px 12px",height:"fit-content",children:[Object(me.jsx)(it,{}),Object(me.jsx)(m.e,{marginLeft:"4px",children:Object(me.jsx)(o.b,{id:"Harvest All"})})]})]})]})},ft=n("./node_modules/@ethersproject/constants/lib.esm/bignumbers.js"),gt=n("./node_modules/ethers/lib.esm/index.js"),vt=n("./node_modules/jsbi/dist/jsbi-umd.js"),yt=n.n(vt),kt=n("./node_modules/react-feather/dist/icons/minus.js"),wt=n("./node_modules/react-feather/dist/icons/plus.js"),Ct=n("./src/components/Copy/index.tsx"),St=n("./src/components/CurrencyInputPanel/index.tsx"),Tt=n("./src/components/Divider/index.tsx"),It=n("./src/components/Dots.tsx"),At=n("./src/components/DoubleLogo/index.tsx"),_t=n("./src/components/Icons/index.ts"),Lt=n("./src/hooks/Tokens.ts"),Et=n("./src/hooks/useApproveCallback.ts"),Pt=n("./src/hooks/useParsedQueryString.ts"),Dt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:18,r=Object(a.useState)({value:A.a.from(0),decimals:18}),o=Object(s.a)(r,2),i=o[0],c=o[1],d=Object(E.b)(),l=d.account,j=Object(K.c)(),b=Object(q.h)(e),u=Object(a.useCallback)(Object(I.a)(Object(T.a)().mark((function e(){var r,s;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(){var e=Object(I.a)(Object(T.a)().mark((function e(t,r){var s,o;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===b||void 0===b?void 0:b.getUserInfo(t,r);case 3:return s=e.sent,o=s.amount,e.abrupt("return",{value:A.a.from(o),decimals:n});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{value:A.a.from(0),decimals:n});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),e.next=3,r(t,l);case 3:s=e.sent,c(s);case 5:case"end":return e.stop()}}),e)}))),[l,n,b,t]);return Object(a.useEffect)((()=>{l&&b&&u()}),[l,c,j,u,b]),i},zt=n("./src/hooks/useTokenBalance.ts"),Rt=n("./src/utils/currencyId.ts"),Ft=n("./src/components/YieldPools/FarmingPoolAPRCell.tsx"),Mt=(e,t)=>{var n=new te.Fraction(e.toString(),yt.a.exponentiate(yt.a.BigInt(10),yt.a.BigInt(t)));return n.equalTo(yt.a.BigInt(0))?"0":n.toFixed(18).replace(/\.?0+$/,"")},Nt=e=>{var t,n,r,c,j,b,u,h,O,f,g,v,k,w,C=e.farm,S=e.setSharedPoolAddress,L=Object(E.b)(),D=L.account,z=L.chainId,R=L.isEVM,F=Object(K.x)(),M=Math.floor(Date.now()/1e3),N=Object($e.A)(),W=Object(s.a)(N,1)[0],B=Object(P.c)().mixpanelHandler,H=Object(Pt.a)().type,q=void 0===H?"active":H,U=Object(x.a)("(min-width: 1200px)"),V=Object(X.a)(),G=Object(Lt.j)(null===(t=C.token0)||void 0===t?void 0:t.id),Z=Object(Lt.j)(null===(n=C.token1)||void 0===n?void 0:n.id),Q=Object(Y.t)(z,C.id),J=Object(zt.a)(Q),ee=J.value,ne=J.decimals,re=_.P[C.fairLaunchAddress],se=null!==(r=C.userData)&&void 0!==r&&r.stakedBalance?A.a.from(null===(c=C.userData)||void 0===c?void 0:c.stakedBalance):A.a.from(0),oe=Object(nt.k)([C]),ie=new te.Fraction(C.totalStake.toString(),yt.a.exponentiate(yt.a.BigInt(10),yt.a.BigInt(ne))).divide(new te.Fraction(gt.ethers.utils.parseUnits(C.totalSupply,ne).toString(),yt.a.exponentiate(yt.a.BigInt(10),yt.a.BigInt(ne)))),ce=new te.Fraction(ee.toString(),yt.a.exponentiate(yt.a.BigInt(10),yt.a.BigInt(ne))).divide(new te.Fraction(gt.ethers.utils.parseUnits(C.totalSupply,ne).toString(),yt.a.exponentiate(yt.a.BigInt(10),yt.a.BigInt(ne)))),ae=parseFloat(ce.toSignificant(6))*parseFloat(C.reserve0),je=parseFloat(ce.toSignificant(6))*parseFloat(C.reserve1),be=new te.Fraction(se.toString(),yt.a.exponentiate(yt.a.BigInt(10),yt.a.BigInt(ne))).divide(new te.Fraction(gt.ethers.utils.parseUnits(C.totalSupply,ne).toString(),yt.a.exponentiate(yt.a.BigInt(10),yt.a.BigInt(ne)))),he=parseFloat(be.toSignificant(6))*parseFloat(C.reserve0),Oe=parseFloat(be.toSignificant(6))*parseFloat(C.reserve1),fe=parseFloat(ce.toSignificant(6))*parseFloat(C.reserveUSD),ge=parseFloat(be.toSignificant(6))*parseFloat(C.reserveUSD),ve=parseFloat(ie.toSignificant(6))*parseFloat(C.reserveUSD),ye=Object(nt.j)(C,ve.toString()),ke=null!==C&&void 0!==C&&C.oneDayFeeUSD?null===C||void 0===C?void 0:C.oneDayFeeUSD:null===C||void 0===C?void 0:C.oneDayFeeUntracked,we=Object(nt.d)(null===C||void 0===C?void 0:C.reserveUSD,ke),Ce=ye;we<_.K&&(Ce+=we);var Se,Te,Ie=C.amp/1e4,Ae="".concat(C.token0.symbol,"-").concat(C.token1.symbol," LP"),_e=Object(a.useState)(""),Le=Object(s.a)(_e,2),Ee=Le[0],Pe=Le[1],De=Object(a.useState)(""),ze=Object(s.a)(De,2),Re=ze[0],Fe=ze[1],Me=Object(Y.t)(z,C.id),Ne=Object(zt.a)(Me),We=Dt(C.fairLaunchAddress,C.pid),Be=Object(nt.l)(oe),He=!We.value.gt(0),qe=Object(a.useMemo)((()=>te.TokenAmount.fromRawAmount(new te.Token(z,Me,Ne.decimals,Ae,""),ft.b.toString())),[Ne.decimals,z,Me,Ae]),Ue=Object(Et.b)(qe,R?C.fairLaunchAddress:void 0),Ve=Object(s.a)(Ue,2),Ye=Ve[0],Ge=Ve[1];try{Se=""===Ee||0===parseFloat(Ee)||gt.ethers.utils.parseUnits(Ee||"0",Ne.decimals).gt(Ne.value)}catch(Nt){Se=!0}try{Te=""===Re||0===parseFloat(Re)||gt.ethers.utils.parseUnits(Re||"0",We.decimals).gt(We.value)}catch(Nt){Te=!0}var Ke=!oe.some((e=>null===e||void 0===e?void 0:e.amount.gt(A.a.from("0")))),Ze=Xe(C.fairLaunchAddress),Qe=Ze.deposit,at=Ze.withdraw,lt=Ze.harvest,jt=function(){var e=Object(I.a)(Object(T.a)().mark((function e(t){var n;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D){e.next=2;break}return e.abrupt("return");case 2:return V(Object(Je.d)(!0)),V(Object(Je.a)(!0)),V(Object(Je.e)("")),e.prev=5,e.next=8,Qe(t,gt.ethers.utils.parseUnits(Ee,Ne.decimals),Ae,!1);case 8:n=e.sent,V(Object(Je.e)(n)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),console.error(e.t0),V(Object(Je.f)(e.t0));case 16:V(Object(Je.a)(!1));case 17:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}(),bt=function(){var e=Object(I.a)(Object(T.a)().mark((function e(t){var n;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D){e.next=2;break}return e.abrupt("return");case 2:return V(Object(Je.d)(!0)),V(Object(Je.a)(!0)),V(Object(Je.e)("")),e.prev=5,e.next=8,at(t,gt.ethers.utils.parseUnits(Re,We.decimals),Ae);case 8:n=e.sent,V(Object(Je.e)(n)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),console.error(e.t0),V(Object(Je.f)(e.t0));case 16:V(Object(Je.a)(!1));case 17:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}(),ut=function(){var e=Object(I.a)(Object(T.a)().mark((function e(t){var n;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D){e.next=2;break}return e.abrupt("return");case 2:return V(Object(Je.d)(!0)),V(Object(Je.a)(!0)),V(Object(Je.e)("")),e.prev=5,e.next=8,lt(t,C,oe);case 8:(n=e.sent)&&B(P.a.INDIVIDUAL_REWARD_HARVESTED,{reward_tokens_and_amounts:JSON.stringify(oe&&Object.assign({},...oe.map((e=>{var t;return(null===e||void 0===e||null===(t=e.token)||void 0===t?void 0:t.symbol)&&{[e.token.symbol]:Object($.f)(e.amount,e.token.decimals)}}))))}),V(Object(Je.e)(n)),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(5),console.error(e.t0),V(Object(Je.f)(e.t0));case 17:V(Object(Je.a)(!1));case 18:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t){return e.apply(this,arguments)}}(),pt=Object(pe.a)(),xt=Object(a.useState)(null),mt=Object(s.a)(xt,2),Ot=mt[0],vt=mt[1];return Object(me.jsxs)(me.Fragment,{children:[W===et.a.LIST&&U&&Object(me.jsx)(me.Fragment,{children:Object(me.jsxs)(ht.C,{joined:!!ge,children:[Object(me.jsxs)(ot.c,{gap:"12px",children:[Object(me.jsxs)(y.f,{children:[Object(me.jsx)(At.b,{currency0:G,currency1:Z,size:16}),Object(me.jsxs)(p.b,{to:"/add/".concat(Object(Rt.b)(null===(j=C.token0)||void 0===j?void 0:j.id,z),"/").concat(Object(Rt.b)(null===(b=C.token1)||void 0===b?void 0:b.id,z),"/").concat(C.id),style:{textDecoration:"none",marginRight:"6px"},children:[null===(u=C.token0)||void 0===u?void 0:u.symbol," - ",null===(h=C.token1)||void 0===h?void 0:h.symbol]}),Object(me.jsxs)(m.e,{color:pt.subText,fontSize:"12px",lineHeight:"16px",style:{backgroundColor:pt.blue+"20",color:pt.blue,borderRadius:"16px",padding:"2px 4px",whiteSpace:"nowrap",flex:"0 0 71px"},children:["AMP = ",Ie]})]}),Object(me.jsxs)(y.f,{children:[Object(me.jsxs)(y.c,{color:pt.subText,gap:"6px",marginRight:"16px",children:[Object(me.jsx)(Ct.a,{toCopy:C.id}),Object(me.jsx)(m.e,{fontSize:"12px",lineHeight:"16px",children:Object(Y.A)(z,C.id,3)})]}),Object(me.jsxs)(y.c,{onClick:()=>{S(C.id)},sx:{cursor:"pointer"},role:"button",gap:"6px",children:[Object(me.jsx)(l.a,{size:"14px",color:pt.subText,fill:pt.subText}),Object(me.jsx)(m.e,{fontSize:"12px",lineHeight:"16px",color:pt.subText,children:Object(me.jsx)(o.b,{id:"Share"})})]})]})]}),Object(me.jsx)(y.f,{children:Object(me.jsx)(m.e,{fontSize:"14px",fontWeight:400,children:Object(xe.a)(ve)})}),Object(me.jsxs)(y.f,{color:pt.apr,gap:"4px",children:[Ce.toFixed(2),"%",0!==Ce&&Object(me.jsx)(ue.a,{width:"fit-content",placement:"right",text:Object(me.jsx)(Ft.a,{farmAPR:ye,poolAPR:we<_.K?we:0}),children:Object(me.jsx)(_t.i,{size:16,color:pt.apr})})]}),Object(me.jsx)(ot.c,{gap:"6px",children:C.startTime>M?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(m.e,{fontSize:"12px",color:pt.warning,children:Object(me.jsx)(o.b,{id:"New phase will start in"})}),Object(me.jsx)(m.e,{color:pt.warning,children:rt(C.startTime-M)})]}):C.endTime>M?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(m.e,{color:pt.subText,fontSize:"12px",children:Object(me.jsx)(o.b,{id:"Current phase will end in"})}),rt(C.endTime-M)]}):Object(me.jsx)(me.Fragment,{children:Object(me.jsx)(m.e,{color:pt.subText,fontSize:"12px",children:Object(me.jsx)(o.b,{id:"Farm Ended"})})})}),Object(me.jsx)(y.f,{children:Object(Y.i)(ge.toString(),!0)}),Object(me.jsx)(ot.c,{gap:"8px",style:{alignItems:"end"},children:oe.map((e=>Object(me.jsx)("div",{style:{marginTop:"2px"},children:Object(me.jsxs)(y.f,{gap:"4px",children:[z&&e.token.wrapped.address&&Object(me.jsx)(le.a,{currency:e.token,size:"16px",style:{marginLeft:"3px"}}),Object($.f)(e.amount,e.token.decimals)]})},e.token.wrapped.address)))}),Object(me.jsxs)(y.f,{gap:"4px",justify:"flex-end",children:[Object(me.jsx)(ht.a,{color:pt.primary,disabled:Ke,onClick:()=>{vt("harvest")},children:Object(me.jsx)(ue.a,{text:i.a._("Harvest"),placement:"top",width:"fit-content",children:Object(me.jsx)(it,{})})}),Object(me.jsx)(ht.a,{disabled:He,color:pt.red,onClick:()=>{vt("unstake")},children:Object(me.jsx)(ue.a,{text:i.a._("Unstake"),placement:"top",width:"fit-content",children:Object(me.jsx)(kt.a,{size:16})})}),Object(me.jsx)(ht.a,{color:pt.primary,disabled:"ended"===q,onClick:()=>{vt("stake")},children:Object(me.jsx)(ue.a,{text:i.a._("Stake"),placement:"top",width:"fit-content",children:Object(me.jsx)(wt.a,{size:16})})})]})]})}),(W===et.a.GRID||!U)&&Object(me.jsxs)(ht.h,{joined:!!ge,children:[Object(me.jsxs)(y.f,{marginBottom:"12px",children:[Object(me.jsx)(At.b,{currency0:G,currency1:Z,size:20}),Object(me.jsxs)(m.e,{fontSize:"16px",fontWeight:"500",marginRight:"4px",color:pt.green,children:[null===G||void 0===G?void 0:G.symbol," - ",null===Z||void 0===Z?void 0:Z.symbol]}),Object(me.jsxs)(m.e,{fontSize:12,lineHeight:"16px",style:{backgroundColor:pt.blue+"20",color:pt.blue,borderRadius:"16px",padding:"2px 4px"},children:["AMP ",C.amp/1e4]})]}),Object(me.jsxs)(y.b,{marginBottom:"16px",children:[Object(me.jsxs)(y.c,{color:pt.subText,fontSize:12,gap:"4px",children:[Object(me.jsx)(Ct.a,{toCopy:C.id}),Object(Y.A)(z,C.id,3)]}),Object(me.jsx)(y.c,{children:Object(me.jsx)(l.a,{fill:pt.subText,size:"14px",color:pt.subText,style:{cursor:"pointer"},onClick:()=>{S(C.id)}})})]}),Object(me.jsx)(y.b,{marginBottom:"2px",children:Object(me.jsx)(ue.a,{text:Object(me.jsx)(Ft.a,{farmAPR:ye,poolAPR:we<_.K?we:0}),children:Object(me.jsx)(m.e,{width:"fit-content",lineHeight:"16px",fontSize:"12px",fontWeight:"500",color:pt.subText,sx:{borderBottom:"1px dashed ".concat(pt.border)},children:Object(me.jsx)(o.b,{id:"Avg APR"})})})}),Object(me.jsx)(y.b,{marginBottom:"16px",children:Object(me.jsx)(m.e,{fontSize:28,lineHeight:"32px",color:pt.apr,fontWeight:500,children:Ce?Ce.toFixed(2)+"%":"--"})}),Object(me.jsxs)(y.b,{marginBottom:"4px",children:[Object(me.jsx)(m.e,{fontSize:12,color:pt.subText,lineHeight:"16px",children:Object(me.jsx)(o.b,{id:"Staked TVL"})}),C.startTime>M?Object(me.jsx)(m.e,{fontSize:12,lineHeight:"16px",color:pt.warning,children:Object(me.jsx)(o.b,{id:"New phase will start in"})}):C.endTime>M?Object(me.jsx)(m.e,{fontSize:12,color:pt.subText,lineHeight:"16px",children:Object(me.jsx)(o.b,{id:"Current phase will end in"})}):Object(me.jsx)(m.e,{fontSize:12,color:pt.subText,lineHeight:"16px",children:Object(me.jsx)(o.b,{id:"Farm ended"})})]}),Object(me.jsxs)(y.b,{marginBottom:"16px",children:[Object(me.jsx)(m.e,{fontSize:"16px",color:pt.text,lineHeight:"20px",children:Object(xe.a)(ve)}),void 0!==C.startTime?C.startTime>M?Object(me.jsx)(m.e,{color:pt.warning,children:rt(C.startTime-M)}):C.endTime>M?Object(me.jsx)(me.Fragment,{children:rt(C.endTime-M)}):Object(me.jsx)(me.Fragment,{}):"--"]}),Object(me.jsx)(Tt.a,{marginBottom:"16px"}),Object(me.jsx)(y.b,{marginBottom:"4px",children:Object(me.jsx)(m.e,{fontSize:12,color:pt.subText,lineHeight:"16px",children:Object(me.jsx)(o.b,{id:"My Deposit"})})}),Object(me.jsx)(y.b,{marginBottom:"16px",children:Object(me.jsx)(m.e,{fontSize:"16px",color:pt.text,lineHeight:"20px",children:ge?Object(xe.a)(ge):"--"})}),Object(me.jsxs)(y.b,{marginBottom:"16px",children:[Object(me.jsxs)(ot.c,{gap:"4px",children:[Object(me.jsx)(m.e,{fontSize:12,color:pt.subText,lineHeight:"16px",marginBottom:"4px",children:Object(me.jsx)(o.b,{id:"My Rewards"})}),Object(me.jsx)(y.f,{gap:"8px",children:oe.map(((e,t,n)=>Object(me.jsxs)(me.Fragment,{children:[Object(me.jsxs)(y.c,{gap:"4px",fontSize:"12px",lineHeight:"16px",children:[z&&e.token.wrapped.address&&Object(me.jsx)(le.a,{currency:e.token,size:"16px"}),!!e.amount&&Object($.f)(e.amount,e.token.decimals)]},e.token.wrapped.address),t!==n.length-1&&Object(me.jsx)("div",{style:{height:"10px",width:"1px",backgroundColor:pt.border}})]})))})]}),Object(me.jsxs)(ht.b,{color:pt.apr,flex:"0 0 fit-content",disabled:Ke,onClick:()=>{ut(C.pid)},children:[Object(me.jsx)(it,{}),Object(me.jsx)(o.b,{id:"Harvest"})]})]}),Object(me.jsxs)(y.f,{gap:"16px",children:[Object(me.jsxs)(ht.b,{flex:1,disabled:He,onClick:()=>vt("unstake"),color:pt.red,children:[Object(me.jsx)(kt.a,{size:16}),Object(me.jsx)(o.b,{id:"Unstake"})]}),Object(me.jsxs)(ht.b,{disabled:"ended"===q,flex:1,onClick:()=>vt("stake"),color:pt.primary,children:[Object(me.jsx)(wt.a,{size:16}),Object(me.jsx)(o.b,{id:"Stake"})]})]})]},"".concat(C.fairLaunchAddress,"_").concat(C.stakeToken)),Object(me.jsx)(ct.a,{isOpen:!!Ot,onDismiss:()=>vt(null),children:Object(me.jsxs)(dt,{children:[Object(me.jsxs)(m.b,{alignItems:"center",justifyContent:"space-between",marginBottom:"1rem",children:[Object(me.jsxs)(m.b,{children:[Object(me.jsx)(At.b,{currency0:G,currency1:Z,size:24}),Object(me.jsx)(m.e,{fontSize:"20px",fontWeight:"500",children:(()=>{switch(Ot){case"stake":return Object(me.jsx)(o.b,{id:"Stake"});case"unstake":return Object(me.jsx)(o.b,{id:"Unstake"});default:return Object(me.jsx)(o.b,{id:"Harvest"})}})()})]}),Object(me.jsx)(de.d,{onClick:()=>vt(null),width:"36px",height:"36px",padding:"0",children:Object(me.jsx)(st.a,{color:pt.text})})]}),"harvest"!==Ot&&Object(me.jsx)(Tt.a,{}),Object(me.jsxs)(m.b,{justifyContent:"space-between",alignItems:"center",marginTop:"1rem",children:[Object(me.jsx)(m.e,{color:pt.subText,fontSize:"0.75rem",children:"harvest"===Ot?Object(me.jsx)(o.b,{id:"My Rewards"}):Object(me.jsx)(o.b,{id:"Available Balance"})}),Object(me.jsx)(m.e,{fontSize:"0.75rem",fontWeight:"500",children:(()=>{switch(Ot){case"stake":return Object(Y.i)(fe.toString(),!0);case"unstake":return Object(Y.i)(ge.toString(),!0);default:return Object(Y.i)(Be.toString(),!0)}})()})]}),Object(me.jsxs)(ht.u,{children:["harvest"===Ot&&oe.map(((e,t)=>Object(me.jsxs)(d.a.Fragment,{children:[Object(me.jsxs)(m.b,{alignItems:"center",fontSize:"12px",sx:{gap:"4px"},children:[z&&e.token.wrapped.address&&Object(me.jsx)(le.a,{currency:e.token,size:"16px"}),Object($.f)(e.amount,e.token.decimals)]}),t!==oe.length-1&&Object(me.jsx)(m.e,{color:pt.subText,children:"|"})]},e.token.wrapped.address))),Ot&&["stake","unstake"].includes(Ot)&&Object(me.jsxs)(me.Fragment,{children:[Object(me.jsxs)(m.b,{alignItems:"center",fontSize:"12px",sx:{gap:"4px"},children:[Object(me.jsx)(le.a,{currency:G,size:"16px"}),Object(me.jsx)(m.e,{textAlign:"right",fontSize:"0.75rem",color:pt.subText,children:Object($.e)("stake"===Ot?ae:he)})]}),Object(me.jsx)(m.e,{color:pt.subText,children:"|"}),Object(me.jsxs)(m.b,{alignItems:"center",fontSize:"12px",sx:{gap:"4px"},children:[Object(me.jsx)(le.a,{currency:Z,size:"16px"}),Object(me.jsx)(m.e,{textAlign:"right",fontSize:"0.75rem",color:pt.subText,children:Object($.e)("stake"===Ot?je:Oe)})]})]})]}),"harvest"!==Ot&&Object(me.jsx)(Tt.a,{}),"harvest"===Ot?Object(me.jsx)(de.j,{margin:"8px 0 0",onClick:()=>{ut(C.pid),vt(null)},children:"Harvest"}):Object(me.jsxs)(me.Fragment,{children:[Object(me.jsxs)(m.b,{marginTop:"20px",children:[D?Ye===Et.a.UNKNOWN&&Object(me.jsx)(It.a,{}):Object(me.jsx)(de.h,{onClick:F,children:Object(me.jsx)(o.b,{id:"Connect Wallet"})}),(Ye===Et.a.NOT_APPROVED||Ye===Et.a.PENDING)&&Object(me.jsx)(de.j,{color:"blue",disabled:Ye===Et.a.PENDING,onClick:Ge,padding:"12px",children:Ye===Et.a.PENDING?Object(me.jsx)(It.a,{children:Object(me.jsx)(o.b,{id:"Approving"})}):Object(me.jsx)(o.b,{id:"Approve"})}),Ye===Et.a.APPROVED&&z&&Object(me.jsx)(me.Fragment,{children:"stake"===Ot?Object(me.jsx)(St.a,{value:Ee,onUserInput:e=>{Pe(e)},onMax:()=>{Pe(Mt(Ne.value,Ne.decimals))},onHalf:()=>{Pe(Mt(Ne.value.div(2),Ne.decimals))},currency:new te.Token(z,C.id,Ne.decimals,"".concat(Ae),"".concat(Ae)),id:"stake-lp-input",disableCurrencySelect:!0,positionMax:"top",hideLogo:!0,fontSize:"14px",customCurrencySelect:Object(me.jsx)(de.j,{disabled:Se,padding:"8px 12px",width:"max-content",style:{minWidth:"80px"},onClick:()=>jt(C.pid),children:Ee&&Se?"Invalid Amount":"Stake"})}):Object(me.jsx)(St.a,{value:Re,onUserInput:Fe,onMax:()=>{Fe(Mt(We.value,We.decimals))},onHalf:()=>{Fe(Mt(We.value.div(2),We.decimals))},currency:new te.Token(z,C.id,Ne.decimals,"".concat(Ae),"".concat(Ae)),id:"unstake-lp-input",disableCurrencySelect:!0,customBalanceText:"".concat(Mt(We.value,We.decimals)),positionMax:"top",hideLogo:!0,fontSize:"14px",customCurrencySelect:Object(me.jsx)(de.j,{disabled:Te,padding:"8px 12px",width:"max-content",style:{minWidth:"80px"},onClick:()=>bt(C.pid),children:Re&&Te?"Invalid Amount":"Unstake"})})})]}),Object(me.jsxs)(m.b,{justifyContent:"space-between",sx:{gap:"8px"},alignItems:"center",marginTop:"20px",children:[Object(me.jsx)(tt.d,{href:re?re.poolInfoLink:"".concat(_.x[z],"/pool/").concat(C.id),children:Object(me.jsxs)(ht.i,{children:[Object(me.jsx)(o.b,{id:"Get pool {0} info",values:{0:re?"(".concat(re.name,")"):""}})," \u2197"]})}),re?Object(me.jsx)(tt.d,{href:re.getLPTokenLink,children:Object(me.jsx)(ht.i,{children:Object(me.jsx)(o.b,{id:"Get {0}-{1} {2} LP \u2197",values:{0:null===(O=C.token0)||void 0===O?void 0:O.symbol,1:null===(f=C.token1)||void 0===f?void 0:f.symbol,2:re?"(".concat(re.name,")"):""}})})}):Object(me.jsx)(p.b,{to:"/add/".concat(Object(Rt.b)(null===(g=C.token0)||void 0===g?void 0:g.id,z),"/").concat(Object(Rt.b)(null===(v=C.token1)||void 0===v?void 0:v.id,z),"/").concat(C.id),style:{textDecoration:"none"},children:Object(me.jsx)(ht.i,{style:{textAlign:"right"},children:Object(me.jsx)(o.b,{id:"Get {0}-{1} LP \u2197",values:{0:null===(k=C.token0)||void 0===k?void 0:k.symbol,1:null===(w=C.token1)||void 0===w?void 0:w.symbol}})})})]})]})]})})]})},Wt=e=>{var t=e.isOpen,n=e.onClick;return Object(me.jsx)(ht.D,{onClick:n,children:Object(me.jsx)(Ye.a,{style:{rotate:t?"180deg":"none"}})})},Bt=e=>{var t=e.fairLaunchAddress,n=e.farms,c=e.active,d=Object(X.a)(),l=Object($e.A)(),j=Object(s.a)(l,1)[0],b=Object(x.a)("(min-width:".concat(tt.i.upToLarge,"px)")),p=Object(x.a)("(min-width:".concat(tt.i.upToSmall,"px)")),h=Object(E.b)(),O=h.chainId,f=h.account,g=h.isEVM,v=h.networkInfo,k=v.route||void 0,w=Object(pe.a)(),C=Object(K.c)(),S=Object(nt.k)(n),L=Object(q.j)(t),D=Xe(t).harvestMultiplePools,z=Object(P.c)().mixpanelHandler,R=Object(a.useState)(""),F=Object(s.a)(R,2),M=F[0],N=F[1],W=Object(a.useState)(!0),B=Object(s.a)(W,2),H=B[0],U=B[1],V=Object(K.l)(Qe.a.SHARE),Y=Object(K.h)(Qe.a.SHARE);Object(a.useEffect)((()=>{M&&V()}),[V,M]),Object(a.useEffect)((()=>{N((e=>Y?e:""))}),[Y,N]);var G=M?window.location.origin+"/farms/".concat(k,"?search=")+M+"&tab=classic":void 0,Q=Object(a.useCallback)(Object(I.a)(Object(T.a)().mark((function e(){var t,r;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f){e.next=2;break}return e.abrupt("return");case 2:return d(Object(Je.d)(!0)),d(Object(Je.a)(!0)),d(Object(Je.e)("")),e.prev=5,t=(n||[]).filter((e=>{var t,n,r;return!(null===(t=e.userData)||void 0===t||!t.rewards)&&(null===(n=e.userData)||void 0===n||null===(r=n.rewards)||void 0===r?void 0:r.some((e=>A.a.from(e).gt(0))))})),e.next=9,D(t.map((e=>e.pid)),S);case 9:(r=e.sent)&&z(P.a.ALL_REWARDS_HARVESTED,{reward_tokens_and_amounts:S&&Object.assign({},...S.map((e=>{var t;return null!==e&&void 0!==e&&null!==(t=e.token)&&void 0!==t&&t.symbol?{[e.token.symbol]:Object($.f)(e.amount,e.token.decimals)}:{}})))}),d(Object(Je.e)(r)),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(5),console.error(e.t0),d(Object(Je.f)(e.t0));case 18:d(Object(Je.a)(!1));case 19:case"end":return e.stop()}}),e,null,[[5,14]])}))),[f,d,n,D,z,S]),J=Math.floor(Date.now()/1e3),ee=(L===Z.a.V1?(n||[]).map((e=>{var t,n=e.fairLaunchAddress.toLowerCase()==="0xc0601973451d9369252Aee01397c0270CD2Ecd60".toLowerCase()&&O===te.ChainId.MAINNET,s=e&&C&&e.startBlock<C,o=e&&C&&e.endBlock<C,i=(t=s?e&&C&&e.endBlock-C:e&&C&&e.startBlock-C)&&t*v.averageBlockTimeInSeconds,c=i&&rt(i);return Object(r.a)(Object(r.a)({},e),{},{time:"".concat(n?"":o?"Ended":(s?"":"Starting in ")+c)})})):(n||[]).map((e=>{var t,n=e&&J&&e.startTime<J,s=e&&J&&e.endTime<J;return t=rt(n?e.endTime-J:e.startTime-J),Object(r.a)(Object(r.a)({},e),{},{time:"".concat(s?"Ended":(n?"":"Starting in ")+t)})}))).sort(((e,t)=>t.endBlock-e.endBlock)),ne=_.P[t],re=j===et.a.LIST&&b?ht.n:ht.d;return g?Object(me.jsxs)(ht.e,{children:[!!ee.length&&Object(me.jsxs)(me.Fragment,{children:[Object(me.jsxs)(y.b,{gap:"16px",children:[Object(me.jsxs)(y.c,{style:{whiteSpace:"nowrap"},children:[Object(me.jsx)(m.e,{fontSize:16,lineHeight:"20px",color:w.subText,children:Object(me.jsx)(o.b,{id:"Farming Contract"})}),ne&&Object(me.jsx)(m.e,{fontSize:14,fontStyle:"italic",color:w.subText,children:Object(me.jsx)(o.b,{id:"This pool require {0} LP Tokens. Get the LP Tokens <0>here \u2197</0>",values:{0:ne.name},components:{0:Object(me.jsx)(tt.d,{href:ne.getLPTokenLink})}})})]}),p&&Object(me.jsx)(y.f,{justify:"flex-end",children:Object(me.jsx)(Ot,{totalRewards:S,onHarvestAll:Q})}),Object(me.jsx)(y.c,{flex:"0 0 36px",children:Object(me.jsx)(Wt,{isOpen:H,onClick:()=>U((e=>!e))})})]}),!p&&Object(me.jsx)(y.f,{justify:"flex-end",children:Object(me.jsx)(Ot,{totalRewards:S,onHarvestAll:Q})}),Object(me.jsx)(ht.g,{expanded:H,children:Object(me.jsxs)(re,{children:[j===et.a.LIST&&b&&Object(me.jsxs)(ht.B,{children:[Object(me.jsxs)(y.f,{children:[Object(me.jsx)(ht.f,{children:Object(me.jsx)(o.b,{id:"Pools | AMP"})}),Object(me.jsx)(Ge.a,{text:_.e})]}),Object(me.jsx)(y.f,{children:Object(me.jsx)(ht.f,{children:Object(me.jsx)(o.b,{id:"Staked TVL"})})}),Object(me.jsxs)(y.f,{children:[Object(me.jsx)(ht.f,{children:Object(me.jsx)(o.b,{id:"AVG APR"})}),Object(me.jsx)(Ge.a,{text:c?i.a._("Total estimated return based on yearly fees and bonus rewards of the pool"):i.a._("Estimated return based on yearly fees of the pool")})]}),Object(me.jsxs)(y.f,{children:[Object(me.jsx)(ht.f,{children:Object(me.jsx)(o.b,{id:"Ending in"})}),Object(me.jsx)(Ge.a,{text:i.a._("After harvesting, your rewards will unlock linearly over the indicated time period")})]}),Object(me.jsx)(y.f,{children:Object(me.jsx)(ht.f,{children:Object(me.jsx)(o.b,{id:"My Deposit | Target Volume"})})}),Object(me.jsx)(y.f,{justify:"flex-end",children:Object(me.jsx)(ht.f,{children:Object(me.jsx)(o.b,{id:"My Rewards"})})}),Object(me.jsx)(y.f,{justify:"flex-end",children:Object(me.jsx)(ht.f,{children:Object(me.jsx)(o.b,{id:"Actions"})})})]}),ee.map((e=>Object(me.jsx)(Nt,{farm:e,setSharedPoolAddress:N},"".concat(e.fairLaunchAddress,"_").concat(e.stakeToken))))]})})]}),Object(me.jsx)(Ke.b,{title:i.a._("Share this farm with your friends!"),url:G})]}):Object(me.jsx)(u.a,{to:"/"})},Ht=n("./src/hooks/useDebounce.ts"),qt=n("./src/state/farms/classic/hooks.ts");function Ut(){var e=Object(b.e)((e=>e.farms.showConfirm)),t=Object(b.e)((e=>e.farms.attemptingTxn)),n=Object(b.e)((e=>e.farms.txHash)),r=Object(b.e)((e=>e.farms.error)),s=Object(X.a)(),o=Object(a.useCallback)((()=>{s(Object(Je.d)(!1)),s(Object(Je.a)(!1)),s(Object(Je.e)("")),s(Object(Je.f)(null))}),[s]),i=Object(a.useCallback)((()=>r?Object(me.jsx)(Fe.c,{onDismiss:o,message:r}):null),[o,r]);return Object(me.jsx)(Fe.e,{hash:n||"",isOpen:e,onDismiss:o,attemptingTxn:t,content:i,pendingText:""})}var Vt,Yt,Gt,Kt=["search"],Zt=e=>{var t=e.loading,n=e.active,i=Object(pe.a)(),c=Object(K.c)(),d=Object(a.useRef)(c);d.current=c;var l=Object(Pt.a)(),j=l.search,b=void 0===j?"":j,u=Object(Ve.a)(l,Kt),p=Object(E.b)().chainId,x=Object(qt.b)().data,h=Object(a.useState)({active:!1,ended:!1}),O=Object(s.a)(h,2),f=O[0],g=O[1],v=Object(a.useState)(!1),y=Object(s.a)(v,2),k=y[0],w=y[1],C=Object(a.useState)(!1),T=Object(s.a)(C,2),I=T[0],L=T[1],P=Object(a.useRef)();Object(at.a)(P,I?()=>L((e=>!e)):void 0);var D=n?"active":"ended",z=Object(a.useRef)(0);z.current=Math.floor(Date.now()/1e3);var R=Object(Ht.a)(b.trim().toLowerCase(),200),F=Object(a.useCallback)((e=>{var t,r,s,o,i,c,a=e.fairLaunchAddress.toLowerCase()==="0xc0601973451d9369252Aee01397c0270CD2Ecd60".toLowerCase()&&p===te.ChainId.MAINNET;return e.rewardPerSeconds?z.current&&(u.type===_.F.MY_FARMS||(n?e.endTime>=z.current:e.endTime<z.current))&&(!R||((null===(t=e.token0)||void 0===t?void 0:t.symbol.toLowerCase().includes(R))||(null===(r=e.token1)||void 0===r?void 0:r.symbol.toLowerCase().includes(R))||e.id===R))&&(!f[D]&&u.type!==_.F.MY_FARMS||(null===(s=e.userData)||void 0===s?void 0:s.stakedBalance)&&A.a.from(e.userData.stakedBalance).gt(0)):d.current&&(u.type===_.F.MY_FARMS||(a?n:n?e.endBlock>=d.current:e.endBlock<d.current))&&(!R||((null===(o=e.token0)||void 0===o?void 0:o.symbol.toLowerCase().includes(R))||(null===(i=e.token1)||void 0===i?void 0:i.symbol.toLowerCase().includes(R))||e.id===R))&&(!f[D]&&u.type!==_.F.MY_FARMS||(null===(c=e.userData)||void 0===c?void 0:c.stakedBalance)&&A.a.from(e.userData.stakedBalance).gt(0))}),[n,D,R,f,p,u.type]),M=Object(a.useMemo)((()=>Object.keys(x).reduce(((e,t)=>{var n=x[t].filter((e=>F(e)));return n.length&&(e[t]=n),e}),{})),[x,F]),N=!Object.keys(M).length;return Object(a.useEffect)((()=>{n||f.ended||k||Object.keys(x).filter((e=>!!x[e].filter((e=>{var t,n;return e.rewardPerSeconds?z.current&&e.endTime<z.current&&(null===(t=e.userData)||void 0===t?void 0:t.stakedBalance)&&A.a.from(e.userData.stakedBalance).gt(0):d.current&&e.endBlock<d.current&&(null===(n=e.userData)||void 0===n?void 0:n.stakedBalance)&&A.a.from(e.userData.stakedBalance).gt(0)})).length)).length&&(w(!0),g((e=>Object(r.a)(Object(r.a)({},e),{},{ended:!0}))))}),[n,f,x,k]),Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(Ut,{}),t&&N?Object(me.jsx)(m.b,{backgroundColor:i.background,children:Object(me.jsx)(S.a,{})}):N?Object(me.jsx)(m.b,{backgroundColor:i.background,justifyContent:"center",padding:"32px",style:{borderBottomLeftRadius:"20px",borderBottomRightRadius:"20px"},children:Object(me.jsx)(m.e,{color:i.subText,children:f[D]||R?Object(me.jsx)(o.b,{id:"No Farms found"}):Object(me.jsx)(o.b,{id:"Currently there are no Farms."})})}):Object.keys(M).map((e=>Object(me.jsx)(Bt,{fairLaunchAddress:e,farms:M[e],active:n},e)))]})},Xt=n("./node_modules/@kyberswap/ks-sdk-elastic/dist/index.js"),Qt=Object(ae.default)(Ye.a).withConfig({displayName:"FarmIssueAnnouncement__DropdownIcon",componentId:"sc-zj85iy-0"})(["transition:transform 300ms;color:",";&[data-flip='true']{transform:rotate(180deg);}"],(e=>e.theme.subText)),Jt=ae.default.div.withConfig({displayName:"FarmIssueAnnouncement__Wrapper",componentId:"sc-zj85iy-1"})(["border-radius:20px;padding:16px;font-size:14px;border:1px solid ",";margin-bottom:16px;color:",";li{line-height:20px;}"],(e=>e.theme.warning),(e=>e.theme.subText)),$t=ae.default.ul.withConfig({displayName:"FarmIssueAnnouncement__StyledUL",componentId:"sc-zj85iy-2"})(["flex-shrink:0;display:flex;flex-direction:column;margin:0;padding-left:24px;padding-right:8px;width:100%;row-gap:8px;margin-block-start:0;margin-block-end:0;margin-inline-start:0;margin-inline-end:0;list-style-type:disc;list-style-position:outside;color:",";font-weight:400;font-size:14px;line-height:20px;"],(e=>e.theme.subText)),en=ae.default.span.withConfig({displayName:"FarmIssueAnnouncement__Highlighted",componentId:"sc-zj85iy-3"})(["font-weight:500;color:",";"],(e=>e.theme.text)),tn=()=>{var e=Object(pe.a)();return Object(me.jsxs)($t,{style:{marginTop:"8px"},children:[Object(me.jsx)("li",{children:Object(me.jsx)(o.b,{id:"We recently discovered an issue in our Elastic farming contract where you might not be able to harvest your rewards or withdraw your liquidity positions like you <0>normally</0> would.",components:{0:Object(me.jsx)(en,{})}})}),Object(me.jsx)("li",{children:Object(me.jsx)(o.b,{id:"Don't worry, your funds are <0>100% safe</0>. And you are still earning farming rewards.",components:{0:Object(me.jsx)(en,{})}})}),Object(me.jsxs)("li",{children:[Object(me.jsx)(o.b,{id:"If you still wish to withdraw your liquidity positions from the farm, you can use the <0>Force Withdraw</0> button as an emergency option. Note:",components:{0:Object(me.jsx)(en,{style:{color:e.red}})}}),Object(me.jsxs)($t,{style:{marginTop:"8px",listStyleType:"circle"},children:[Object(me.jsx)("li",{children:Object(me.jsx)(o.b,{id:"If you do this, your farming rewards will <0>not</0> be automatically harvested but we can <1>manually transfer</1> your farming rewards to you.",components:{0:Object(me.jsx)(en,{}),1:Object(me.jsx)(en,{})}})}),Object(me.jsx)("li",{children:Object(me.jsx)(o.b,{id:"After force withdrawing your liquidity position from the farm, remember <0>not</0> to re-stake this in the farm.",components:{0:Object(me.jsx)(en,{})}})}),Object(me.jsx)("li",{children:Object(me.jsx)(o.b,{id:"If you wish to continue participating in the farm, you should remove liquidity from the <0>pool</0>, create a <1>new</1> liquidity position by adding liquidity into the pool, and then stake this new liquidity position into the farm.",components:{0:Object(me.jsx)(en,{}),1:Object(me.jsx)(en,{})}})})]})]}),Object(me.jsx)("li",{children:Object(me.jsx)(o.b,{id:"You can get in touch with us by joining our <0>Discord channel \u2197</0> and we will assist you with your questions or transfer of rewards.",components:{0:Object(me.jsx)(tt.d,{href:"https://discord.gg/H8AQVhwBz9"})}})})]})},nn=()=>{var e=Object(pe.a)();return Object(me.jsxs)($t,{style:{marginTop:"8px"},children:[Object(me.jsx)("li",{children:Object(me.jsx)(o.b,{id:"We recently discovered an issue in our Elastic farming contract where you might not be able to harvest your rewards or withdraw your liquidity positions like you <0>normally</0> would.",components:{0:Object(me.jsx)(en,{})}})}),Object(me.jsx)("li",{children:Object(me.jsx)(o.b,{id:"Don't worry, your funds are <0>100% safe</0>.",components:{0:Object(me.jsx)(en,{})}})}),Object(me.jsx)("li",{children:Object(me.jsx)(o.b,{id:"You can use the <0>Force Withdraw</0> button as an emergency option. If you do this, your farming rewards will <1>not</1> be automatically harvested but we can <2>manually transfer</2> your farming rewards to you.",components:{0:Object(me.jsx)(en,{style:{color:e.red}}),1:Object(me.jsx)(en,{}),2:Object(me.jsx)(en,{})}})}),Object(me.jsx)("li",{children:Object(me.jsx)(o.b,{id:"You can get in touch with us by joining our <0>Discord channel \u2197</0> and we will assist you with your questions or transfer of rewards.",components:{0:Object(me.jsx)(tt.d,{href:"https://discord.gg/H8AQVhwBz9"})}})})]})},rn=e=>{var t=e.isEnded,n=Object(pe.a)(),r=Object(a.useState)(!0),i=Object(s.a)(r,2),c=i[0],d=i[1];return Object(me.jsxs)(Jt,{children:[Object(me.jsxs)(m.b,{justifyContent:"space-between",onClick:()=>d((e=>!e)),sx:{cursor:"pointer"},children:[Object(me.jsxs)(m.b,{alignItems:"center",children:[Object(me.jsx)("svg",{width:"19",height:"19",viewBox:"0 0 19 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(me.jsx)("path",{d:"M4.83333 16.6667H8.16667C8.16667 17.5833 7.41667 18.3333 6.5 18.3333C5.58333 18.3333 4.83333 17.5833 4.83333 16.6667ZM3.16667 15C3.16667 15.4583 3.54167 15.8333 4 15.8333H9C9.45833 15.8333 9.83333 15.4583 9.83333 15C9.83333 14.5417 9.45833 14.1667 9 14.1667H4C3.54167 14.1667 3.16667 14.5417 3.16667 15ZM12.75 7.91667C12.75 11.1 10.5333 12.8 9.60833 13.3333H3.39167C2.46667 12.8 0.25 11.1 0.25 7.91667C0.25 4.46667 3.05 1.66667 6.5 1.66667C9.95 1.66667 12.75 4.46667 12.75 7.91667ZM16.8083 6.14167L15.6667 6.66667L16.8083 7.19167L17.3333 8.33333L17.8583 7.19167L19 6.66667L17.8583 6.14167L17.3333 5L16.8083 6.14167ZM14.8333 5L15.6167 3.28333L17.3333 2.5L15.6167 1.71667L14.8333 0L14.05 1.71667L12.3333 2.5L14.05 3.28333L14.8333 5Z",fill:"#FF9901"})}),Object(me.jsx)(m.e,{fontWeight:"500",color:n.warning,marginLeft:"8px",children:Object(me.jsx)(o.b,{id:"Important Announcement"})})]}),Object(me.jsx)(m.b,{sx:{flex:"0 0 24px",justifyContent:"center",alignItems:"center"},children:Object(me.jsx)(Qt,{"data-flip":c})})]}),c&&Object(me.jsxs)(me.Fragment,{children:[t?Object(me.jsx)(nn,{}):Object(me.jsx)(tn,{}),Object(me.jsx)(m.e,{fontStyle:"italic",marginTop:"16px",children:Object(me.jsx)(o.b,{id:"We really apologize for the trouble."})})]})]})},sn=n("./src/constants/v2.ts"),on=n("./src/constants/env.ts"),cn={[te.ChainId.ARBITRUM]:"https://raw.githubusercontent.com/KyberNetwork/unclaimed-rewards-elastic-lm/main/snapshots/arbitrum.json",[te.ChainId.MATIC]:"https://raw.githubusercontent.com/KyberNetwork/unclaimed-rewards-elastic-lm/main/snapshots/polygon.json",[te.ChainId.MAINNET]:"https://raw.githubusercontent.com/KyberNetwork/unclaimed-rewards-elastic-lm/main/snapshots/ethereum.json",[te.ChainId.OPTIMISM]:"https://raw.githubusercontent.com/KyberNetwork/unclaimed-rewards-elastic-lm/main/snapshots/optimism.json",[te.ChainId.AVAXMAINNET]:"https://raw.githubusercontent.com/KyberNetwork/unclaimed-rewards-elastic-lm/main/snapshots/avalanche.json"},an=()=>{var e=Object(E.b)(),t=e.chainId,n=e.account,r=Object(a.useState)(null),o=Object(s.a)(r,2),i=o[0],c=o[1],d=Object(a.useState)(!1),l=Object(s.a)(d,2),j=l[0],b=l[1],u=Object(a.useState)(null),p=Object(s.a)(u,2),x=p[0],m=p[1],h=Object(a.useCallback)(Object(I.a)(Object(T.a)().mark((function e(){var r,o,i,a;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([fetch(cn[t]).then((e=>e.json())),fetch("".concat(on.REWARD_SERVICE_API,"/rewards/claim"),{method:"POST",body:JSON.stringify({wallet:n,chainId:t.toString(),clientCode:"elastic"})}).then((e=>e.json()))]);case 3:r=e.sent,o=Object(s.a)(r,2),i=o[0],null!==(a=o[1])&&void 0!==a&&a.data&&Array.isArray(i)&&(m({address:a.data.ContractAddress,encodedData:a.data.EncodedData}),Array.isArray(i)&&c(i.filter((e=>{var t;return(null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.toLowerCase())===(null===n||void 0===n?void 0:n.toLowerCase())})))),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),c(null),m(null);case 14:case"end":return e.stop()}}),e,null,[[0,10]])}))),[n,t]);return Object(a.useEffect)((()=>{c(null),m(null),cn[t]&&n&&(b(!0),h().finally((()=>b(!1))))}),[t,h,n]),{data:i,loading:j,claimInfo:x}},dn=n("./src/state/farms/elastic/hooks.ts"),ln=n("./src/components/YieldPools/ElasticFarmGroup/styleds.tsx"),jn=ae.default.div.withConfig({displayName:"ElasticCompensation__Wrapper",componentId:"sc-18tb8wf-0"})(["line-height:1.5;border:1px solid ",";background:",";padding:24px;text-align:center;font-size:14px;color:",";border-radius:20px;",""],(e=>e.theme.border),(e=>e.theme.background),(e=>e.theme.subText),(e=>e.theme.mediaWidth.upToSmall(Vt||(Vt=Object(ee.a)(["\n    padding: 1rem 0.75rem;\n  "]))))),bn=ae.default.div.withConfig({displayName:"ElasticCompensation__TableHeader",componentId:"sc-18tb8wf-1"})(["display:grid;font-size:12px;border-top-left-radius:8px;border-top-right-radius:8px;grid-template-columns:2fr 3fr 3fr;font-weight:500;padding:1rem;background:",";color:",";align-items:center;"],(e=>e.theme.buttonBlack),(e=>e.theme.subText)),un=Object(ae.default)(bn).withConfig({displayName:"ElasticCompensation__TableRow",componentId:"sc-18tb8wf-2"})(["background:",";color:",";border-bottom:1px solid ",";"],(e=>e.theme.background),(e=>e.theme.text),(e=>e.theme.border)),pn=e=>{var t=e.onWithdraw,n=e.data,o=e.numberOfPosition,i=e.tokenPrices,c=e.claimInfo,d=Object(a.useState)(!1),l=Object(s.a)(d,2),j=l[0],b=l[1],u=Object(pe.a)(),p=Object(E.b)().chainId,x=Object(E.e)().library,h=Object(dn.b)().farms,O=null===n||void 0===n?void 0:n.map((e=>{var t,n=null===h||void 0===h||null===(t=h.find((t=>t.id===e.farm_address)))||void 0===t?void 0:t.pools.find((t=>+t.pid===+e.pid));return Object(r.a)(Object(r.a)({},e),{},{pending_rewards:e.pending_rewards.map((e=>{var t=e.token_address===_.db?L.i[p]:null===n||void 0===n?void 0:n.rewardTokens.find((t=>t.wrapped.address.toLowerCase()===e.token_address));return{amount:e.amount,token:t}})),pool:n})})),f=null===O||void 0===O?void 0:O.reduce(((e,t)=>e+t.pending_rewards.reduce(((e,t)=>t.token?e+(+te.CurrencyAmount.fromRawAmount(t.token,t.amount).toExact()||0)*(i[t.token.wrapped.address]||0):e),0)),0),g=Object(U.g)(),v=Object(a.useState)(!1),y=Object(s.a)(v,2),k=y[0],w=y[1],C=Object(a.useState)(""),S=Object(s.a)(C,2),A=S[0],P=S[1],D=Object(a.useState)(""),z=Object(s.a)(D,2),R=z[0],F=z[1],M=Object(a.useState)(!1),N=Object(s.a)(M,2),W=N[0],B=N[1],H=()=>{A&&b(!1),P(""),w(!1),F(""),B(!1)},q=function(){var e=Object(I.a)(Object(T.a)().mark((function e(){var t,n,r;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!x||!c){e.next=20;break}return e.prev=1,w(!0),B(!0),e.next=6,x.getSigner().estimateGas({to:c.address,data:c.encodedData});case 6:return t=e.sent,e.next=9,x.getSigner().sendTransaction({to:c.address,data:c.encodedData,gasLimit:Object(Y.b)(t)});case 9:n=e.sent,r=n.hash,B(!1),P(r||""),g({hash:r,type:V.c.CLAIM_REWARD,extraInfo:{summary:"farming rewards"}}),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(1),B(!1),F((null===e.t0||void 0===e.t0?void 0:e.t0.message)||JSON.stringify(e.t0));case 20:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(){return e.apply(this,arguments)}}();return Object(me.jsxs)(me.Fragment,{children:[Object(me.jsxs)(jn,{children:[Object(me.jsxs)(m.e,{children:["We paused all our Elastic farms on 18 April 2023, 4pm UTC. Information on this can be found in our announcement"," ",Object(me.jsx)(tt.d,{href:"https://twitter.com/KyberNetwork/status/1648265647858790400?s=20",children:"here"})]}),o&&n?Object(me.jsxs)(m.e,{children:["You still have"," ",Object(me.jsxs)(m.e,{color:u.warning,as:"span",children:[o," liquidity positions"]})," ","and"," ",Object(me.jsxs)(m.e,{color:u.warning,as:"span",children:[Object(xe.a)(f)," unclaimed farming rewards"]})," ","that you haven't withdrawn from the Elastic farms yet. You will first need to withdraw all your liquidity positions by clicking on \u2018Withdraw Positions\u2019 button before you can claim your reward by clicking the 'Claim Rewards' button"," "]}):o?Object(me.jsxs)(m.e,{children:["You still have"," ",Object(me.jsxs)(m.e,{as:"span",color:u.warning,children:[o," liquidity positions"]}),", please withdraw and remove your funds on Elastic as soon as possible"]}):Object(me.jsxs)(m.e,{children:["You are eligible for"," ",Object(me.jsxs)(m.e,{as:"span",color:u.warning,children:[Object(xe.a)(f)," unclaimed farming rewards"]}),", you can claim them by clicking the 'Claim Rewards' button below."]}),Object(me.jsxs)(m.b,{marginTop:"36px",sx:{gap:"12px"},justifyContent:"center",children:[!!o&&Object(me.jsx)(de.h,{onClick:t,color:u.red,width:"fit-content",minWidth:"160px",padding:"8px",style:{border:"1px solid ".concat(u.red)},children:"Withdraw Positions"}),Object(me.jsx)(de.j,{width:"fit-content",minWidth:"160px",padding:"8px",onClick:()=>b(!0),children:"Claim Rewards"})]})]}),Object(me.jsx)(ct.a,{isOpen:j,onDismiss:()=>b(!1),width:"800px",maxWidth:"100vw",maxHeight:80,children:Object(me.jsxs)(m.b,{width:"100%",padding:"20px",flexDirection:"column",sx:{gap:"1rem"},backgroundColor:u.background,children:[Object(me.jsxs)(m.b,{justifyContent:"space-between",alignItems:"center",children:[Object(me.jsx)(m.e,{fontWeight:"500",fontSize:"20px",children:"Your Unclaimed Rewards"}),Object(me.jsx)(st.a,{style:{cursor:"pointer"},onClick:()=>b(!1),size:20})]}),Object(me.jsxs)(m.b,{justifyContent:"space-between",alignItems:"center",sx:{gap:"12px"},color:u.subText,children:[Object(me.jsx)(m.e,{fontSize:"12px",children:"Here you can claim all your leftover reward from our previous farms"}),Object(me.jsxs)(m.b,{alignItems:"center",sx:{gap:"8px"},children:[Object(me.jsx)(m.e,{fontSize:"12px",children:"Total Rewards"}),Object(me.jsx)(m.e,{fontSize:"1rem",fontWeight:"500",color:u.text,children:Object(xe.a)(f)})]})]}),Object(me.jsxs)("div",{style:{overflowY:"auto",flex:1},children:[Object(me.jsxs)(bn,{children:[Object(me.jsx)(m.e,{children:"NFT ID"}),Object(me.jsx)(m.e,{children:"FARMS"}),Object(me.jsx)(m.e,{textAlign:"right",children:"REWARD"})]}),null===O||void 0===O?void 0:O.map((e=>{var t,n,r,s,o;return Object(me.jsxs)(un,{children:[Object(me.jsx)(m.e,{children:e.nftid}),Object(me.jsxs)(m.b,{alignItems:"center",children:[Object(me.jsx)(At.b,{currency0:null===(t=e.pool)||void 0===t?void 0:t.token0,currency1:null===(n=e.pool)||void 0===n?void 0:n.token1}),Object(me.jsxs)(m.e,{color:u.primary,children:[null===(r=e.pool)||void 0===r?void 0:r.token0.symbol," - ",null===(s=e.pool)||void 0===s?void 0:s.token1.symbol]}),Object(me.jsxs)(ln.d,{children:["Fee ",100*((null===(o=e.pool)||void 0===o?void 0:o.pool.fee)||0)/_.z,"%"]})]}),Object(me.jsx)(m.b,{justifyContent:"flex-end",flexDirection:"column",sx:{gap:"8px"},children:e.pending_rewards.map(((e,t)=>Object(me.jsxs)(m.b,{sx:{gap:"4px"},justifyContent:"flex-end",alignItems:"center",children:[Object(me.jsx)(le.a,{currency:e.token,size:"14px"}),e.token&&te.CurrencyAmount.fromRawAmount(e.token,e.amount).toSignificant(6)]},t)))})]},e.nftid)}))]}),Object(me.jsx)(m.b,{justifyContent:"flex-end",children:Object(me.jsx)(de.j,{width:"fit-content",minWidth:"160px",padding:"8px",onClick:q,children:"Claim Rewards"})})]})}),Object(me.jsx)(Fe.e,{isOpen:k,onDismiss:H,hash:A,attemptingTxn:W,pendingText:"Claiming Rewards",content:()=>Object(me.jsx)(m.b,{flexDirection:"column",width:"100%",children:R?Object(me.jsx)(Fe.c,{onDismiss:H,message:R}):null})})]})},xn=n("./node_modules/react-feather/dist/icons/info.js"),mn=n("./node_modules/react-feather/dist/icons/arrow-down.js"),hn=n("./node_modules/react-feather/dist/icons/arrow-up.js"),On=e=>{var t=e.width,n=e.height,r=e.color;return Object(me.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t||16,height:n||16,viewBox:"0 0 16 16",children:Object(me.jsx)("path",{d:"M11.06 6H10V2.66667C10 2.3 9.70004 2 9.33337 2H6.66671C6.30004 2 6.00004 2.3 6.00004 2.66667V6H4.94004C4.34671 6 4.04671 6.72 4.46671 7.14L7.52671 10.2C7.78671 10.46 8.20671 10.46 8.46671 10.2L11.5267 7.14C11.9467 6.72 11.6534 6 11.06 6ZM3.33337 12.6667C3.33337 13.0333 3.63337 13.3333 4.00004 13.3333H12C12.3667 13.3333 12.6667 13.0333 12.6667 12.6667C12.6667 12.3 12.3667 12 12 12H4.00004C3.63337 12 3.33337 12.3 3.33337 12.6667Z",fill:r||"currentColor"})})},fn=n("./src/constants/networks.ts"),gn=n("./src/pages/Pool/styleds.tsx"),vn=n("./src/state/multicall/hooks.ts"),yn=n("./src/components/HoverInlineText/index.tsx"),kn=n("./src/utils/tokenInfo.ts"),wn=d.a.createContext((()=>{})),Cn=()=>Object(a.useContext)(wn),Sn=n("./node_modules/polished/dist/polished.esm.js"),Tn=["title","titleId"];function In(){return In=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},In.apply(this,arguments)}function An(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function _n(e,t){var n=e.title,r=e.titleId,s=An(e,Tn);return a.createElement("svg",In({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},s),n?a.createElement("title",{id:r},n):null,Yt||(Yt=a.createElement("g",{clipPath:"url(#clip0_1341_44633)"},a.createElement("path",{d:"M8.44008 1.71999C8.18675 1.49999 7.80675 1.49999 7.55341 1.71999C4.30008 4.58666 2.66675 7.07999 2.66675 9.19999C2.66675 12.52 5.20008 14.6667 8.00008 14.6667C10.8001 14.6667 13.3334 12.52 13.3334 9.19999C13.3334 7.07999 11.7001 4.58666 8.44008 1.71999ZM5.22008 9.33333C5.46675 9.33333 5.66675 9.50666 5.71341 9.74666C5.98675 11.2267 7.23341 11.7333 8.14008 11.66C8.42675 11.6467 8.66675 11.8733 8.66675 12.16C8.66675 12.4267 8.45341 12.6467 8.18675 12.66C6.76675 12.7467 5.10675 11.9333 4.72675 9.91333C4.67341 9.61333 4.91341 9.33333 5.22008 9.33333Z",fill:"currentColor"}))),Gt||(Gt=a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_1341_44633"},a.createElement("rect",{width:16,height:16,fill:"currentColor"})))))}var Ln,En,Pn,Dn=a.forwardRef(_n),zn=(n.p,ae.default.div.withConfig({displayName:"FeeTarget__FeeTargetWrapper",componentId:"sc-1krv0ez-0"})(["border-radius:999px;display:flex;font-size:12px;background:",";position:relative;color:",";height:4px;align-items:center;min-width:140px;max-width:200px;position:relative;margin-top:4px;overflow:hidden;"],(e=>{var t=e.theme;return e.fullUnlock?t.primary:t.subText}),(e=>e.theme.textReverse))),Rn=ae.default.div.withConfig({displayName:"FeeTarget__FeeArchive",componentId:"sc-1krv0ez-1"})(["width:",";height:100%;background:",";border-radius:999px;"],(e=>{var t=e.width;return"".concat(t,"%")}),(e=>{var t=e.theme;return 100===e.width?t.primary:t.warning})),Fn=e=>{var t=e.percent,n=e.style,r=void 0===n?{}:n,s=Number(t),i=Object(pe.a)();return Object(me.jsxs)(me.Fragment,{children:[Object(me.jsxs)(m.b,{justifyContent:"space-between",fontSize:"12px",color:i.subText,marginTop:"4px",maxWidth:"200px",style:r,children:[Object(me.jsx)(o.b,{id:"Target Volume"}),s>=100?Object(me.jsx)(m.e,{color:i.primary,children:"\u2713"}):Object(me.jsxs)("div",{children:[s.toFixed(2),"%"]})]}),Object(me.jsx)(zn,{fullUnlock:s>=100,style:r,children:Object(me.jsx)(Rn,{width:s})})]})},Mn=n("./src/components/Badge/RangeBadge.tsx"),Nn=n("./src/components/ProAmm/PriceVisualize.tsx"),Wn=n("./src/hooks/useIsTickAtLimit.ts"),Bn=n("./src/state/mint/proamm/type.ts"),Hn=n("./src/utils/formatTickPrice.ts"),qn=n("./src/components/Icons/Withdraw.tsx"),Un=["disabled","onClick","style"],Vn=["disabled","onClick","style"],Yn=["disabled","onClick","style"],Gn=["onClick","style"],Kn=["onClick","style"];!function(e){e.Red="Red",e.Gray="Gray",e.Green="Green",e.APR="APR"}(Pn||(Pn={}));var Zn,Xn,Qn=Object(ae.default)(de.h).withConfig({displayName:"buttons__BtnLight",componentId:"sc-18ir6ml-0"})(["padding:8px 12px;width:fit-content;",";"],(e=>e.theme.mediaWidth.upToSmall(Ln||(Ln=Object(ee.a)(["\n    padding: 8px;\n  "]))))),Jn=Object(ae.default)(de.h).withConfig({displayName:"buttons__ButtonOutlined",componentId:"sc-18ir6ml-1"})(["padding:8px 12px;width:fit-content;white-space:nowrap;"," ",";"],(e=>((e,t,n)=>{var r={[Pn.Red]:e.red,[Pn.Gray]:e.subText,[Pn.Green]:e.primary,[Pn.APR]:e.apr};t||(t=Pn.Green);var s=r[t];return Object(ae.css)(["border-color:",";background-color:",";color:",";&:hover{background-color:",";}&:active{box-shadow:",";background-color:",";}"],s,"".concat(s,"20"),s,n?void 0:Object(Sn.a)(.03,"".concat(s,"20")),n?void 0:"0 0 0 1pt ".concat(Object(Sn.a)(.05,"".concat(s,"20"))),n?void 0:Object(Sn.a)(.05,"".concat(s,"20")))})(e.theme,e.colorScheme,e.disabled)),(e=>e.theme.mediaWidth.upToSmall(En||(En=Object(ee.a)(["\n    padding: 8px;\n  "]))))),$n=e=>{var t=e.disabled,n=e.onClick,s=e.style,c=Object(Ve.a)(e,Un),a=Object(x.a)("(max-width: ".concat(tt.i.upToExtraSmall,"px)")),d=()=>Object(me.jsxs)(Jn,Object(r.a)(Object(r.a)({id:"deposit-button",disabled:t,onClick:n,style:Object(r.a)({width:a?"100%":"max-content",height:"38px",padding:"12px"},s)},c),{},{children:[Object(me.jsx)(On,{width:20,height:20}),Object(me.jsx)(m.e,{fontSize:"14px",marginLeft:"4px",children:Object(me.jsx)(o.b,{id:"Deposit"})})]}));return t?d():Object(me.jsx)(ue.b,{text:i.a._("Deposit your liquidity positions (i.e. your NFT tokens) into the farming contract. Then stake them into the farm"),style:{flex:1},children:d()})},er=e=>{var t=e.disabled,n=e.onClick,s=e.style,c=Object(Ve.a)(e,Vn),a=Object(x.a)("(max-width: ".concat(tt.i.upToExtraSmall,"px)")),d=()=>Object(me.jsxs)(Jn,Object(r.a)(Object(r.a)({colorScheme:Pn.Red,onClick:n,disabled:t,style:Object(r.a)({width:a?"100%":"max-content",height:"38px",padding:"12px"},s)},c),{},{children:[Object(me.jsx)(qn.a,{width:20,height:20}),Object(me.jsx)(m.e,{fontSize:"14px",marginLeft:"4px",children:Object(me.jsx)(o.b,{id:"Withdraw"})})]}));return t?d():Object(me.jsx)(ue.b,{text:i.a._("Withdraw your liquidity positions (i.e. your NFT tokens) from the farming contract"),style:{flex:1},children:d()})},tr=e=>{var t=e.disabled,n=e.onClick,s=e.style,i=Object(Ve.a)(e,Yn),c=Object(x.a)("(max-width: ".concat(tt.i.upToExtraSmall,"px)"));return Object(me.jsxs)(de.j,Object(r.a)(Object(r.a)({onClick:n,disabled:t,style:Object(r.a)({boxShadow:"0px 4px 4px rgba(0, 0, 0, 0.16)",whiteSpace:"nowrap",width:c?"100%":"max-content",height:"38px"},s)},i),{},{children:[Object(me.jsx)(it,{width:20,height:20}),Object(me.jsx)(m.e,{fontSize:"14px",marginLeft:"4px",children:Object(me.jsx)(o.b,{id:"Harvest All"})})]}))},nr=e=>{var t=e.onClick,n=(e.style,Object(Ve.a)(e,Gn));return Object(me.jsx)(Qn,Object(r.a)(Object(r.a)({style:{flex:1,height:"38px",padding:"8px 16px"},onClick:t},n),{},{children:Object(me.jsx)(o.b,{id:"Connect Wallet"})}))},rr=Object(ae.default)(de.h).withConfig({displayName:"buttons__MinimalActionButton",componentId:"sc-18ir6ml-2"})(["background-color:",";min-width:28px;min-height:28px;width:28px;height:28px;padding:0;",":disabled{background:",";cursor:not-allowed;}"],(e=>{var t=e.theme;return Object(Sn.d)(t.primary,.2)}),(e=>((e,t,n)=>{var r={[Pn.Red]:e.red,[Pn.Gray]:e.subText,[Pn.Green]:e.primary,[Pn.APR]:e.apr};t||(t=Pn.Green);var s=r[t];return Object(ae.css)(["background-color:",";color:",";&:hover{background-color:",";}&:active{box-shadow:",";background-color:",";}"],"".concat(s,"20"),s,n?void 0:Object(Sn.a)(.03,"".concat(s,"20")),n?void 0:"0 0 0 1pt ".concat(Object(Sn.a)(.05,"".concat(s,"20"))),n?void 0:Object(Sn.a)(.05,"".concat(s,"20")))})(e.theme,e.colorScheme,e.disabled)),(e=>e.theme.buttonGray)),sr=e=>{var t=e.onClick,n=e.style,s=Object(Ve.a)(e,Kn),i=Object(r.a)({padding:"8px"},n);return Object(me.jsxs)(Jn,Object(r.a)(Object(r.a)({colorScheme:Pn.Red,style:i,onClick:t},s),{},{children:[Object(me.jsx)(qn.a,{width:20,height:20}),Object(me.jsx)(m.e,{fontSize:"14px",marginLeft:"4px",children:Object(me.jsx)(o.b,{id:"Force Withdraw"})})]}))},or=e=>{var t,n,r=e.price,s=e.isRevertPrice,c=e.farmAddress,a=e.pool,d=e.targetPercent,l=e.nftInfo,j=e.tokenPrices,b=Object(pe.a)(),u=Object(dn.b)().userFarmInfo,p=(null===u||void 0===u||null===(t=u[c])||void 0===t?void 0:t.joinedPositions[a.pid])||[],x=Object(dn.d)(c).unstake,h=p.find((e=>e.nftId.toString()===l.nftId.toString())),O=!!h,f=(j[l.amount0.currency.address]||0)*+l.amount0.toExact()+(j[l.amount1.currency.address]||0)*+l.amount1.toExact(),g=l.pool.tickCurrent<l.tickLower||l.pool.tickCurrent>=l.tickUpper,v=Object(Wn.a)(l.pool.fee,l.tickLower,l.tickUpper),y=s?l.token0PriceUpper.invert():l.token0PriceLower,k=s?l.token0PriceLower.invert():l.token0PriceUpper,w=null===u||void 0===u||null===(n=u[c])||void 0===n?void 0:n.rewardByNft,C=(null===w||void 0===w?void 0:w[a.pid+"_"+l.nftId.toString()])||[],S=C.reduce(((e,t)=>e+ +t.toExact()*(j[t.currency.wrapped.address]||0)),0);return Object(me.jsxs)(ln.i,{children:[Object(me.jsxs)(m.b,{alignItems:"center",justifyContent:"space-between",color:b.subText,children:[Object(me.jsxs)(m.b,{alignItems:"center",sx:{gap:"4px"},fontSize:"14px",fontWeight:"500",children:["NFT ID ",Object(me.jsx)(m.e,{color:g?b.warning:b.primary,children:l.nftId.toString()}),Object(me.jsx)(Mn.a,{size:12,hideText:!0,removed:!1,inRange:!g})]}),O?Object(me.jsx)(ue.b,{text:i.a._("Unstake your liquidity positions (i.e. your NFT tokens) from the farm"),placement:"top",width:"300px",children:Object(me.jsx)(rr,{colorScheme:Pn.Red,onClick:()=>x(A.a.from(a.pid),[{nftId:l.nftId,position:l,stakedLiquidity:h.liquidity.toString(),poolAddress:a.poolAddress}]),children:Object(me.jsx)(kt.a,{size:16})})}):Object(me.jsx)(rr,{colorScheme:Pn.Red,disabled:!O,children:Object(me.jsx)(kt.a,{size:16})})]}),Object(me.jsxs)(m.b,{alignItems:"center",justifyContent:"space-between",marginTop:"12px",color:b.subText,fontSize:"12px",fontWeight:"500",children:[Object(me.jsx)(m.e,{children:Object(me.jsx)(o.b,{id:"My Deposit"})}),Object(me.jsx)(m.e,{children:Object(me.jsx)(o.b,{id:"My Rewards"})})]}),Object(me.jsxs)(m.b,{alignItems:"center",justifyContent:"space-between",marginTop:"4px",marginBottom:d?"12px":"0",children:[Object(me.jsx)(je.a,{style:{padding:"0"},content:Object(me.jsx)(m.e,{as:"span",fontSize:"16px",fontWeight:"500",children:Object(xe.a)(f)}),dropdownContent:Object(me.jsxs)(me.Fragment,{children:[Object(me.jsxs)(m.b,{alignItems:"center",children:[Object(me.jsx)(le.a,{currency:l.amount0.currency,size:"16px"}),Object(me.jsxs)(m.e,{fontSize:"12px",marginLeft:"4px",fontWeight:"500",children:[l.amount0.toSignificant(8)," ",l.amount0.currency.symbol]})]},l.amount0.currency.address),Object(me.jsxs)(m.b,{alignItems:"center",children:[Object(me.jsx)(le.a,{currency:l.amount1.currency,size:"16px"}),Object(me.jsxs)(m.e,{fontSize:"12px",marginLeft:"4px",fontWeight:"500",children:[l.amount1.toSignificant(8)," ",l.amount1.currency.symbol]})]},l.amount1.currency.address)]})}),Object(me.jsx)(je.a,{style:{padding:"0"},content:S?Object(me.jsx)(m.e,{as:"span",fontSize:"16px",fontWeight:"500",children:Object(xe.a)(S)}):"--",hideIcon:!S,dropdownContent:C.map((e=>Object(me.jsxs)(m.b,{alignItems:"center",children:[Object(me.jsx)(le.a,{currency:e.currency,size:"16px"}),Object(me.jsxs)(m.e,{fontSize:"12px",marginLeft:"4px",fontWeight:"500",children:[e.toSignificant(8)," ",e.currency.wrapped.symbol]})]},e.currency.wrapped.address)))})]}),d&&Object(me.jsx)(Fn,{percent:d,style:{maxWidth:"100%"}}),Object(me.jsx)(Nn.a,{priceLower:y,priceUpper:k,price:r}),Object(me.jsxs)(m.b,{justifyContent:"space-between",fontSize:"12px",fontWeight:"500",marginTop:"8px",children:[Object(me.jsxs)(m.e,{children:[Object(me.jsxs)(m.e,{as:"span",color:b.subText,children:[Object(me.jsx)(o.b,{id:"Min Price"}),":"]})," ",Object(Hn.a)(y,v,Bn.a.LOWER)]}),Object(me.jsxs)(m.e,{children:[Object(me.jsxs)(m.e,{as:"span",color:b.subText,children:[Object(me.jsx)(o.b,{id:"Max Price"}),":"]})," ",Object(Hn.a)(k,v,Bn.a.UPPER)]})]})]},l.nftId.toString())},ir=ae.default.div.withConfig({displayName:"FarmCard__Range",componentId:"sc-1ijs4cs-0"})(["align-self:flex-end;align-items:center;color:",";padding:3px 4px;gap:4px;font-size:12px;font-weight:500;display:flex;border-radius:999px;background:",";"],(e=>{var t=e.theme;return e.inrange?t.primary:t.warning}),(e=>{var t=e.theme,n=e.inrange;return Object(Sn.d)(n?t.primary:t.warning,.3)})),cr=e=>{var t,n,r,i,c=e.disableUnstake,d=e.onUnstake,j=e.disableStake,b=e.onStake,u=e.onHarvest,x=e.pool,h=e.rewardValue,O=e.rewardPendings,f=e.depositedPositions,g=e.farmAddress,v=e.tokenPrices,y=e.targetPercent,k=e.targetPercentByNFT,w=Object(E.b)().chainId,C=Object(a.useState)(!1),S=Object(s.a)(C,2),T=S[0],I=S[1],A=Object(pe.a)(),L=Math.floor(Date.now()/1e3),P=x.endTime<L,D=O.some((e=>e.greaterThan(0))),z=P?0:x.depositedUsd-x.stakedUsd,R=Cn(),F=Object(a.useState)(!1),M=Object(s.a)(F,2),N=M[0],W=M[1],B="".concat(_.g.ELASTIC_CREATE_POOL,"/").concat(x.token0.isNative?x.token0.symbol:x.token0.address,"/").concat(x.token1.isNative?x.token1.symbol:x.token1.address,"/").concat(x.pool.fee),H=null===f||void 0===f?void 0:f[0],q=H&&(T?H.pool.priceOf(H.pool.token1):H.pool.priceOf(H.pool.token0)),U=f.filter((e=>e.pool.tickCurrent<e.tickLower||e.pool.tickCurrent>=e.tickUpper)).length,V=f.filter((e=>e.pool.tickCurrent>=e.tickLower&&e.pool.tickCurrent<e.tickUpper)).length,G=Object(kn.d)(w,null===x||void 0===x||null===(t=x.token0)||void 0===t||null===(n=t.wrapped)||void 0===n?void 0:n.address,x.token0.symbol),K=Object(kn.d)(w,null===x||void 0===x||null===(r=x.token1)||void 0===r||null===(i=r.wrapped)||void 0===i?void 0:i.address,x.token1.symbol);return Object(me.jsxs)(ln.e,{flip:N,joined:!!f.length,"data-testid":x.id,children:[!N&&Object(me.jsxs)(ln.g,{children:[Object(me.jsxs)(m.b,{alignItems:"center",justifyContent:"space-between",children:[Object(me.jsxs)(m.b,{alignItems:"center",children:[Object(me.jsx)(At.b,{currency0:x.token0,currency1:x.token1,size:20}),Object(me.jsx)(p.b,{to:B,style:{textDecoration:"none"},children:Object(me.jsxs)(m.e,{fontSize:16,fontWeight:500,children:[G," - ",K]})}),Object(me.jsxs)(ln.d,{style:{fontSize:"12px"},children:["FEE ",100*x.pool.fee/_.z,"%"]})]}),Object(me.jsxs)(m.b,{sx:{gap:"4px"},children:[!!U&&Object(me.jsx)(ue.a,{text:Object(me.jsx)(m.e,{fontSize:"12px",fontStyle:"italic",children:Object(me.jsx)(o.b,{id:"You have {numberOutRangePos} out-of-range position(s)",values:{numberOutRangePos:U}})}),children:Object(me.jsxs)(ir,{children:[U," ",Object(me.jsx)(xn.a,{size:12})]})}),!!V&&Object(me.jsx)(ue.a,{text:Object(me.jsx)(m.e,{fontSize:"12px",fontStyle:"italic",children:Object(me.jsx)(o.b,{id:"You have {numberInRangePos} in-range position(s)",values:{numberInRangePos:V}})}),children:Object(me.jsxs)(ir,{inrange:!0,children:[V," ",Object(me.jsx)(xn.a,{size:12})]})})]})]}),Object(me.jsxs)(m.b,{marginTop:"0.75rem",alignItems:"center",sx:{gap:"6px"},fontSize:"12px",color:A.subText,width:"max-content",fontWeight:"500",children:[Object(me.jsxs)(m.b,{alignItems:"center",sx:{gap:"4px"},children:[Object(me.jsx)(Ct.a,{toCopy:x.poolAddress}),Object(me.jsx)(m.e,{children:Object(Y.A)(w,x.poolAddress,2)})]}),Object(me.jsxs)(m.b,{marginLeft:"12px",onClick:()=>{R(x.poolAddress)},sx:{cursor:"pointer",gap:"4px"},role:"button",color:A.subText,children:[Object(me.jsx)(l.a,{size:"14px",color:A.subText}),Object(me.jsx)(o.b,{id:"Share"})]})]}),Object(me.jsx)(m.e,{width:"fit-content",lineHeight:"16px",fontSize:"12px",fontWeight:"500",color:A.subText,sx:{borderBottom:"1px dashed ".concat(A.border)},marginTop:"16px",children:Object(me.jsx)(ue.a,{width:"fit-content",placement:"right",text:Object(me.jsx)(Ft.a,{farmAPR:x.farmAPR,poolAPR:x.poolAPR}),children:Object(me.jsx)(o.b,{id:"Avg APR"})})}),Object(me.jsxs)(m.e,{fontSize:"28px",fontWeight:"500",color:A.apr,children:[(x.farmAPR+x.poolAPR).toFixed(2),"%"]}),Object(me.jsxs)(m.b,{justifyContent:"space-between",marginTop:"16px",fontSize:"12px",fontWeight:"500",color:A.subText,children:[Object(me.jsx)(m.e,{children:Object(me.jsx)(o.b,{id:"Staked TVL"})}),x.startTime>L?Object(me.jsx)(m.e,{color:A.warning,children:Object(me.jsx)(o.b,{id:"New phase will start in"})}):x.endTime>L?Object(me.jsx)(o.b,{id:"Current phase will end in"}):sn.b.includes(x.poolAddress.toLowerCase())?Object(me.jsx)(o.b,{id:"To be extended soon"}):Object(me.jsx)(o.b,{id:"Ended at"})]}),Object(me.jsxs)(m.b,{justifyContent:"space-between",marginTop:"4px",fontSize:"16px",fontWeight:"500",marginBottom:"16px",children:[Object(me.jsx)(m.e,{fontWeight:"500",children:Object(xe.a)(x.tvl)}),x.startTime>L?Object(me.jsx)(m.e,{color:A.warning,children:rt(x.startTime-L)}):x.endTime>L?Object(me.jsx)(me.Fragment,{children:rt(x.endTime-L)}):sn.b.includes(x.poolAddress.toLowerCase())?Object(me.jsx)(o.b,{id:"To be extended soon"}):Object(me.jsx)(me.Fragment,{children:re()(1e3*x.endTime).format("DD-MM-YYYY HH:mm")})]}),Object(me.jsx)(Tt.a,{}),Object(me.jsxs)(m.b,{marginTop:"16px",justifyContent:"space-between",fontSize:"12px",fontWeight:"500",color:A.subText,children:[Object(me.jsx)(m.e,{children:Object(me.jsx)(o.b,{id:"My Deposit"})}),Object(me.jsx)(m.e,{children:Object(me.jsx)(o.b,{id:"My Rewards"})})]}),Object(me.jsxs)(m.b,{marginTop:"4px",justifyContent:"space-between",children:[z?Object(me.jsxs)(m.b,{justifyContent:"flex-start",color:A.warning,fontWeight:"500",fontSize:"16px",children:[Object(xe.a)(x.depositedUsd),Object(me.jsx)(Ge.a,{placement:"top",color:A.warning,width:"270px",text:Object(me.jsxs)(m.b,{sx:{flexDirection:"column",gap:"6px",fontSize:"12px",lineHeight:"16px",fontWeight:400},children:[Object(me.jsx)(m.e,{as:"span",color:A.subText,children:Object(me.jsx)(o.b,{id:"You still have {0} in liquidity to stake to earn even more farming rewards",values:{0:Object(xe.a)(z)}})}),Object(me.jsxs)(m.e,{as:"span",color:A.text,children:["Staked: ",Object(xe.a)(x.stakedUsd)]}),Object(me.jsxs)(m.e,{as:"span",color:A.warning,children:["Not staked: ",Object(xe.a)(z)]})]})})]}):Object(me.jsx)(m.b,{justifyContent:"flex-start",color:A.text,fontWeight:"500",fontSize:"16px",children:x.depositedUsd?Object(xe.a)(x.depositedUsd):"--"}),Object(me.jsx)(je.a,{style:{padding:"0"},content:h?Object(me.jsx)(m.e,{fontSize:"16px",fontWeight:"500",textAlign:"right",children:Object(xe.a)(h)}):"--",hideIcon:!h,dropdownContent:Object(me.jsx)(m.b,{flexDirection:"column",sx:{gap:"8px"},children:O.map(((e,t)=>Object(me.jsxs)(m.b,{alignItems:"center",sx:{gap:"4px"},children:[Object(me.jsx)(le.a,{currency:e.currency,size:"16px"}),e.toSignificant(6)," ",e.currency.symbol]},e.currency.symbol||t)))})})]}),"0"!==x.feeTarget&&Object(me.jsx)(Fn,{percent:y,style:{maxWidth:"100%"}}),Object(me.jsxs)(m.b,{marginTop:"20px",justifyContent:"space-between",children:[Object(me.jsxs)(m.b,{sx:{gap:"12px"},children:[Object(me.jsxs)(ln.a,{id:"stake-button",color:A.primary,disabled:j,onClick:b,children:[Object(me.jsx)(wt.a,{size:16})," Stake"]}),Object(me.jsxs)(ln.a,{color:A.red,disabled:c,onClick:d,children:[Object(me.jsx)(kt.a,{size:16})," Unstake"]})]}),Object(me.jsxs)(ln.a,{color:A.apr,disabled:!D,onClick:u,children:[Object(me.jsx)(it,{})," Harvest"]})]}),Object(me.jsxs)(m.b,{justifyContent:"center",alignItems:"center",marginTop:"auto",paddingTop:"16px",fontSize:"12px",fontWeight:"500",role:"button",color:A.subText,opacity:f.length?1:.4,sx:{cursor:f.length?"pointer":"not-allowed"},onClick:()=>f.length&&W((e=>!e)),children:[Object(me.jsx)(m.e,{as:"span",style:{transform:"rotate(90deg)"},children:Object(me.jsx)(_t.n,{})}),Object(me.jsx)(m.e,{marginLeft:"4px",children:Object(me.jsx)(o.b,{id:"View Positions"})})]})]}),N&&Object(me.jsxs)(ln.f,{children:[Object(me.jsxs)(m.b,{alignItems:"center",height:"36px",children:[Object(me.jsx)(At.b,{currency0:x.token0,currency1:x.token1,size:20}),Object(me.jsx)(p.b,{to:"".concat(_.g.ELASTIC_CREATE_POOL,"/").concat(x.token0.isNative?x.token0.symbol:x.token0.address,"/").concat(x.token1.isNative?x.token1.symbol:x.token1.address,"/").concat(x.pool.fee),style:{textDecoration:"none"},children:Object(me.jsxs)(m.e,{fontSize:16,fontWeight:500,children:[G," - ",K]})}),Object(me.jsxs)(ln.d,{children:["FEE ",100*x.pool.fee/_.z,"%"]})]}),Object(me.jsxs)(m.b,{justifyContent:"space-between",fontSize:"12px",fontWeight:"500",alignItems:"center",children:[Object(me.jsxs)(m.e,{color:A.subText,children:[Object(me.jsx)(o.b,{id:"Current Price"}),":"]}),Object(me.jsxs)(de.d,{padding:"0",as:p.b,to:"".concat(_.g.MY_POOLS),style:{width:"max-content",color:A.subText,fontSize:"12px",fontWeight:"500",gap:"4px"},children:[Object(me.jsx)(Dn,{}),Object(me.jsx)(o.b,{id:"My Pools"})," \u2197"]})]}),Object(me.jsxs)(m.b,{marginTop:"4px",alignItems:"center",children:[q&&Object(me.jsx)(m.e,{fontSize:"12px",fontWeight:"500",style:{textAlign:"right"},children:Object(me.jsx)(o.b,{id:"{0} {1} per {2}",values:{0:q.toSignificant(10),1:q.quoteCurrency.symbol,2:q.baseCurrency.symbol}})}),Object(me.jsx)("span",{onClick:()=>I((e=>!e)),style:{marginLeft:"2px",cursor:"pointer",transform:"rotate(90deg)"},children:Object(me.jsx)(_t.n,{size:14})})]}),Object(me.jsx)(m.b,{maxHeight:"200px",flex:1,marginTop:"20px",sx:{overflowY:"scroll",gap:"12px"},flexDirection:"column",children:q&&f.map((e=>Object(me.jsx)(or,{farmAddress:g,isRevertPrice:T,price:q,pool:x,nftInfo:e,tokenPrices:v,targetPercent:k[e.nftId.toString()]},e.nftId.toString())))}),Object(me.jsxs)(m.b,{justifyContent:"center",alignItems:"center",marginTop:"auto",paddingTop:"16px",fontSize:"12px",fontWeight:"500",role:"button",color:A.subText,sx:{cursor:"pointer"},onClick:()=>W((e=>!e)),children:[Object(me.jsx)(m.e,{as:"span",style:{transform:"rotate(90deg)"},children:Object(me.jsx)(_t.n,{})}),Object(me.jsx)(m.e,{marginLeft:"4px",children:Object(me.jsx)(o.b,{id:"View Farm"})})]})]})]})},ar=e=>{var t,n,r,c=e.isApprovedForAll,d=e.fairlaunchAddress,j=e.pool,b=e.onOpenModal,u=e.onHarvest,h=e.isUserAffectedByFarmIssue,O=e.tokenPrices,f=Object(E.b)().chainId,g=Object(pe.a)(),v=Math.floor(Date.now()/1e3),y=Object($e.A)(),k=Object(s.a)(y,1)[0],w=Object(x.a)("(min-width: 1000px)"),C=Object(a.useState)(!1),S=Object(s.a)(C,2),L=S[0],P=S[1],D=Object(dn.b)().userFarmInfo,z=(null===D||void 0===D||null===(t=D[d])||void 0===t?void 0:t.joinedPositions[j.pid])||[],R=(null===D||void 0===D||null===(n=D[d])||void 0===n?void 0:n.depositedPositions.filter((e=>j.poolAddress.toLowerCase()===Object(Xt.computePoolAddress)({factoryAddress:fn.h[Object(fn.q)(f)?f:te.ChainId.MAINNET].elastic.coreFactory,tokenA:e.pool.token0,tokenB:e.pool.token1,fee:e.pool.fee,initCodeHashManualOverride:fn.h[Object(fn.q)(f)?f:te.ChainId.MAINNET].elastic.initCodeHash}).toLowerCase())))||[],F=(null===D||void 0===D||null===(r=D[d])||void 0===r?void 0:r.rewardPendings[j.pid])||j.rewardTokens.map((e=>te.CurrencyAmount.fromRawAmount(e,0))),M=F.reduce(((e,t)=>e+(O[t.currency.wrapped.address]||0)*+t.toExact()),0),N=Object(q.q)(d),W=Object(a.useState)(""),B=Object(s.a)(W,2),H=B[0],U=B[1],V=Object(a.useState)({}),G=Object(s.a)(V,2),K=G[0],Z=G[1],X=Object(a.useState)(!1),Q=Object(s.a)(X,2),J=Q[0],$=Q[1];Object(a.useEffect)((()=>{var e=function(){var e=Object(I.a)(Object(T.a)().mark((function e(){var t,n,r,s,o,i;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N&&"0"!==j.feeTarget){e.next=2;break}return e.abrupt("return");case 2:if((t=(null===D||void 0===D?void 0:D[d].joinedPositions[j.pid])||[]).length){e.next=6;break}return U(""),e.abrupt("return");case 6:return e.next=8,Promise.all(t.map(function(){var e=Object(I.a)(Object(T.a)().mark((function e(t){var n;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.getRewardCalculationData(t.nftId,j.pid);case 2:return n=e.sent,e.abrupt("return",new te.Fraction(n.vestingVolume.toString(),A.a.from(1e12).toString()));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 8:n=e.sent,r=t.reduce(((e,t,r)=>(e[t.nftId.toString()]=n[r].multiply(100).toFixed(2),e)),{}),Z(r),s=t.reduce(((e,t)=>e.add(t.liquidity.toString())),A.a.from(0))||A.a.from(0),o=t.reduce(((e,t,r)=>e.add(n[r].multiply(t.liquidity.toString()))),new te.Fraction(0,1)),s.gt(0)&&(i=o.multiply(100).divide(s.toString()),U(i.toFixed(2)));case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[N,j.feeTarget,d,j.pid,D]);var ee=j.endTime>v&&R.some((e=>{var t=z.find((t=>t.nftId.toString()===e.nftId.toString()));return!t||A.a.from(e.liquidity.toString()).gt(A.a.from(t.liquidity.toString()))})),ne=F.some((e=>e.greaterThan(0))),se=!!z.length,oe=j.startTime<=v,ie=Cn(),ce=j.endTime<v?0:j.depositedUsd-j.stakedUsd,ae=null===R||void 0===R?void 0:R[0],de=ae&&(L?ae.pool.priceOf(ae.pool.token1):ae.pool.priceOf(ae.pool.token0));return k!==et.a.GRID&&w?Object(me.jsxs)(ln.n,{isOpen:J&&!!R.length,"data-testid":j.id,children:[Object(me.jsxs)(ht.t,{isOpen:J&&!!R.length,children:[Object(me.jsxs)("div",{children:[Object(me.jsxs)(m.b,{alignItems:"center",children:[Object(me.jsx)(At.b,{currency0:j.token0,currency1:j.token1}),Object(me.jsx)(p.b,{to:"".concat(_.g.ELASTIC_CREATE_POOL,"/").concat(j.token0.isNative?j.token0.symbol:j.token0.address,"/").concat(j.token1.isNative?j.token1.symbol:j.token1.address,"/").concat(j.pool.fee),style:{textDecoration:"none"},children:Object(me.jsxs)(m.e,{fontSize:14,fontWeight:500,children:[Object(kn.d)(f,j.token0.wrapped.address,j.token0.symbol)," -"," ",Object(kn.d)(f,j.token1.wrapped.address,j.token1.symbol)]})}),Object(me.jsxs)(ln.d,{children:["FEE ",100*j.pool.fee/_.z,"%"]})]}),Object(me.jsxs)(m.b,{marginTop:"0.5rem",alignItems:"center",sx:{gap:"3px"},fontSize:"12px",color:g.subText,width:"max-content",fontWeight:"500",children:[Object(me.jsxs)(m.b,{alignItems:"center",sx:{gap:"4px"},children:[Object(me.jsx)(Ct.a,{toCopy:j.poolAddress}),Object(me.jsx)(m.e,{children:Object(Y.A)(f,j.poolAddress,2)})]}),Object(me.jsxs)(m.b,{marginLeft:"12px",onClick:()=>{ie(j.poolAddress)},sx:{cursor:"pointer",gap:"4px"},role:"button",color:g.subText,children:[Object(me.jsx)(l.a,{size:"14px",color:g.subText}),Object(me.jsx)(o.b,{id:"Share"})]})]})]}),Object(me.jsx)(m.e,{textAlign:"left",children:Object(xe.a)(j.tvl)}),Object(me.jsxs)(m.b,{alignItems:"center",justifyContent:"flex-start",color:g.apr,sx:{gap:"4px"},children:[(j.farmAPR+j.poolAPR).toFixed(2),"%",Object(me.jsx)(ue.a,{width:"fit-content",placement:"right",text:Object(me.jsx)(Ft.a,{farmAPR:j.farmAPR,poolAPR:j.poolAPR}),children:Object(me.jsx)(_t.i,{size:16,color:g.apr})})]}),Object(me.jsx)(m.b,{flexDirection:"column",alignItems:"flex-start",justifyContent:"center",sx:{gap:"8px"},children:j.startTime>v?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(m.e,{fontSize:"12px",color:g.warning,children:Object(me.jsx)(o.b,{id:"New phase will start in"})}),Object(me.jsx)(m.e,{color:g.warning,children:rt(j.startTime-v)})]}):j.endTime>v?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(m.e,{color:g.subText,fontSize:"12px",children:Object(me.jsx)(o.b,{id:"Current phase will end in"})}),rt(j.endTime-v)]}):sn.b.includes(j.poolAddress.toLowerCase())?Object(me.jsx)(o.b,{id:"To be extended soon"}):Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(m.e,{color:g.subText,fontSize:"12px",children:Object(me.jsx)(o.b,{id:"Ended at"})}),re()(1e3*j.endTime).format("DD-MM-YYYY HH:mm")]})}),Object(me.jsxs)("div",{children:[ce?Object(me.jsxs)(m.b,{justifyContent:"flex-start",color:g.warning,children:[Object(xe.a)(j.depositedUsd),Object(me.jsx)(Ge.a,{placement:"top",color:g.warning,width:"270px",text:Object(me.jsxs)(m.b,{sx:{flexDirection:"column",gap:"6px",fontSize:"12px",lineHeight:"16px",fontWeight:400},children:[Object(me.jsx)(m.e,{as:"span",color:g.subText,children:Object(me.jsx)(o.b,{id:"You still have {0} in liquidity to stake to earn even more farming rewards",values:{0:Object(xe.a)(ce)}})}),Object(me.jsxs)(m.e,{as:"span",color:g.text,children:["Staked: ",Object(xe.a)(j.stakedUsd)]}),Object(me.jsxs)(m.e,{as:"span",color:g.warning,children:["Not staked: ",Object(xe.a)(ce)]})]})})]}):Object(me.jsx)(m.b,{justifyContent:"flex-start",color:g.text,children:j.depositedUsd?Object(xe.a)(j.depositedUsd):"--"}),"0"!==j.feeTarget&&Object(me.jsx)(Fn,{percent:H})]}),Object(me.jsx)(m.b,{flexDirection:"column",alignItems:"flex-end",sx:{gap:"8px"},children:F.map(((e,t)=>Object(me.jsxs)(m.b,{alignItems:"center",sx:{gap:"4px"},children:[Object(me.jsx)(yn.a,{text:e.toSignificant(6),maxCharacters:10}),Object(me.jsx)(ue.a,{placement:"top",text:e.currency.symbol,width:"fit-content",children:Object(me.jsx)(le.a,{currency:e.currency,size:"16px"})})]},e.currency.symbol||t)))}),Object(me.jsxs)(m.b,{justifyContent:"flex-end",sx:{gap:"4px"},children:[h?Object(me.jsx)(ue.b,{text:i.a._("This farm is currently under maintenance. You can deposit your liquidity into the new farms instead. Your withdrawals are not affected."),placement:"top",width:"300px",children:Object(me.jsx)(rr,{style:{cursor:"not-allowed",backgroundColor:g.buttonGray,opacity:.4},children:Object(me.jsx)(wt.a,{size:16})})}):c&&ee?oe?Object(me.jsx)(ue.b,{text:i.a._("Stake your liquidity positions (i.e. your NFT tokens) into the farm to start earning rewards"),placement:"top",width:"300px",children:Object(me.jsx)(rr,{id:"stake-button",onClick:()=>b("stake",j),children:Object(me.jsx)(wt.a,{size:16})})}):Object(me.jsx)(ue.b,{text:i.a._("Farm has not started"),placement:"top",width:"fit-content",children:Object(me.jsx)(rr,{style:{cursor:"not-allowed",backgroundColor:g.buttonGray,color:g.border},children:Object(me.jsx)(wt.a,{size:16})})}):Object(me.jsx)(rr,{disabled:!0,children:Object(me.jsx)(wt.a,{size:16})}),se?Object(me.jsx)(ue.b,{text:i.a._("Unstake your liquidity positions (i.e. your NFT tokens) from the farm"),placement:"top",width:"300px",children:Object(me.jsx)(rr,{colorScheme:Pn.Red,onClick:()=>b("unstake",j),children:Object(me.jsx)(kt.a,{size:16})})}):Object(me.jsx)(rr,{colorScheme:Pn.Red,disabled:!se,children:Object(me.jsx)(kt.a,{size:16})}),ne?Object(me.jsx)(ue.b,{text:i.a._("Harvest"),placement:"top",width:"fit-content",children:Object(me.jsx)(rr,{colorScheme:Pn.APR,onClick:u,children:Object(me.jsx)(it,{})})}):Object(me.jsx)(rr,{colorScheme:Pn.Gray,disabled:!0,children:Object(me.jsx)(it,{})}),!!R.length&&Object(me.jsx)(rr,{colorScheme:Pn.Gray,onClick:()=>$((e=>!e)),children:Object(me.jsx)(Ye.a,{style:{transform:"rotate(".concat(J?"-180deg":"0",")"),transition:"transform 0.2s"}})})]})]}),J&&!!R.length&&Object(me.jsxs)(me.Fragment,{children:[Object(me.jsxs)(m.b,{fontSize:"12px",fontWeight:"500",padding:"0 16px 12px",sx:{gap:"4px"},children:[Object(me.jsxs)(m.e,{color:g.subText,children:[Object(me.jsx)(o.b,{id:"Current Price"}),":"]}),Object(me.jsx)(m.e,{fontSize:"12px",fontWeight:"500",style:{textAlign:"right"},children:de?Object(me.jsx)(o.b,{id:"{0} {1} per {2}",values:{0:de.toSignificant(10),1:de.quoteCurrency.symbol,2:de.baseCurrency.symbol}}):"--"}),Object(me.jsx)("span",{onClick:()=>P((e=>!e)),style:{marginLeft:"2px",cursor:"pointer"},children:Object(me.jsx)(_t.o,{size:14})})]}),Object(me.jsx)(ln.h,{children:de&&R.map((e=>Object(me.jsx)(or,{farmAddress:d,pool:j,price:de,isRevertPrice:L,nftInfo:e,tokenPrices:O,targetPercent:K[e.nftId.toString()]},e.nftId.toString())))})]})]}):Object(me.jsx)(cr,{pool:j,rewardValue:M,rewardPendings:F,onHarvest:u,onStake:()=>b("stake",j),disableStake:!c||!ee||!oe,onUnstake:()=>b("unstake",j),disableUnstake:!se,farmAddress:d,tokenPrices:O,targetPercent:H,targetPercentByNFT:K,depositedPositions:R})},dr=ae.default.div.withConfig({displayName:"ElasticFarmGroup__FarmContent",componentId:"sc-1rlnedo-0"})(["background:",";border:1px solid ",";border-radius:20px;overflow:hidden;"],(e=>e.theme.background),(e=>e.theme.border));!function(e){e.PID="pid",e.STAKED_TVL="staked_tvl",e.APR="apr",e.END_TIME="end_time",e.MY_DEPOSIT="my_deposit",e.MY_REWARD="my_reward"}(Zn||(Zn={})),function(e){e.ASC="asc",e.DESC="desc"}(Xn||(Xn={}));var lr=e=>{var t,n=e.address,c=e.onOpenModal,d=e.pools,l=e.userInfo,j=e.tokenPrices,b=Object(pe.a)(),u=Object(E.b)(),h=u.account,O=u.chainId,f=Object(x.a)("(min-width: 1000px)"),g=Object(p.d)(),v=Object(s.a)(g,2),y=v[0],k=v[1],w=y.get("orderBy")||Zn.MY_DEPOSIT,C=y.get("orderDirection")||Xn.DESC,S=Object(dn.b)().poolFeeLast24h,A=(null===l||void 0===l?void 0:l.depositedPositions.reduce(((e,t)=>e+Number(t.amount0.toExact())*(j[t.amount0.currency.wrapped.address]||0)+Number(t.amount1.toExact())*(j[t.amount1.currency.wrapped.address]||0)),0))||0,L=(null===l||void 0===l?void 0:l.depositedPositions.reduce(((e,t)=>{var n=t.amount0.currency.address,r=t.amount1.currency.address;return e[n]?e[n]=e[n].add(t.amount0):e[n]=t.amount0,e[r]?e[r]=e[r].add(t.amount1):e[r]=t.amount1,e}),{}))||{},P=Object.values((null===l||void 0===l?void 0:l.rewardPendings)||{}).flat(),D=P.reduce(((e,t)=>e+Number(t.toExact())*(j[t.currency.wrapped.address]||0)),0)||0,z=P.reduce(((e,t)=>{var n=t.currency.wrapped.address;return e[n]?e[n]=e[n].add(t):e[n]=t,e}),{})||{},R=d.map((e=>{var t=e.stakedTvl?e.stakedTvl:j[e.token0.wrapped.address]*Number(e.tvlToken0.toExact())+j[e.token1.wrapped.address]*Number(e.tvlToken1.toExact()),n=e.totalRewards.reduce(((e,t)=>e+Number(t.toExact())*j[t.currency.wrapped.address]),0),s=(e.endTime-e.startTime)/86400,o=O===te.ChainId.AVAXMAINNET&&"125"===e.pid?0:e.apr?e.apr:36500*(n||0)/s/e.poolTvl,i=e.poolAPR||0;!i&&e.feesUSD&&S[e.poolAddress]&&(i=100*(e.feesUSD-S[e.poolAddress])*365/e.poolTvl);var c=(null===l||void 0===l?void 0:l.joinedPositions[e.pid])||[],a=((null===l||void 0===l?void 0:l.depositedPositions.filter((t=>e.poolAddress.toLowerCase()===Object(Xt.computePoolAddress)({factoryAddress:fn.h[Object(fn.q)(O)?O:te.ChainId.MAINNET].elastic.coreFactory,tokenA:t.pool.token0,tokenB:t.pool.token1,fee:t.pool.fee,initCodeHashManualOverride:fn.h[Object(fn.q)(O)?O:te.ChainId.MAINNET].elastic.initCodeHash}).toLowerCase())))||[]).reduce(((e,t)=>e+Number(t.amount1.toExact())*(j[t.pool.token1.address.toLowerCase()]||0)+Number(t.amount0.toExact())*(j[t.pool.token0.address.toLowerCase()]||0)),0),d=c.reduce(((e,t)=>e+Number(t.amount1.toExact())*(j[t.pool.token1.address.toLowerCase()]||0)+Number(t.amount0.toExact())*(j[t.pool.token0.address.toLowerCase()]||0)),0),b=((null===l||void 0===l?void 0:l.rewardPendings[e.pid])||e.rewardTokens.map((e=>te.CurrencyAmount.fromRawAmount(e,0)))).reduce(((e,t)=>e+ +t.toExact()*j[t.currency.wrapped.address]),0);return Object(r.a)({tvl:t,poolAPR:i,farmAPR:o,depositedUsd:a,stakedUsd:d,rewardUSD:b},e)})).sort(((e,t)=>{switch(w){case Zn.PID:return C===Xn.DESC?+t.pid-+e.pid:+e.pid-+t.pid;case Zn.STAKED_TVL:return C===Xn.DESC?t.tvl-e.tvl:e.tvl-t.tvl;case Zn.APR:return C===Xn.DESC?t.farmAPR+t.poolAPR-e.farmAPR-e.poolAPR:e.farmAPR+e.poolAPR-t.farmAPR-t.poolAPR;case Zn.END_TIME:return C===Xn.DESC?t.endTime-e.endTime:e.endTime-t.endTime;case Zn.MY_DEPOSIT:return C===Xn.DESC?t.depositedUsd===e.depositedUsd?t.farmAPR+t.poolAPR-e.farmAPR-e.poolAPR:t.depositedUsd-e.depositedUsd:e.depositedUsd-t.depositedUsd;case Zn.MY_REWARD:return C===Xn.DESC?t.rewardUSD-e.rewardUSD:e.rewardUSD-t.rewardUSD;default:return C===Xn.DESC?+t.pid-+e.pid:+e.pid-+t.pid}})),F=Object(dn.c)(),M=((null===l||void 0===l?void 0:l.depositedPositions.map((e=>e.nftId.toString())))||[]).some((e=>F.includes(e))),N=Object(K.x)(),W=Object(q.o)(),B=Object(vn.c)(W,"isApprovedForAll",[h||_.db,n]),H=null===B||void 0===B||null===(t=B.result)||void 0===t?void 0:t[0],V=Object(dn.d)(n).approve,Y=Object(a.useState)(""),G=Object(s.a)(Y,2),Z=G[0],X=G[1],Q=Object(U.e)(Z),J=function(){var e=Object(I.a)(Object(T.a)().mark((function e(){var t;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H){e.next=5;break}return e.next=3,V();case 3:t=e.sent,X(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=y.get("type")||"active",ee=Object(x.a)("(max-width: ".concat(tt.i.upToExtraSmall,"px)")),ne=Object($e.A)(),re=Object(s.a)(ne,1)[0];if(!d)return null;var se=Object.values((null===l||void 0===l?void 0:l.rewardPendings)||{}).some((e=>e.some((e=>e.greaterThan("0"))))),oe=!(null===l||void 0===l||!l.depositedPositions.length),ie=e=>{var t=w!==e?Xn.DESC:C===Xn.DESC?Xn.ASC:Xn.DESC;y.set("orderDirection",t),y.set("orderBy",e),k(y)},ce=()=>Object(me.jsxs)(ht.s,{children:[Object(me.jsx)(m.b,{"grid-area":"token_pairs",alignItems:"center",justifyContent:"flex-start",children:Object(me.jsxs)(ht.f,{children:[Object(me.jsx)(o.b,{id:"Pool"}),w===Zn.PID&&(C===Xn.DESC?Object(me.jsx)(mn.a,{size:12}):C===Xn.ASC?Object(me.jsx)(hn.a,{size:12}):null)]})}),Object(me.jsx)(m.b,{"grid-area":"liq",alignItems:"center",justifyContent:"flex-start",children:Object(me.jsxs)(ht.f,{onClick:()=>{ie(Zn.STAKED_TVL)},children:[Object(me.jsx)(o.b,{id:"Staked TVL"}),w===Zn.STAKED_TVL&&(C===Xn.DESC?Object(me.jsx)(mn.a,{size:12}):C===Xn.ASC?Object(me.jsx)(hn.a,{size:12}):null)]})}),Object(me.jsxs)(m.b,{"grid-area":"apy",alignItems:"center",justifyContent:"flex-start",children:[Object(me.jsxs)(ht.f,{onClick:()=>{ie(Zn.APR)},children:[Object(me.jsx)(o.b,{id:"AVG APR"}),w===Zn.APR&&(C===Xn.DESC?Object(me.jsx)(mn.a,{size:12}):C===Xn.ASC?Object(me.jsx)(hn.a,{size:12}):null)]}),Object(me.jsx)(Ge.a,{text:i.a._("Average estimated return based on yearly trading fees from the pool & additional bonus rewards if you participate in the farm")})]}),Object(me.jsxs)(m.b,{"grid-area":"end",alignItems:"center",justifyContent:"flex-start",children:[Object(me.jsxs)(ht.f,{onClick:()=>{ie(Zn.END_TIME)},children:[Object(me.jsx)(o.b,{id:"Ending In"}),w===Zn.END_TIME&&(C===Xn.DESC?Object(me.jsx)(mn.a,{size:12}):C===Xn.ASC?Object(me.jsx)(hn.a,{size:12}):null)]}),Object(me.jsx)(Ge.a,{text:i.a._("Once a farm has ended, you will continue to receive returns through LP Fees")})]}),Object(me.jsx)(m.b,{"grid-area":"staked_balance",alignItems:"center",justifyContent:"flex-start",onClick:()=>{ie(Zn.MY_DEPOSIT)},children:Object(me.jsx)(je.a,{padding:"8px 0",hideIcon:!0,content:Object(me.jsxs)(ht.f,{children:[Object(me.jsx)(m.b,{flex:1,children:"My Deposit | Target Volume"})," ",w===Zn.MY_DEPOSIT&&(C===Xn.DESC?Object(me.jsx)(mn.a,{size:12}):C===Xn.ASC?Object(me.jsx)(hn.a,{size:12}):null),Object(me.jsx)(xn.a,{size:12,style:{marginLeft:"4px"}})]}),dropdownContent:Object(me.jsx)(m.e,{color:b.subText,fontSize:"12px",maxWidth:"400px",lineHeight:1.5,children:Object(me.jsx)(o.b,{id:"Some farms have a target trading volume (represented by the progress bar) to determine the amount of reward you will earn. The more trading volume your liquidity positions support, the more rewards per second you will make.<0/><1/>Once you have fully unlocked the target volume, you will start earning the maximum rewards per second. Adjusting the staked amount will recalculate the target volume.<2/>Learn more <3>here.</3>",components:{0:Object(me.jsx)("br",{}),1:Object(me.jsx)("br",{}),2:Object(me.jsx)("br",{}),3:Object(me.jsx)(tt.d,{href:"https://docs.kyberswap.com/guides/farming-mechanisms"})}})})})}),Object(me.jsx)(m.b,{"grid-area":"reward",alignItems:"center",justifyContent:"flex-end",onClick:()=>{ie(Zn.MY_REWARD)},children:Object(me.jsxs)(ht.f,{children:[Object(me.jsx)(o.b,{id:"My Rewards"}),w===Zn.MY_REWARD&&(C===Xn.DESC?Object(me.jsx)(mn.a,{size:12}):C===Xn.ASC?Object(me.jsx)(hn.a,{size:12}):null)]})}),Object(me.jsx)(m.b,{"grid-area":"action",alignItems:"center",justifyContent:"flex-end",children:Object(me.jsx)(ht.f,{children:Object(me.jsx)(o.b,{id:"Actions"})})})]}),ae=Math.floor(Date.now()/1e3),be=R.filter((e=>e.endTime>=ae)),he=R.filter((e=>e.endTime<ae)),Oe=R.filter((e=>e.startTime>ae)),fe=be.filter((e=>e.startTime<=ae)),ge=e=>e.map((e=>Object(me.jsx)(ar,{isUserAffectedByFarmIssue:M,isApprovedForAll:H,pool:e,onOpenModal:c,fairlaunchAddress:n,onHarvest:()=>{c("harvest",e)},tokenPrices:j},e.id)));return Object(me.jsxs)(dr,{"data-testid":"farm-block",children:[Object(me.jsxs)(m.b,{justifyContent:"space-between",alignItems:"center",padding:ee?"1rem":"1.25rem 24px",children:[Object(me.jsx)(m.e,{fontSize:"16px",fontWeight:"500",color:b.subText,children:Object(me.jsx)(o.b,{id:"Farming Contract"})}),!H&&null!==B&&void 0!==B&&B.loading?Object(me.jsx)(gn.a,{}):Object(me.jsxs)(m.b,{sx:{gap:"12px"},alignItems:"center",children:[h?H||"ended"===$?null:Z&&Q?Object(me.jsxs)(de.j,{style:{whiteSpace:"nowrap",height:"38px",padding:"0 12px"},onClick:J,disabled:!0,children:[Object(me.jsx)(xn.a,{width:"16px"}),Object(me.jsx)(m.e,{fontSize:"14px",marginLeft:"8px",children:Object(me.jsx)(gn.a,{children:Object(me.jsx)(o.b,{id:"Approving"})})})]}):Object(me.jsx)(ue.b,{text:Object(me.jsx)(m.e,{color:b.subText,as:"span",children:Object(me.jsx)(o.b,{id:"Authorize the farming contract so it can access your liquidity positions (i.e. your NFT tokens). Then deposit your liquidity positions using the <0>Deposit</0> button",components:{0:Object(me.jsx)(m.e,{as:"span",color:b.text})}})}),width:"400px",placement:"top",children:Object(me.jsxs)(de.j,{style:{whiteSpace:"nowrap",height:"38px",padding:"0 12px"},onClick:J,children:[Object(me.jsx)(xn.a,{width:"16px"}),Object(me.jsx)(m.e,{fontSize:"14px",marginLeft:"8px",children:Z&&Q?Object(me.jsx)(gn.a,{children:Object(me.jsx)(o.b,{id:"Approving"})}):f?Object(me.jsx)(o.b,{id:"Approve Farming Contract"}):Object(me.jsx)(o.b,{id:"Approve"})})]})}):Object(me.jsx)(nr,{onClick:N}),h&&oe&&H&&Object(me.jsx)(sr,{onClick:()=>c("forcedWithdraw")})]})]}),Object(me.jsxs)(ln.j,{children:[Object(me.jsxs)(ln.b,{children:[Object(me.jsxs)(ln.m,{children:[!ee&&Object(me.jsx)(On,{width:36,height:36,color:b.subText}),Object(me.jsxs)(ln.l,{children:[Object(me.jsxs)(m.e,{fontSize:"12px",color:b.subText,children:[Object(me.jsx)(o.b,{id:"Deposited Liquidity"}),Object(me.jsx)(Ge.a,{text:i.a._("Total value of liquidity positions (i.e. NFT tokens) you've deposited into the farming contract"),placement:"top"})]}),Object(me.jsx)(je.a,{style:{padding:"0",color:b.text},content:h?Object(me.jsx)(m.e,{as:"span",fontSize:"20px",fontWeight:"500",children:Object(xe.a)(A)}):"--",hideIcon:!h||!A,dropdownContent:Object.values(L).some((e=>e.greaterThan(0)))?Object(me.jsx)(ot.a,{children:Object.values(L).map((e=>e.greaterThan(0)&&Object(me.jsxs)(m.b,{alignItems:"center",children:[Object(me.jsx)(le.a,{currency:e.currency,size:"16px"}),Object(me.jsxs)(m.e,{fontSize:"12px",marginLeft:"4px",fontWeight:"500",children:[e.toSignificant(8)," ",e.currency.symbol]})]},e.currency.address)))}):""})]})]}),Object(me.jsxs)(m.b,{alignItems:"center",sx:{gap:"16px"},width:ee?"100%":void 0,children:[Object(me.jsx)($n,{style:{flex:1},disabled:!h||!H||"ended"===$,onClick:()=>c("deposit")}),Object(me.jsx)(er,{style:{flex:1},disabled:!h||!oe||!H,onClick:()=>c("withdraw")})]})]}),Object(me.jsxs)(ln.k,{children:[Object(me.jsxs)(ln.m,{children:[!ee&&Object(me.jsx)(it,{width:36,height:36,color:b.subText}),Object(me.jsxs)(ln.l,{children:[Object(me.jsx)(m.e,{fontSize:ee?"14px":"12px",color:b.subText,fontWeight:"500",children:Object(me.jsx)(o.b,{id:"Available Rewards"})}),Object(me.jsx)(je.a,{style:{padding:"0"},content:h&&D?Object(me.jsx)(m.e,{as:"span",fontSize:"20px",fontWeight:"500",color:b.text,children:Object(xe.a)(D)}):"--",hideIcon:!h||!D,dropdownContent:Object.values(z).length?Object(me.jsx)(ot.a,{children:Object.values(z).map((e=>e.greaterThan(0)&&Object(me.jsxs)(m.b,{alignItems:"center",children:[Object(me.jsx)(le.a,{currency:e.currency,size:"16px"}),Object(me.jsxs)(m.e,{fontSize:"12px",marginLeft:"4px",fontWeight:"500",children:[e.toSignificant(8)," ",e.currency.symbol]})]},e.currency.wrapped.address)))}):""})]})]}),Object(me.jsx)(tr,{onClick:()=>c("harvest"),disabled:!h||!se})]})]}),$===_.F.MY_FARMS?Object(me.jsxs)(me.Fragment,{children:[!!be.length&&Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(m.e,{fontSize:"16px",fontWeight:"500",color:b.subText,marginTop:"24px",paddingX:ee?"1rem":"24px",children:Object(me.jsx)(o.b,{id:"Active"})}),Object(me.jsxs)(ln.c,{gridMode:re===et.a.GRID||!f,children:[f&&re===et.a.LIST&&ce(),ge(be)]})]}),!!he.length&&Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(m.e,{fontSize:"16px",fontWeight:"500",color:b.subText,marginTop:"24px",paddingX:ee?"1rem":"24px",children:Object(me.jsx)(o.b,{id:"Ended"})}),Object(me.jsxs)(ln.c,{gridMode:re===et.a.GRID||!f,children:[f&&re===et.a.LIST&&ce(),ge(he)]})]})]}):Object(me.jsxs)(me.Fragment,{children:[!!Oe.length&&Object(me.jsx)(m.e,{fontSize:"16px",fontWeight:"500",color:b.subText,marginTop:"24px",paddingX:ee?"1rem":"24px",children:Object(me.jsx)(o.b,{id:"Active Farms"})}),Object(me.jsxs)(ln.c,{gridMode:re===et.a.GRID||!f,children:[f&&re===et.a.LIST&&ce(),ge($===_.F.ACTIVE?fe:he)]}),!!Oe.length&&Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(m.e,{fontSize:"16px",fontWeight:"500",color:b.warning,marginTop:"24px",paddingX:ee?"1rem":"24px",children:Object(me.jsx)(o.b,{id:"Upcoming Farms"})}),Object(me.jsxs)(ln.c,{gridMode:re===et.a.GRID||!f,children:[f&&re===et.a.LIST&&ce(),ge(Oe)]})]})]})]})},jr=n("./src/components/CheckBox.tsx"),br=n("./src/hooks/usePools.ts"),ur=n("./src/hooks/useProAmmPositions.ts"),pr=n("./src/utils/wrappedCurrency.ts"),xr=e=>{var t=e.position,n=e.onChange,r=e.selected,o=t.token0,i=t.token1,c=t.fee,d=t.liquidity,l=t.tickLower,j=t.tickUpper,b=Object(Lt.j)(o),u=Object(Lt.j)(i),p=b?Object(pr.a)(b):void 0,h=u?Object(pr.a)(u):void 0,O=Object(Q.a)([o,i]),f=Object(br.b)(null!==p&&void 0!==p?p:void 0,null!==h&&void 0!==h?h:void 0,c),g=Object(s.a)(f,2)[1],v=Object(a.useMemo)((()=>{if(g)return new Xt.Position({pool:g,liquidity:d.toString(),tickLower:l,tickUpper:j})}),[d,g,l,j]),y=A.a.from(t.liquidity.toString()).eq(0),k=v&&(v.pool.tickCurrent<t.tickLower||v.pool.tickCurrent>=t.tickUpper),w=((null===O||void 0===O?void 0:O[o])||0)*parseFloat((null===v||void 0===v?void 0:v.amount0.toExact())||"0")+((null===O||void 0===O?void 0:O[i])||0)*parseFloat((null===v||void 0===v?void 0:v.amount1.toExact())||"0"),C=Object(x.a)("(min-width: 768px)");return Object(me.jsxs)(bt,{children:[Object(me.jsx)(jr.a,{onChange:e=>{n(e.currentTarget.checked,v)},checked:r}),C?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(m.b,{alignItems:"center",children:Object(me.jsx)(m.e,{children:t.tokenId.toString()})}),Object(me.jsx)(m.e,{children:Object(xe.a)(w)}),Object(me.jsxs)(m.b,{justifyContent:"flex-end",sx:{gap:"4px"},alignItems:"center",children:[null===v||void 0===v?void 0:v.amount0.toSignificant(6),Object(me.jsx)(le.a,{size:"16px",currency:p})]}),Object(me.jsxs)(m.b,{justifyContent:"flex-end",sx:{gap:"4px"},alignItems:"center",children:[null===v||void 0===v?void 0:v.amount1.toSignificant(6),Object(me.jsx)(le.a,{size:"16px",currency:h})]}),Object(me.jsx)(m.b,{justifyContent:"flex-end",children:Object(me.jsx)(Mn.a,{removed:y,inRange:!k})})]}):Object(me.jsxs)(me.Fragment,{children:[Object(me.jsxs)(m.b,{alignItems:"center",children:[Object(me.jsx)(m.e,{marginRight:"4px",children:t.tokenId.toString()}),Object(me.jsx)(At.b,{currency0:p,currency1:h,size:16}),Object(me.jsx)(Mn.a,{removed:y,inRange:!k,hideText:!0})]}),Object(me.jsx)(m.b,{justifyContent:"flex-end",children:Object(me.jsx)(je.a,{content:Object(me.jsx)(m.e,{children:Object(xe.a)(w)}),dropdownContent:Object(me.jsxs)(me.Fragment,{children:[Object(me.jsxs)(m.b,{sx:{gap:"4px"},alignItems:"center",children:[Object(me.jsx)(le.a,{size:"16px",currency:p}),null===v||void 0===v?void 0:v.amount0.toSignificant(6)," ",null===v||void 0===v?void 0:v.amount0.currency.symbol]}),Object(me.jsxs)(m.b,{sx:{gap:"4px"},alignItems:"center",children:[Object(me.jsx)(le.a,{size:"16px",currency:h}),null===v||void 0===v?void 0:v.amount1.toSignificant(6)," ",null===v||void 0===v?void 0:v.amount1.currency.symbol]})]})})})]})]})};var mr,hr=function(e){var t,n=e.selectedFarmAddress,r=e.onDismiss,i=Object(Pt.a)().type,c=void 0===i?"active":i,d=Object(E.b)(),l=d.account,j=d.networkInfo,b=Object(pe.a)(),u=Object(a.useRef)(),p=Object(x.a)("(min-width: 768px)"),h=Object(dn.b)().farms,O=null===h||void 0===h?void 0:h.find((e=>e.id.toLowerCase()===n.toLowerCase())),f=(null===O||void 0===O?void 0:O.pools.filter((e=>"active"===c?e.endTime>+new Date/1e3:e.endTime<+new Date/1e3)).map((e=>e.poolAddress.toLowerCase())))||[],g=Object(a.useState)([]),v=Object(s.a)(g,2),y=v[0],k=v[1],w=Object(a.useRef)({}),C=Object(dn.d)(n).deposit,A=Object(ur.b)(l),L=A.positions,D=A.loading,z=Object(dn.e)(L||[],f),R=z.filterOptions,F=z.activeFilter,M=z.setActiveFilter,N=z.eligiblePositions,W=Object(a.useState)(!1),B=Object(s.a)(W,2),H=B[0],q=B[1],U=Object(a.useRef)(null);Object(at.a)(U,(()=>q(!1))),Object(a.useEffect)((()=>{u.current&&(0===y.length?(u.current.checked=!1,u.current.indeterminate=!1):y.length>0&&null!==N&&void 0!==N&&N.length&&y.length<(null===N||void 0===N?void 0:N.length)?(u.current.checked=!1,u.current.indeterminate=!0):(u.current.checked=!0,u.current.indeterminate=!1))}),[y.length,N]);var V=Object(P.c)().mixpanelHandler;if(!n)return null;var Y=function(){var e=Object(I.a)(Object(T.a)().mark((function e(){return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(y,y.map((e=>w.current[e.tokenId.toString()])));case 2:e.sent&&N.filter((e=>y.find((t=>t.tokenId.toString()===e.tokenId.toString())))).forEach((e=>{V(P.a.ELASTIC_DEPOSIT_LIQUIDITY_COMPLETED,{token_1:e.token0,token_2:e.token1})})),r();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=Object(me.jsxs)(ut,{role:"button",onClick:()=>q((e=>!e)),children:[null===(t=R.find((e=>e.code===F)))||void 0===t?void 0:t.value,Object(me.jsx)(mt,{rotate:H}),H&&Object(me.jsx)(pt,{ref:U,children:R.map((e=>Object(me.jsx)(xt,{role:"button",onClick:t=>{t.stopPropagation(),t.preventDefault(),M(e.code),q((e=>!e))},children:e.value},e.code)))})]});return Object(me.jsx)(ct.a,{isOpen:!!O,onDismiss:r,maxHeight:80,width:"80vw",maxWidth:"808px",children:Object(me.jsxs)(dt,{children:[Object(me.jsxs)(m.b,{alignItems:"center",justifyContent:"space-between",children:[Object(me.jsx)(lt,{children:Object(me.jsx)(o.b,{id:"Deposit your liquidity"})}),Object(me.jsxs)(m.b,{sx:{gap:"12px"},children:[p&&G,Object(me.jsx)(de.d,{onClick:r,width:"36px",height:"36px",padding:"0",children:Object(me.jsx)(st.a,{color:b.text})})]})]}),Object(me.jsx)(m.e,{fontSize:"12px",marginTop:"20px",color:b.subText,children:Object(me.jsx)(o.b,{id:"Deposit your liquidity positions (NFT tokens) first to enable farming. Only your in range liquidity positions (NFT tokens) will earn you farming rewards"})}),!p&&G,D?Object(me.jsx)(S.a,{}):null!==N&&void 0!==N&&N.length?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsxs)(jt,{children:[Object(me.jsx)(jr.a,{ref:u,onChange:e=>{e.currentTarget.checked?k(N||[]):k([])}}),Object(me.jsx)(m.e,{textAlign:"left",children:p?"ID":"ID | Token | Status"}),Object(me.jsx)(m.e,{textAlign:p?"left":"right",children:Object(me.jsx)(o.b,{id:"Your liquidity"})}),p&&Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(m.e,{textAlign:"right",children:"Token 1"}),Object(me.jsx)(m.e,{textAlign:"right",children:"Token 2"}),Object(me.jsx)(m.e,{textAlign:"right",children:"Status"})]})]}),Object(me.jsx)("div",{style:{overflowY:"scroll",minHeight:"100px"},children:N.map((e=>Object(me.jsx)(xr,{selected:y.some((t=>t.tokenId.toString()===e.tokenId.toString())),position:e,onChange:(t,n)=>{var r=e.tokenId.toString();n&&(w.current[r]=n),k(t?t=>[...t,e]:e=>e.filter((e=>e.tokenId.toString()!==r)))}},e.tokenId.toString())))}),Object(me.jsxs)(m.b,{justifyContent:"space-between",marginTop:"24px",children:[Object(me.jsx)("div",{}),Object(me.jsx)(de.j,{id:"deposit-selected-button",fontSize:"14px",padding:"10px 24px",width:"fit-content",onClick:Y,disabled:!y.length,children:Object(me.jsx)(o.b,{id:"Deposit Selected"})})]})]}):Object(me.jsxs)(m.b,{alignItems:"center",justifyContent:"center",padding:"16px",color:b.subText,marginTop:"40px",flexDirection:"column",children:[Object(me.jsx)(xn.a,{size:"48px"}),Object(me.jsx)(m.e,{fontSize:14,textAlign:"center",marginTop:"16px",maxWidth:"480px",lineHeight:1.5,children:Object(me.jsx)(o.b,{id:"You dont have any relevant liquidity positions yet.<0/> Add liquidity to the farming pools first. Check out our <1>Pools.</1>",components:{0:Object(me.jsx)("br",{}),1:Object(me.jsx)(tt.j,{to:"".concat(_.g.POOLS,"/").concat(j.route)})}})})]})]})})},Or=n("./src/state/farms/elastic/types.ts"),fr=e=>Object(ae.css)([""," ",""],e?"grid-template-columns: 18px 120px repeat(2, 1fr);":"grid-template-columns: 18px 120px repeat(3, 1fr);",(e=>e.theme.mediaWidth.upToSmall(mr||(mr=Object(ee.a)(["\n        grid-template-columns: 18px 120px 1fr;\n      "]))))),gr=Object(ae.default)(Ye.a).withConfig({displayName:"StakeModal__DropdownIcon",componentId:"sc-1r43t1n-0"})(["transition:transform 300ms;color:",";&:hover{transform:rotate(180deg);}"],(e=>e.theme.text)),vr=ae.default.div.withConfig({displayName:"StakeModal__ScrollContainer",componentId:"sc-1r43t1n-1"})(["display:flex;flex-direction:column;width:100%;min-height:90px;overflow-y:auto;overflow-x:hidden;::-webkit-scrollbar{display:unset;width:8px;border-radius:999px;}::-webkit-scrollbar-track{background:transparent;border-radius:999px;}::-webkit-scrollbar-thumb{background:",";border-radius:999px;}"],(e=>e.theme.disableText)),yr=Object(ae.default)(jt).withConfig({displayName:"StakeModal__StakeTableHeader",componentId:"sc-1r43t1n-2"})(["",""],(e=>{var t=e.isUnstake;return fr(t)})),kr=Object(ae.default)(bt).withConfig({displayName:"StakeModal__StakeTableRow",componentId:"sc-1r43t1n-3"})(["",""],(e=>{var t=e.isUnstake;return fr(t)})),wr=e=>{var t=e.position,n=e.onChange,r=e.selected,s=e.type,o=Object(x.a)("(min-width: 768px)"),i=Object(Q.a)([t.available.pool.token0.address,t.available.pool.token1.address]),c=t.available.pool.tickCurrent<t.available.tickLower||t.available.pool.tickCurrent>=t.available.tickUpper,a=i[t.available.pool.token0.address]||0,d=i[t.available.pool.token1.address]||0,l=a*parseFloat(t.available.amount0.toExact()||"0")+d*parseFloat(t.available.amount1.toExact()||"0"),j=a*parseFloat(t.staked.amount0.toExact()||"0")+d*parseFloat(t.staked.amount1.toExact()||"0");return Object(me.jsxs)(kr,{isUnstake:"unstake"===s,children:[Object(me.jsx)(jr.a,{onChange:e=>{n(e.currentTarget.checked)},checked:r}),o?Object(me.jsx)(m.b,{alignItems:"center",children:Object(me.jsx)(m.e,{children:t.available.nftId.toString()})}):Object(me.jsxs)(m.b,{alignItems:"center",children:[Object(me.jsx)(m.e,{marginRight:"4px",children:t.available.nftId.toString()}),Object(me.jsx)(At.b,{currency0:t.available.pool.token0,currency1:t.available.pool.token1,size:16}),Object(me.jsx)(Mn.a,{removed:!1,inRange:!c,hideText:!0})]}),"stake"===s&&Object(me.jsxs)(m.b,{justifyContent:"flex-end",sx:{gap:"4px"},alignItems:"center",fontSize:"12px",children:[Object(xe.a)(l),Object(me.jsx)(ue.a,{noArrow:!0,placement:"bottom",width:"fit-content",text:Object(me.jsxs)(me.Fragment,{children:[Object(me.jsxs)(m.b,{alignItems:"center",children:[Object(me.jsx)(le.a,{currency:t.available.amount0.currency,size:"16px"}),Object(me.jsx)(m.e,{fontSize:12,marginLeft:"4px",children:t.available.amount0.toSignificant(8)})]}),Object(me.jsxs)(m.b,{alignItems:"center",marginTop:"8px",children:[Object(me.jsx)(le.a,{currency:t.available.amount1.currency,size:"16px"}),Object(me.jsx)(m.e,{fontSize:12,marginLeft:"4px",children:t.available.amount1.toSignificant(8)})]})]}),children:Object(me.jsx)(gr,{})})]}),("unstake"===s||o)&&Object(me.jsxs)(m.b,{justifyContent:"flex-end",sx:{gap:"4px"},alignItems:"center",fontSize:"12px",children:[Object(xe.a)(j),Object(me.jsx)(ue.a,{noArrow:!0,placement:"bottom",width:"fit-content",text:Object(me.jsxs)(me.Fragment,{children:[Object(me.jsxs)(m.b,{alignItems:"center",children:[Object(me.jsx)(le.a,{currency:t.available.amount0.currency,size:"16px"}),Object(me.jsx)(m.e,{fontSize:12,marginLeft:"4px",children:t.staked.amount0.toSignificant(8)})]}),Object(me.jsxs)(m.b,{alignItems:"center",marginTop:"8px",children:[Object(me.jsx)(le.a,{currency:t.available.amount1.currency,size:"16px"}),Object(me.jsx)(m.e,{fontSize:12,marginLeft:"4px",children:t.staked.amount1.toSignificant(8)})]})]}),children:Object(me.jsx)(gr,{})})]}),o&&Object(me.jsx)(m.b,{justifyContent:"flex-end",children:Object(me.jsx)(Mn.a,{removed:!1,inRange:!c})})]})};var Cr=function(e){var t=e.selectedFarmAddress,n=e.onDismiss,r=e.poolId,i=e.poolAddress,c=e.type,d=Object(pe.a)(),l=Object(a.useRef)(),j=Object(E.b)(),b=j.chainId,u=j.networkInfo,p=Object(dn.b)(),h=p.farms,O=p.userFarmInfo,f=null===h||void 0===h?void 0:h.find((e=>e.id.toLowerCase()===t.toLowerCase())),g=Object(dn.d)(t),v=g.stake,y=g.unstake,k=g.emergencyWithdraw,w=null===f||void 0===f?void 0:f.pools.find((e=>Number(e.pid)===Number(r))),C=w||{},S=C.token0,L=C.token1,D=Object(a.useMemo)((()=>{var e,n;if(!Object(fn.q)(b))return[];var s=(null===O||void 0===O||null===(e=O[t])||void 0===e||null===(n=e.joinedPositions)||void 0===n?void 0:n[r])||[];return((null===O||void 0===O?void 0:O[t].depositedPositions.filter((e=>(null===w||void 0===w?void 0:w.poolAddress.toLowerCase())===Object(Xt.computePoolAddress)({factoryAddress:fn.h[b].elastic.coreFactory,tokenA:e.pool.token0,tokenB:e.pool.token1,fee:e.pool.fee,initCodeHashManualOverride:fn.h[b].elastic.initCodeHash}).toLowerCase())))||[]).map((e=>{var t,n=A.a.from((null===(t=s.find((t=>t.nftId.toString()===e.nftId.toString())))||void 0===t?void 0:t.liquidity.toString())||0),r=A.a.from(e.liquidity.toString()).sub(n);return{available:new Or.a({nftId:e.nftId,pool:e.pool,liquidity:r.toString(),tickLower:e.tickLower,tickUpper:e.tickUpper}),poolAddress:i,staked:new Or.a({nftId:e.nftId,pool:e.pool,liquidity:n.toString(),tickLower:e.tickLower,tickUpper:e.tickUpper})}})).filter((e=>"stake"===c?A.a.from(e.available.liquidity.toString()).gt(A.a.from(0)):A.a.from(e.staked.liquidity.toString()).gt(A.a.from(0))))}),[c,w,b,r,i,t,O]),z=Object(a.useState)([]),R=Object(s.a)(z,2),F=R[0],M=R[1],N=Object(P.c)().mixpanelHandler;Object(a.useEffect)((()=>{l.current&&(0===F.length?(l.current.checked=!1,l.current.indeterminate=!1):F.length>0&&null!==D&&void 0!==D&&D.length&&F.length<(null===D||void 0===D?void 0:D.length)?(l.current.checked=!1,l.current.indeterminate=!0):(l.current.checked=!0,l.current.indeterminate=!1))}),[F.length,D]);var W=function(){var e=Object(I.a)(Object(T.a)().mark((function e(){var t;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=F.map((e=>({nftId:e.available.nftId,position:e.available,poolAddress:e.poolAddress,stakedLiquidity:e.staked.liquidity.toString()}))),"stake"!==c){e.next=8;break}return e.next=4,v(A.a.from(r),t);case 4:e.sent&&N(P.a.ELASTIC_STAKE_LIQUIDITY_COMPLETED,{token_1:null===S||void 0===S?void 0:S.symbol,token_2:null===L||void 0===L?void 0:L.symbol}),e.next=17;break;case 8:if(b!==te.ChainId.AVAXMAINNET||125!==Number(r)){e.next=13;break}return e.next=11,k(t.map((e=>e.nftId)));case 11:e.next=17;break;case 13:return e.next=15,y(A.a.from(r),t);case 15:e.sent&&N(P.a.ELASTIC_UNSTAKE_LIQUIDITY_COMPLETED,{token_1:null===S||void 0===S?void 0:S.symbol,token_2:null===L||void 0===L?void 0:L.symbol});case 17:n();case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=Object(x.a)("(min-width: 768px)");return Object(me.jsx)(ct.a,{isOpen:!!f,onDismiss:n,maxHeight:80,maxWidth:"808px",children:Object(me.jsxs)(dt,{children:[Object(me.jsxs)(m.b,{alignItems:"center",justifyContent:"space-between",children:[Object(me.jsxs)(lt,{display:"flex",children:[Object(me.jsx)(At.b,{size:24,currency0:S,currency1:L}),"stake"===c?Object(me.jsx)(o.b,{id:"Stake your liquidity"}):Object(me.jsx)(o.b,{id:"Unstake your liquidity"})]}),Object(me.jsx)(m.b,{sx:{gap:"12px"},children:Object(me.jsx)(de.d,{onClick:n,width:"36px",height:"36px",padding:"0",children:Object(me.jsx)(st.a,{color:d.text})})})]}),Object(me.jsx)(m.e,{fontSize:"12px",marginTop:"20px",color:d.subText,children:"stake"===c?Object(me.jsx)(o.b,{id:"Stake your deposited liquidity positions (NFT tokens) into the farms to start earning rewards. Only your in-range positions will earn rewards"}):Object(me.jsx)(o.b,{id:"Unstake your liquidity positions (NFT tokens) from the farm. You will no longer earn rewards on these positions once unstaked"})}),D.length?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsxs)(yr,{isUnstake:"unstake"===c,children:[Object(me.jsx)(jr.a,{ref:l,onChange:e=>{e.currentTarget.checked?M(D||[]):M([])}}),Object(me.jsx)(m.e,{textAlign:"left",children:B?"ID":"ID | Token | Status"}),"stake"===c&&Object(me.jsx)(m.e,{textAlign:"right",children:Object(me.jsx)(o.b,{id:"Available Balance"})}),("unstake"===c||B)&&Object(me.jsx)(m.e,{textAlign:"right",children:Object(me.jsx)(o.b,{id:"Staked Balance"})}),B&&Object(me.jsx)(m.e,{textAlign:"right",children:Object(me.jsx)(o.b,{id:"Status"})})]}),Object(me.jsx)(vr,{children:D.map((e=>Object(me.jsx)(wr,{type:c,selected:F.map((e=>e.available.nftId.toString())).includes(e.available.nftId.toString()),position:e,onChange:t=>{M(t?t=>[...t,e]:t=>t.filter((t=>t.available.nftId.toString()!==e.available.nftId.toString())))}},e.available.nftId.toString())))}),Object(me.jsxs)(m.b,{justifyContent:"space-between",marginTop:"24px",children:[Object(me.jsx)("div",{}),Object(me.jsx)(de.j,{id:"stake-selected-button",fontSize:"14px",padding:"10px 24px",width:"fit-content",onClick:W,disabled:!F.length,children:"stake"===c?Object(me.jsx)(o.b,{id:"Stake Selected"}):Object(me.jsx)(o.b,{id:"Unstake Selected"})})]})]}):"stake"===c?Object(me.jsxs)(m.b,{sx:{flexDirection:"column",justifyContent:"center",alignItems:"center"},fontSize:14,color:d.subText,padding:"16px",marginTop:"20px",children:[Object(me.jsx)(xn.a,{size:"48px"}),Object(me.jsx)(m.e,{marginTop:"16px",textAlign:"center",lineHeight:1.5,children:Object(me.jsx)(o.b,{id:"You haven't deposited any liquidity positions (NFT tokens) for this farming pair yet.<0/><1/>Add liquidity to this pool first in our <2>Pools</2> page. If you've done that, deposit your liquidity position (NFT tokens) before you stake",components:{0:Object(me.jsx)("br",{}),1:Object(me.jsx)("br",{}),2:Object(me.jsx)(tt.j,{to:"".concat(_.g.POOLS,"/").concat(u.route)})}})})]}):Object(me.jsx)(m.e,{fontSize:14,color:d.subText,textAlign:"center",padding:"16px",marginTop:"20px",children:Object(me.jsx)(o.b,{id:"You don't have any available position, Please deposit and stake first"})})]})})},Sr=ae.default.div.withConfig({displayName:"HarvestModal__HarvestInfo",componentId:"sc-1y7e2ro-0"})(["padding:16px;border-radius:4px;background:",";margin-top:18px;font-size:12px;line-height:20px;"],(e=>e.theme.primary+"33")),Tr=ae.default.div.withConfig({displayName:"HarvestModal__RewardRow",componentId:"sc-1y7e2ro-1"})(["border-radius:999px;padding:8px;background:",";display:flex;justify-content:center;align-items:center;gap:8px;margin-top:20px;margin-bottom:24px;"],(e=>e.theme.buttonBlack));var Ir=function(e){var t,n=e.farmsAddress,r=e.poolId,s=e.onDismiss,i=Object(E.b)().networkInfo,c=Object(pe.a)(),a=Object(dn.b)(),d=a.farms,l=a.userFarmInfo,j=null===d||void 0===d?void 0:d.find((e=>e.id.toLowerCase()===n.toLowerCase())),b=Object(dn.d)(n).harvest,u=null!==r?null===j||void 0===j?void 0:j.pools.find((e=>Number(e.pid)===Number(r))):void 0,p=Object(P.c)().mixpanelHandler,x={},h=(null===l||void 0===l?void 0:l[n])||{},O=h.rewardPendings,f=void 0===O?{}:O,g=h.joinedPositions,v=void 0===g?{}:g;null===r?Object.values(f||{}).flat().forEach((e=>{var t=e.currency.wrapped.address;x[t]?x[t]=x[t].add(e):x[t]=e})):null===f||void 0===f||null===(t=f[r.toString()])||void 0===t||t.forEach((e=>{var t=e.currency.wrapped.address;x[t]?x[t]=x[t].add(e):x[t]=e}));var y=function(){var e=Object(I.a)(Object(T.a)().mark((function e(){var t,n,o;return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],o=[],null===r?Object.keys(v).forEach((e=>{v[e].forEach((t=>{A.a.from(t.liquidity.toString()).gt(A.a.from(0))&&(n.push(t.nftId),o.push(A.a.from(e)))}))})):null===(t=v[r.toString()])||void 0===t||t.forEach((e=>{A.a.from(e.liquidity.toString()).gt(A.a.from(0))&&(n.push(e.nftId),o.push(A.a.from(r)))})),e.next=5,b(n,o,u,Object.values(x));case 5:e.sent&&(s(),p(null===r?P.a.ELASTIC_ALLS_REWARD_HARVESTED:P.a.ELASTIC_INDIVIDUAL_REWARD_HARVESTED));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=Object.keys(x),w=Object(Q.a)(k),C=Object.values(x).reduce(((e,t)=>e+Number(t.toExact())*(w[t.currency.wrapped.address]||0)),0);return Object(me.jsx)(ct.a,{isOpen:!!j,onDismiss:s,maxHeight:80,maxWidth:"392px",children:Object(me.jsxs)(dt,{children:[Object(me.jsxs)(m.b,{alignItems:"center",justifyContent:"space-between",children:[Object(me.jsx)(lt,{children:null===r?Object(me.jsx)(o.b,{id:"Harvest All"}):Object(me.jsxs)(m.b,{children:[Object(me.jsx)(At.b,{size:24,currency0:null===u||void 0===u?void 0:u.token0,currency1:null===u||void 0===u?void 0:u.token1})," ",Object(me.jsx)(m.e,{children:Object(me.jsx)(o.b,{id:"Harvest"})})]})}),Object(me.jsx)(m.b,{sx:{gap:"12px"},children:Object(me.jsx)(de.d,{onClick:s,width:"36px",height:"36px",padding:"0",children:Object(me.jsx)(st.a,{color:c.text})})})]}),Object(me.jsx)(Sr,{children:Object(me.jsx)(o.b,{id:"After harvesting, your rewards will begin vesting linearly (only if the farm has a vesting duration).<0/><1/>Vesting means that your reward tokens will be locked initially but released gradually. You can claim the reward tokens to your wallet as and when they are released.<2/><3/>To claim your rewards, go to the <4>Vesting</4> tab and click 'Claim'.",components:{0:Object(me.jsx)("br",{}),1:Object(me.jsx)("br",{}),2:Object(me.jsx)("br",{}),3:Object(me.jsx)("br",{}),4:Object(me.jsx)(tt.j,{to:"".concat(_.g.FARMS,"/").concat(i.route,"?type=vesting&tab=elastic")})}})}),Object(me.jsxs)(m.b,{marginTop:"20px",justifyContent:"space-between",children:[Object(me.jsx)(m.e,{children:Object(me.jsx)(o.b,{id:"My Rewards"})}),Object(me.jsx)(m.e,{children:Object(xe.a)(C)})]}),Object(me.jsx)(Tr,{children:Object.values(x).map((e=>Object(me.jsxs)(m.b,{alignItems:"center",sx:{gap:"4px"},children:[Object(me.jsx)(yn.a,{text:e.toSignificant(6)||"0",maxCharacters:10}),Object(me.jsx)(ue.a,{placement:"top",text:e.currency.symbol,width:"fit-content",children:Object(me.jsx)(le.a,{currency:e.currency,size:"16px"})})]},e.currency.symbol)))}),Object(me.jsx)(de.j,{onClick:y,children:null===r?Object(me.jsx)(o.b,{id:"Harvest All"}):Object(me.jsx)(o.b,{id:"Harvest"})})]})})},Ar=e=>{var t,n=e.position,r=e.onChange,o=e.selected,i=e.forced,c=e.farmAddress,d=n.token0,l=n.token1,j=n.fee,b=n.liquidity,u=n.tickLower,p=n.tickUpper,h=Object(E.b)().chainId,O=Object(dn.d)(c),f=O.unstake,g=O.emergencyWithdraw,v=Object(dn.b)().userFarmInfo,y=null===v||void 0===v||null===(t=v[c])||void 0===t?void 0:t.joinedPositions,k=null;y&&Object.keys(y).forEach((e=>{y[e].forEach((t=>{t.nftId.toString()===n.tokenId.toString()&&(k=e)}))}));var w=Object(Lt.j)(d),C=Object(Lt.j)(l),S=w?Object(pr.a)(w):void 0,T=C?Object(pr.a)(C):void 0,I=Object(Q.a)([d,l]),_=Object(br.b)(null!==S&&void 0!==S?S:void 0,null!==T&&void 0!==T?T:void 0,j),L=Object(s.a)(_,2)[1],P=Object(a.useMemo)((()=>{if(L)return new Xt.Position({pool:L,liquidity:b.toString(),tickLower:u,tickUpper:p})}),[b,L,u,p]),D=A.a.from(n.liquidity.toString()).eq(0),z=P&&(P.pool.tickCurrent<n.tickLower||P.pool.tickCurrent>=n.tickUpper),R=Object(pe.a)(),F=((null===I||void 0===I?void 0:I[d])||0)*parseFloat((null===P||void 0===P?void 0:P.amount0.toExact())||"0")+((null===I||void 0===I?void 0:I[l])||0)*parseFloat((null===P||void 0===P?void 0:P.amount1.toExact())||"0"),M=Object(x.a)("(min-width: 768px)"),N=Object(me.jsx)(m.b,{width:"17.5px",height:"17.5px",backgroundColor:R.disableText,sx:{borderRadius:"2px"},alignItems:"center",justifyContent:"center",children:Object(me.jsx)(st.a,{size:14,color:"#333"})});return Object(me.jsxs)(bt,{children:[i?Object(me.jsx)(jr.a,{disabled:!0,checked:!0}):n.stakedLiquidity.gt(A.a.from(0))?Object(me.jsx)(ue.a,{text:"You will need to unstake this position first before you can withdraw it",children:N}):Object(me.jsx)(jr.a,{onChange:e=>{r(e.currentTarget.checked,P)},checked:o}),M?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsxs)(m.b,{alignItems:"center",sx:{gap:"4px"},children:[Object(me.jsx)(m.e,{children:n.tokenId.toString()}),Object(me.jsx)(Mn.a,{removed:D,inRange:!z,hideText:!0,size:12})]}),Object(me.jsx)(m.e,{children:Object(xe.a)(F)}),Object(me.jsxs)(m.b,{justifyContent:"flex-end",sx:{gap:"4px"},alignItems:"center",children:[null===P||void 0===P?void 0:P.amount0.toSignificant(6),Object(me.jsx)(le.a,{size:"16px",currency:S})]}),Object(me.jsxs)(m.b,{justifyContent:"flex-end",sx:{gap:"4px"},alignItems:"center",children:[null===P||void 0===P?void 0:P.amount1.toSignificant(6),Object(me.jsx)(le.a,{size:"16px",currency:T})]}),Object(me.jsx)(m.b,{justifyContent:"flex-end",children:Object(me.jsxs)(ln.a,{color:R.red,style:{height:"28px"},disabled:n.stakedLiquidity.eq(A.a.from(0)),onClick:()=>{k&&P&&(h===te.ChainId.AVAXMAINNET&&125===Number(k)?g([n.tokenId]):f(A.a.from(k),[{nftId:n.tokenId,stakedLiquidity:n.stakedLiquidity.toString(),poolAddress:n.poolId,position:P}]))},children:[Object(me.jsx)(kt.a,{size:16})," Unstake"]})})]}):Object(me.jsxs)(me.Fragment,{children:[Object(me.jsxs)(m.b,{alignItems:"center",children:[Object(me.jsx)(m.e,{marginRight:"4px",children:n.tokenId.toString()}),Object(me.jsx)(At.b,{currency0:S,currency1:T,size:16}),Object(me.jsx)(Mn.a,{removed:D,inRange:!z,hideText:!0})]}),Object(me.jsx)(m.b,{justifyContent:"flex-end",children:Object(me.jsx)(je.a,{content:Object(me.jsx)(m.e,{children:Object(xe.a)(F)}),dropdownContent:Object(me.jsxs)(me.Fragment,{children:[Object(me.jsxs)(m.b,{sx:{gap:"4px"},alignItems:"center",children:[Object(me.jsx)(le.a,{size:"16px",currency:S}),null===P||void 0===P?void 0:P.amount0.toSignificant(6)," ",null===P||void 0===P?void 0:P.amount0.currency.symbol]}),Object(me.jsxs)(m.b,{sx:{gap:"4px"},alignItems:"center",children:[Object(me.jsx)(le.a,{size:"16px",currency:T}),null===P||void 0===P?void 0:P.amount1.toSignificant(6)," ",null===P||void 0===P?void 0:P.amount1.currency.symbol]})]})})})]})]})};var _r=function(e){var t,n=e.selectedFarmAddress,r=e.onDismiss,i=e.forced,c=void 0!==i&&i,d=Object(pe.a)(),l=Object(E.b)().chainId,j=Object(x.a)("(min-width: 768px)"),b=Object(Pt.a)().type,u=void 0===b?"active":b,p=Object(a.useRef)(),h=Object(dn.b)(),O=h.farms,f=h.userFarmInfo,g=null===O||void 0===O?void 0:O.find((e=>e.id.toLowerCase()===n.toLowerCase())),v=(null===g||void 0===g?void 0:g.pools.filter((e=>!!c||(u===_.F.MY_FARMS||(u===_.F.ACTIVE?e.endTime>+new Date/1e3:e.endTime<+new Date/1e3)))).map((e=>e.poolAddress.toLowerCase())))||[],y=(null===f||void 0===f?void 0:f[(null===g||void 0===g?void 0:g.id)||""])||{},k=y.depositedPositions,w=void 0===k?[]:k,C=y.joinedPositions,S=void 0===C?{}:C,L=Object(a.useMemo)((()=>Object(fn.q)(l)?w.map((e=>{var t,n,r=null===(t=Object.values(S).flat().filter((t=>e.nftId.toString()===t.nftId.toString()&&A.a.from(t.liquidity.toString()).gt("0"))))||void 0===t||null===(n=t[0])||void 0===n?void 0:n.liquidity;return{nonce:A.a.from(0),poolId:Object(Xt.computePoolAddress)({factoryAddress:fn.h[l].elastic.coreFactory,tokenA:e.pool.token0,tokenB:e.pool.token1,fee:e.pool.fee,initCodeHashManualOverride:fn.h[l].elastic.initCodeHash}),feeGrowthInsideLast:A.a.from(0),operator:"",rTokenOwed:A.a.from(0),fee:e.pool.fee,tokenId:e.nftId,tickLower:e.tickLower,tickUpper:e.tickUpper,liquidity:A.a.from(e.liquidity.toString()),token0:e.amount0.currency.address,token1:e.amount1.currency.address,stakedLiquidity:r?A.a.from(r.toString()):A.a.from(0)}})):[]),[l,w,S]),D=Object(dn.e)(L,v),z=D.filterOptions,R=D.activeFilter,F=D.setActiveFilter,M=D.eligiblePositions,N=Object(a.useMemo)((()=>M.filter((e=>e.stakedLiquidity.eq(0)))),[M]),W=Object(a.useState)([]),B=Object(s.a)(W,2),H=B[0],q=B[1],U=Object(a.useRef)({}),V=Object(dn.d)(n),Y=V.withdraw,G=V.emergencyWithdraw;Object(a.useEffect)((()=>{if(p.current)return c?(p.current.checked=!0,void(p.current.indeterminate=!1)):void(0===H.length?(p.current.checked=!1,p.current.indeterminate=!1):H.length>0&&null!==N&&void 0!==N&&N.length&&H.length<(null===N||void 0===N?void 0:N.length)?(p.current.checked=!1,p.current.indeterminate=!0):(p.current.checked=!0,p.current.indeterminate=!1))}),[H.length,N,c]);var K=Object(a.useState)(!1),Z=Object(s.a)(K,2),X=Z[0],Q=Z[1],J=Object(a.useRef)(null);Object(at.a)(J,(()=>Q(!1)));var $=Object(P.c)().mixpanelHandler;if(!n)return null;var ee=function(){var e=Object(I.a)(Object(T.a)().mark((function e(){return Object(T.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c){e.next=5;break}return e.next=3,G(M.map((e=>e.tokenId)));case 3:return r(),e.abrupt("return");case 5:return e.next=7,Y(H,H.map((e=>U.current[e.tokenId.toString()])));case 7:e.sent&&M.filter((e=>H.find((t=>t.tokenId.toString()===e.tokenId.toString())))).forEach((e=>{$(P.a.ELASTIC_WITHDRAW_LIQUIDITY_COMPLETED,{token_1:e.token0,token_2:e.token1})})),r();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=Object(me.jsxs)(ut,{role:"button",onClick:()=>Q((e=>!e)),children:[null===(t=z.find((e=>e.code===R)))||void 0===t?void 0:t.value,Object(me.jsx)(mt,{rotate:X}),X&&Object(me.jsx)(pt,{ref:J,children:z.map((e=>Object(me.jsx)(xt,{role:"button",onClick:t=>{t.stopPropagation(),t.preventDefault(),F(e.code),Q((e=>!e))},children:e.value},e.code)))})]});return Object(me.jsx)(ct.a,{isOpen:!!g,onDismiss:r,width:"80vw",maxHeight:80,maxWidth:"808px",children:Object(me.jsxs)(dt,{children:[Object(me.jsxs)(m.b,{alignItems:"center",justifyContent:"space-between",children:[Object(me.jsx)(lt,{children:c?Object(me.jsx)(o.b,{id:"Force Withdraw"}):Object(me.jsx)(o.b,{id:"Withdraw your liquidity"})}),Object(me.jsxs)(m.b,{sx:{gap:"12px"},children:[j&&!c&&te,Object(me.jsx)(de.d,{onClick:r,width:"36px",height:"36px",padding:"0",children:Object(me.jsx)(st.a,{color:d.text})})]})]}),Object(me.jsx)(m.e,{fontSize:"12px",marginTop:"20px",color:d.subText,children:c?Object(me.jsx)(o.b,{id:"Below is a list of your affected liquidity positions"}):Object(me.jsx)(o.b,{id:"You will need to unstake your liquidity positions (NFT tokens) first before withdrawing it back to your wallet"})}),!j&&!c&&te,Object(me.jsxs)(jt,{children:[Object(me.jsx)(jr.a,{disabled:c,ref:p,onChange:e=>{e.currentTarget.checked?q(N||[]):q([])}}),Object(me.jsx)(m.e,{textAlign:"left",children:j?"ID":"ID | Token | Status"}),Object(me.jsx)(m.e,{textAlign:j?"left":"right",children:Object(me.jsx)(o.b,{id:"Your liquidity"})}),j&&Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(m.e,{textAlign:"right",children:"Token 1"}),Object(me.jsx)(m.e,{textAlign:"right",children:"Token 2"}),Object(me.jsx)(m.e,{textAlign:"right",children:"Action"})]})]}),Object(me.jsx)("div",{style:{overflowY:"auto"},children:M.filter((e=>!0)).map((e=>Object(me.jsx)(Ar,{selected:H.some((t=>t.tokenId.toString()===e.tokenId.toString())),position:e,farmAddress:n,forced:c,onChange:(t,n)=>{var r=e.tokenId.toString();n&&(U.current[r]=n),q(t?t=>[...t,e]:e=>e.filter((e=>e.tokenId.toString()!==r)))}},e.tokenId.toString())))}),Object(me.jsxs)(m.b,{justifyContent:"space-between",marginTop:"24px",children:[Object(me.jsx)("div",{}),Object(me.jsx)(de.j,{fontSize:"14px",padding:"10px 24px",width:"fit-content",onClick:ee,disabled:!c&&!H.length,style:c?{background:d.red,color:d.textReverse}:void 0,children:c?Object(me.jsx)(o.b,{id:"Force Withdraw"}):Object(me.jsx)(o.b,{id:"Withdraw Selected"})})]})]})})},Lr={[te.ChainId.MAINNET]:"0xb85ebe2e4ea27526f817ff33fb55fb240057c03f",[te.ChainId.AVAXMAINNET]:"0xbdec4a045446f583dc564c0a227ffd475b329bf0",[te.ChainId.MATIC]:"0xbdec4a045446f583dc564c0a227ffd475b329bf0",[te.ChainId.OPTIMISM]:"0xb85ebe2e4ea27526f817ff33fb55fb240057c03f",[te.ChainId.ARBITRUM]:"0xbdec4a045446f583dc564c0a227ffd475b329bf0"};var Er=function(e){var t,n,c,d=e.stakedOnly,l=Object(pe.a)(),j=Object(E.b)(),b=j.isEVM,u=j.networkInfo,x=j.chainId,h=Object(p.d)(),O=Object(s.a)(h,1)[0],f=O.get("token0")||void 0,g=O.get("token1")||void 0,v=Object(dn.b)(),y=v.farms,k=v.loading,w=v.userFarmInfo,C=Object(dn.c)(),T=Object(a.useRef)(),I=Object(a.useState)(!1),A=Object(s.a)(I,2),L=A[0],P=A[1];Object(at.a)(T,L?()=>P((e=>!e)):void 0);var D=Object(Pt.a)(),z=O.get("type"),R=z||_.F.ACTIVE,F=R===_.F.ACTIVE?"active":"ended",M=O.get("tab"),N=(null===(t=O.get("search"))||void 0===t?void 0:t.toLowerCase())||"",W=Object(a.useMemo)((()=>{var e,t,n,s,o=Date.now()/1e3,i=null===y||void 0===y?void 0:y.map((e=>{var t=e.pools.filter((e=>R===_.F.MY_FARMS||(R===_.F.ACTIVE?e.endTime>=o:e.endTime<o)));return Object(r.a)(Object(r.a)({},e),{},{pools:t})})).filter((e=>!!e.pools.length)),c=Object(Y.t)(x,N);c?b&&(i=null===(t=i)||void 0===t?void 0:t.map((e=>(e.pools=e.pools.filter((e=>[Object(Xt.computePoolAddress)({factoryAddress:u.elastic.coreFactory,tokenA:e.token0.wrapped,tokenB:e.token1.wrapped,fee:e.pool.fee,initCodeHashManualOverride:u.elastic.initCodeHash}),e.pool.token1.address,e.pool.token0.address].includes(c))),e)))):i=null===(n=i)||void 0===n?void 0:n.map((e=>(e.pools=e.pools.filter((e=>{var t,n,r,s;return(null===(t=e.token0.symbol)||void 0===t?void 0:t.toLowerCase().includes(N))||(null===(n=e.token1.symbol)||void 0===n?void 0:n.toLowerCase().includes(N))||(null===(r=e.token0.name)||void 0===r?void 0:r.toLowerCase().includes(N))||(null===(s=e.token1.name)||void 0===s?void 0:s.toLowerCase().includes(N))})),e)));if(f||g)if(g&&f){var a;i=null===(a=i)||void 0===a?void 0:a.map((e=>(e.pools=e.pools.filter((e=>e.token0.wrapped.address.toLowerCase()===f.toLowerCase()&&e.token1.wrapped.address.toLowerCase()===g.toLowerCase()||e.token1.wrapped.address.toLowerCase()===f.toLowerCase()&&e.token0.wrapped.address.toLowerCase()===g.toLowerCase())),e)))}else{var l,j=g||f;i=null===(l=i)||void 0===l?void 0:l.map((e=>(e.pools=e.pools.filter((e=>e.token0.wrapped.address.toLowerCase()===(null===j||void 0===j?void 0:j.toLowerCase())||e.token1.wrapped.address.toLowerCase()===(null===j||void 0===j?void 0:j.toLowerCase()))),e)))}(d[F]||R===_.F.MY_FARMS)&&b&&(i=null===(s=i)||void 0===s?void 0:s.map((e=>{if(null===w||void 0===w||!w[e.id].depositedPositions.length)return Object(r.a)(Object(r.a)({},e),{},{pools:[]});var t=null===w||void 0===w?void 0:w[e.id].depositedPositions.map((e=>Object(Xt.computePoolAddress)({factoryAddress:u.elastic.coreFactory,tokenA:e.pool.token0,tokenB:e.pool.token1,fee:e.pool.fee,initCodeHashManualOverride:u.elastic.initCodeHash}).toLowerCase())),n=e.pools.filter((e=>t.includes(e.poolAddress.toLowerCase())));return Object(r.a)(Object(r.a)({},e),{},{pools:n})})));return(null===(e=i)||void 0===e?void 0:e.filter((e=>!!e.pools.length)))||[]}),[y,N,d,F,R,x,w,b,u,f,g]),B=!W.length,H=Object(a.useState)(null),q=Object(s.a)(H,2),U=q[0],V=q[1],G=Object(a.useState)(null),Z=Object(s.a)(G,2),X=Z[0],J=Z[1],$=Object(a.useState)(),ee=Object(s.a)($,2),te=ee[0],ne=ee[1],re=null===te||void 0===te?void 0:te.pid,se=Number.isNaN(Number(re))?null:Number(re),oe=Object(K.l)(Qe.a.SHARE),ie=Object(K.h)(Qe.a.SHARE),ce=Object(a.useState)(""),ae=Object(s.a)(ce,2),de=ae[0],le=ae[1],je=u.route||void 0,be=de?"".concat(window.location.origin,"/farms/").concat(je,"?search=").concat(de,"&tab=elastic&type=").concat(R):void 0,ue=null===y||void 0===y?void 0:y.map((e=>e.pools)).flat().map((e=>[e.token0.wrapped.address,e.token1.wrapped.address,...e.rewardTokens.map((e=>e.wrapped.address))])).flat(),xe=Object(Q.a)([...new Set(ue)]),he=()=>{V(null),J(null),ne(void 0)};Object(a.useEffect)((()=>{de&&oe()}),[oe,de]),Object(a.useEffect)((()=>{le((e=>ie?e:""))}),[ie,le]);var Oe=an(),fe=Oe.data,ge=Oe.loading,ve=Oe.claimInfo,ye=Lr[x]&&(null===w||void 0===w||null===(n=w[Lr[x]])||void 0===n?void 0:n.depositedPositions),ke=!(null===fe||void 0===fe||!fe.length)&&ve,we=!(null===ye||void 0===ye||!ye.length),Ce=(!z||z===_.F.ACTIVE)&&!ge&&(we||ke);return Object(me.jsxs)(wn.Provider,{value:le,children:[U&&"deposit"===X&&Object(me.jsx)(hr,{selectedFarmAddress:U,onDismiss:he}),U&&null!==se&&["stake","unstake"].includes(X||"")&&Object(me.jsx)(Cr,{type:X,poolId:se,poolAddress:null!==(c=null===te||void 0===te?void 0:te.poolAddress)&&void 0!==c?c:"",selectedFarmAddress:U,onDismiss:he}),U&&"withdraw"===X&&Object(me.jsx)(_r,{selectedFarmAddress:U,onDismiss:he}),U&&"forcedWithdraw"===X&&Object(me.jsx)(_r,{selectedFarmAddress:U,onDismiss:he,forced:!0}),U&&"harvest"===X&&Object(me.jsx)(Ir,{farmsAddress:U,poolId:se,onDismiss:he}),(()=>{var e=Date.now()/1e3;if("ended"===R){var t=null===y||void 0===y?void 0:y.filter((t=>t.pools.every((t=>t.endTime<e))));return(null===t||void 0===t?void 0:t.some((e=>null===w||void 0===w?void 0:w[e.id].depositedPositions.map((e=>e.nftId.toString())).some((e=>C.includes(e))))))?Object(me.jsx)(rn,{isEnded:!0}):null}return null})(),z===_.F.ENDED&&M!==sn.c.CLASSIC&&Object(me.jsx)(m.e,{fontStyle:"italic",fontSize:12,marginBottom:"1rem",color:l.subText,children:Object(me.jsx)(o.b,{id:"Your rewards may be automatically harvested a few days after the farm ends. Please check the <0>Vesting</0> tab to see your rewards",components:{0:Object(me.jsx)(tt.j,{to:"".concat(_.g.FARMS,"/").concat(u.route,"?type=vesting")})}})}),(!z||z===_.F.ACTIVE)&&D.tab!==sn.c.CLASSIC&&Object(me.jsx)(m.e,{fontSize:12,marginBottom:"1.25rem",color:l.subText,children:Object(me.jsx)(o.b,{id:"Note: Farms will run in <0>multiple phases</0>. Once the current phase ends, you can harvest your rewards from the farm in the <1>Ended</1> tab. To continue earning rewards in the new phase, you must restake your NFT position into the active farm",components:{0:Object(me.jsx)(m.e,{as:"span",color:l.warning}),1:Object(me.jsx)(tt.j,{to:"".concat(_.g.FARMS,"/").concat(u.route,"?type=").concat(_.F.ENDED)})}})}),Ce?Object(me.jsx)(pn,{onWithdraw:()=>{J("forcedWithdraw"),V(Lr[x])},data:fe,numberOfPosition:(null===ye||void 0===ye?void 0:ye.length)||0,tokenPrices:xe,claimInfo:ve}):k&&B?Object(me.jsx)(m.b,{sx:{borderRadius:"16px"},backgroundColor:l.background,children:Object(me.jsx)(S.a,{})}):B?Object(me.jsx)(m.b,{backgroundColor:l.background,justifyContent:"center",padding:"32px",style:{borderBottomLeftRadius:"20px",borderBottomRightRadius:"20px"},children:Object(me.jsx)(m.e,{color:l.subText,children:d[F]||N?Object(me.jsx)(o.b,{id:"No Farms found"}):Object(me.jsx)(o.b,{id:"Currently there are no Farms."})})}):Object(me.jsx)(m.b,{sx:{flexDirection:"column",rowGap:"48px"},children:W.map((e=>Object(me.jsx)(lr,{address:e.id,onOpenModal:(t,n)=>{J(t),V(e.id),ne(n)},pools:e.pools,userInfo:null===w||void 0===w?void 0:w[e.id],tokenPrices:xe},e.id)))}),Object(me.jsx)(Ke.b,{title:de?i.a._("Share this farm with your friends!"):i.a._("Share farms with your friends"),url:be})]})},Pr=n("./node_modules/react-feather/dist/icons/eye.js"),Dr=n("./node_modules/react-feather/dist/icons/edit-2.js"),zr=e=>{var t=e.width,n=e.height,r=e.color;return Object(me.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t||24,height:n||24,viewBox:"0 0 24 24",children:[Object(me.jsx)("path",{d:"M19.5 11.9702C20.43 11.9702 21.28 12.2502 22 12.7302V7.97023C22 6.87023 21.1 5.97023 20 5.97023H13.71L12.65 4.91023L13.71 3.85023C13.91 3.65023 13.91 3.34023 13.71 3.14023C13.51 2.94023 13.2 2.94023 13 3.14023L10.17 5.97023C9.97002 6.17023 9.97002 6.48023 10.17 6.68023C10.37 6.88023 10.68 6.88023 10.88 6.68023L11.94 5.62023L13 6.68023V8.97023C13 10.0702 12.1 10.9702 11 10.9702H10.46C11.41 12.0302 12 13.4302 12 14.9702C12 15.3102 11.96 15.6402 11.91 15.9702H15.05C15.3 13.7302 17.19 11.9702 19.5 11.9702Z",fill:r||"currentColor"}),Object(me.jsx)("path",{d:"M19.5 12.9707C17.57 12.9707 16 14.5407 16 16.4707C16 18.4007 17.57 19.9707 19.5 19.9707C21.43 19.9707 23 18.4007 23 16.4707C23 14.5407 21.43 12.9707 19.5 12.9707ZM19.5 17.9707C18.67 17.9707 18 17.3007 18 16.4707C18 15.6407 18.67 14.9707 19.5 14.9707C20.33 14.9707 21 15.6407 21 16.4707C21 17.3007 20.33 17.9707 19.5 17.9707Z",fill:r||"currentColor"}),Object(me.jsx)("path",{d:"M4 8.9707H9C9 7.8707 8.1 6.9707 7 6.9707H4C3.45 6.9707 3 7.4207 3 7.9707C3 8.5307 3.45 8.9707 4 8.9707Z",fill:r||"currentColor"}),Object(me.jsx)("path",{d:"M9.83 13.7907L9.65 13.3207L10.58 12.9707C10.12 11.9107 9.3 11.0607 8.27 10.5407L7.87 11.4307L7.41 11.2207L7.81 10.3207C7.26 10.1107 6.64 9.9707 6 9.9707C5.47 9.9707 4.96 10.0807 4.48 10.2307L4.82 11.1407L4.35 11.3207L4 10.4007C2.94 10.8607 2.09 11.6807 1.57 12.7107L2.46 13.1107L2.25 13.5707L1.35 13.1707C1.13 13.7207 1 14.3307 1 14.9707C1 15.5007 1.11 16.0107 1.26 16.4907L2.17 16.1507L2.35 16.6207L1.42 16.9707C1.88 18.0307 2.7 18.8807 3.73 19.4007L4.13 18.5107L4.59 18.7207L4.19 19.6207C4.76 19.8407 5.37 19.9707 6.01 19.9707C6.54 19.9707 7.05 19.8607 7.53 19.7107L7.18 18.8007L7.65 18.6207L8 19.5507C9.06 19.0907 9.91 18.2707 10.43 17.2407L9.54 16.8407L9.75 16.3807L10.65 16.7807C10.87 16.2107 11 15.6007 11 14.9607C11 14.4307 10.89 13.9207 10.74 13.4407L9.83 13.7907ZM7.15 17.7507C5.62 18.3807 3.86 17.6607 3.23 16.1307C2.6 14.6007 3.32 12.8407 4.85 12.2107C6.38 11.5807 8.14 12.3007 8.77 13.8307C9.41 15.3607 8.68 17.1107 7.15 17.7507Z",fill:r||"currentColor"})]})},Rr=ae.default.div.withConfig({displayName:"FarmGuide__IconWrapper",componentId:"sc-lr7ao9-0"})(["width:20px;height:20px;display:flex;justify-content:center;align-items:center;color:",";"],(e=>e.theme.primary)),Fr=ae.default.span.withConfig({displayName:"FarmGuide__Highlight",componentId:"sc-lr7ao9-1"})(["color:",";font-weight:500;"],(e=>e.theme.text)),Mr={[sn.c.ELASTIC]:[{content:Object(me.jsx)(o.b,{id:"<0>Identify</0> the Elastic farm you would like to participate in",components:{0:Object(me.jsx)(Fr,{})}}),icon:Object(me.jsx)(Pr.a,{size:20}),title:"Step 1"},{content:Object(me.jsx)(o.b,{id:"<0>Add liquidity</0> to the corresponding <1>Elastic pool</1> and receive a NFT token for your liquidity position",components:{0:Object(me.jsx)(Fr,{}),1:Object(me.jsx)(tt.j,{to:"/pools?tab=elastic"})}}),icon:Object(me.jsx)(_t.d,{size:20}),title:"Step 2"},{content:Object(me.jsx)(o.b,{id:"<0>Approve</0> the farming contract (if you haven't) to let it access your liquidity positions (NFT tokens)",components:{0:Object(me.jsx)(Fr,{})}}),icon:Object(me.jsx)(Dr.a,{size:18}),title:"Step 3"},{content:Object(me.jsx)(o.b,{id:"<0>Deposit</0> your liquidity position (NFT token) into the farming contract. Then <1>stake</1> it into the farm",components:{0:Object(me.jsx)(Fr,{}),1:Object(me.jsx)(Fr,{})}}),icon:Object(me.jsx)(On,{width:20,height:20}),title:"Step 4"},{content:Object(me.jsx)(o.b,{id:"<0>Harvest</0> your farming rewards whenever you want",components:{0:Object(me.jsx)(Fr,{})}}),icon:Object(me.jsx)(zr,{width:20,height:20}),title:"Step 5"},{content:Object(me.jsx)(o.b,{id:"<0>Claim</0> your farming rewards from the <1>Vesting</1> tab! Note: some farms may have a vesting period",components:{0:Object(me.jsx)(Fr,{}),1:Object(me.jsx)(tt.j,{to:"/farms?type=vesting&tab=elastic"})}}),icon:Object(me.jsx)(_t.j,{size:20}),title:"Step 6"}],[sn.c.CLASSIC]:[{content:Object(me.jsx)(o.b,{id:"Identify the Classic farm you would like to participate in"}),icon:Object(me.jsx)(Pr.a,{size:20}),title:"Step 1"},{content:Object(me.jsx)(o.b,{id:"Add liquidity to the corresponding <0>Classic pool</0> to receive Liquidity Provider (LP) tokens",components:{0:Object(me.jsx)(tt.j,{to:"/pools?tab=classic"})}}),icon:Object(me.jsx)(_t.d,{size:20}),title:"Step 2"},{content:Object(me.jsx)(o.b,{id:"Stake your LP tokens in the farm you identified earlier"}),icon:Object(me.jsx)(On,{width:20,height:20}),title:"Step 3"},{content:Object(me.jsx)(o.b,{id:"Harvest your farming rewards whenever you want"}),icon:Object(me.jsx)(zr,{width:20,height:20}),title:"Step 4"},{content:Object(me.jsx)(o.b,{id:"Claim your farming rewards! (Note: some farms may have a vesting period)"}),icon:Object(me.jsx)(_t.j,{size:20}),title:"Step 5"}]};var Nr=function(e){var t=e.farmType,n=Object(a.useState)(!1),r=Object(s.a)(n,2),i=r[0],c=r[1],d=Object(pe.a)(),l=Object(x.a)("(max-width: 992px)"),j=Mr[t];return Object(me.jsxs)(ht.r,{children:[Object(me.jsxs)(m.b,{alignItems:"center",children:[Object(me.jsx)(ht.q,{children:t===sn.c.ELASTIC?Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(o.b,{id:"Deposit your liquidity from the Elastic Pools here, and then stake it to earn even more attractive farming rewards. Learn about our farming mechanisms"})," ",Object(me.jsx)(tt.d,{href:"https://docs.kyberswap.com/guides/farming-mechanisms",children:Object(me.jsx)(o.b,{id:"here \u2197"})})]}):Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(o.b,{id:"Deposit your liquidity from the Classic Pools here to earn even more attractive farming rewards."})," ",Object(me.jsx)(tt.d,{href:"https://docs.kyberswap.com/classic/guides/yield-farming-guide",children:Object(me.jsx)(o.b,{id:"Learn More \u2197"})})]})}),Object(me.jsx)(ht.x,{onClick:()=>c((e=>!e)),show:i,children:Object(me.jsx)(Ye.a,{})})]}),Object(me.jsx)(ht.k,{show:i,numOfSteps:j.length,children:j.map(((e,t)=>Object(me.jsxs)(a.Fragment,{children:[0!==t&&Object(me.jsx)(ht.c,{}),Object(me.jsxs)(ht.j,{children:[Object(me.jsxs)(m.b,{marginBottom:"0.5rem",alignItems:"center",sx:{gap:"8px"},children:[Object(me.jsx)(Rr,{children:e.icon}),Object(me.jsxs)(m.e,{flex:1,children:[Object(me.jsx)(m.e,{color:d.text,fontWeight:"500",as:"span",sx:{textTransform:"uppercase"},children:e.title}),l&&Object(me.jsxs)(me.Fragment,{children:[": ",e.content," "]})]})]}),!l&&e.content]})]},t)))})]})},Wr=n("./src/components/YieldPools/FarmPoolSort.tsx"),Br=n("./src/components/YieldPools/ListGridViewGroup.tsx"),Hr=n("./src/hooks/useSyncNetworkParamWithStore.ts"),qr=n("./src/pages/Pools/styleds.tsx"),Ur=n("./src/state/farms/classic/updater.ts"),Vr=n("./src/utils/string.ts");t.default=()=>{var e=Object(E.b)(),t=e.isEVM,n=e.chainId,d=Object(qt.b)(),S=d.loading,T=d.data,I=Object(pe.a)(),A=Object(Pt.a)(),L=Object(u.m)(),D=Object(p.d)(),z=Object(s.a)(D,2),R=z[0],F=z[1],M=R.get("type")||_.F.ACTIVE,N=R.get("tab")||sn.c.ELASTIC,W=R.get("search")||"",B=Object(Vr.d)(N,sn.c)?N:sn.c.ELASTIC,H=Object(x.a)("(min-width: 1000px)"),q=Object(K.l)(Qe.a.SHARE),U=Object(b.e)((e=>e.vesting.loading)),V=Object(a.useState)({active:!1,ended:!0}),Y=Object(s.a)(V,2),G=Y[0],Z=Y[1],X=M===_.F.ACTIVE?"active":"ended",Q=e=>{var t=Object(r.a)(Object(r.a)({},A),{},{type:e});L({search:Object(c.stringify)(t)})},J=Object(u.k)(),$=Object(a.useCallback)((e=>{var t=Object(r.a)(Object(r.a)({},J),{},{search:Object(c.stringify)(Object(r.a)(Object(r.a)({},A),{},{search:e}))});L(t,{replace:!0})}),[L,J,A]),ee=Object(P.c)().mixpanelHandler;Object(Hr.a)();var te=Object(x.a)("(max-width: 992px)"),ne=Object(x.a)("(max-width: 1500px)"),re=Object(K.c)(),se=Object(dn.b)().farms,oe=Object(a.useMemo)((()=>{var e={},t=Math.floor(Date.now()/1e3);return Object.values(T).flat().filter((e=>e.endTime&&e.endTime>t||re&&e.endBlock&&e.endBlock>re)).forEach((t=>{t.rewardTokens.forEach((t=>{t&&t.chainId===n&&!e[t.wrapped.address]&&(e[t.wrapped.address]=t)}))})),null===se||void 0===se||se.forEach((t=>{t.pools.forEach((t=>{t.endTime>Date.now()/1e3&&t.totalRewards.forEach((t=>{e[t.currency.wrapped.address]=t.currency}))}))})),Object.values(e)}),[T,re,se,n]),ie=!!oe.length&&Object(me.jsx)(m.b,{flex:1,width:ne?"calc(100vw - 706px)":"796px",sx:{gap:"4px"},alignItems:"center",justifyContent:"flex-end",children:Object(me.jsx)(v.b,{rewardTokens:oe,style:{display:"flex",width:"100%",overflow:"hidden",flex:1}})}),ce=R.get("token0")||void 0,ae=R.get("token1")||void 0,de=Object(Lt.f)(ce),le=Object(Lt.f)(ae);if(!t)return Object(me.jsx)(u.a,{to:"/"});var je=Object(me.jsxs)(qr.b,{children:[Object(me.jsx)(g.a,{onCurrencySelect:e=>{R.set("token0",e.wrapped.address),F(R)},onClearCurrency:()=>{R.set("token0",""),F(R)},currency:de,id:"input-tokena",showCommonBases:!0}),Object(me.jsx)(m.e,{marginX:"6px",children:"-"}),Object(me.jsx)(g.a,{onCurrencySelect:e=>{R.set("token1",e.wrapped.address),F(R)},onClearCurrency:()=>{R.set("token1",""),F(R)},currency:le,id:"input-tokenb",showCommonBases:!0})]});return Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(Ur.a,{isInterval:!0}),Object(me.jsx)(dn.a,{}),Object(me.jsxs)(ht.o,{gap:"24px",children:[Object(me.jsxs)("div",{children:[Object(me.jsxs)(ht.E,{children:[Object(me.jsx)(O.a,{}),!te&&Object(me.jsxs)(me.Fragment,{children:[ie,Object(me.jsxs)(m.b,{sx:{gap:"24px"},width:"max-content",children:[Object(me.jsx)(C.b,{type:B===sn.c.ELASTIC?C.a.ELASTIC_FARMS:C.a.CLASSIC_FARMS,customIcon:Object(me.jsxs)(m.b,{sx:{gap:"4px",cursor:"pointer"},fontSize:"14px",alignItems:"center",fontWeight:"500",color:I.subText,role:"button",children:[Object(me.jsx)(h.a,{}),Object(me.jsx)(o.b,{id:"Video Tutorial"})]})}),Object(me.jsxs)(m.b,{sx:{gap:"4px",cursor:"pointer"},fontSize:"14px",alignItems:"center",fontWeight:"500",color:I.subText,onClick:()=>q(),children:[Object(me.jsx)(l.a,{size:20}),"Share"]})]})]})]}),Object(me.jsx)(Nr,{farmType:B})]}),te&&Object(me.jsxs)(m.b,{sx:{gap:"1rem"},children:[ie,Object(me.jsx)(m.b,{alignItems:"center",sx:{gap:"6px"},children:Object(me.jsxs)(m.b,{sx:{gap:"16px"},alignItems:"center",children:[Object(me.jsx)(C.b,{type:B===sn.c.ELASTIC?C.a.ELASTIC_FARMS:C.a.CLASSIC_FARMS,customIcon:Object(me.jsx)(h.a,{color:I.subText,style:{width:"20px",height:"20px"}})}),Object(me.jsx)(l.a,{color:I.subText,size:20,onClick:()=>q()})]})})]}),Object(me.jsxs)("div",{children:[Object(me.jsxs)(ht.A,{children:[Object(me.jsxs)(m.b,{sx:{gap:"8px"},children:[Object(me.jsx)(qr.f,{onClick:()=>{M&&"active"!==M&&ee(P.a.FARMS_ACTIVE_VIEWED),Q(_.F.ACTIVE)},active:!M||"active"===M,children:Object(me.jsx)(ht.p,{children:Object(me.jsx)(o.b,{id:"Active"})})}),Object(me.jsx)(qr.f,{onClick:()=>{"ended"!==M&&ee(P.a.FARMS_ENDING_VIEWED),Q(_.F.ENDED)},active:M===_.F.ENDED,children:Object(me.jsx)(ht.p,{children:Object(me.jsx)(o.b,{id:"Ended"})})}),Object(me.jsx)(qr.f,{onClick:()=>{Q(_.F.MY_FARMS)},active:M===_.F.MY_FARMS,children:Object(me.jsx)(y.f,{children:Object(me.jsx)(o.b,{id:"My Farms"})})}),Object(me.jsx)(qr.f,{onClick:()=>{"vesting"!==M&&ee(P.a.FARMS_MYVESTING_VIEWED),Q(_.F.VESTING)},active:M===_.F.VESTING,children:Object(me.jsxs)(y.f,{children:[Object(me.jsx)(m.e,{children:Object(me.jsx)(o.b,{id:"Vesting"})}),U&&Object(me.jsx)(f.a,{style:{marginLeft:"4px"}})]})})]}),Object(me.jsxs)(ht.l,{children:[Object(me.jsx)(ht.z,{children:Object(me.jsxs)(y.f,{gap:"12px",children:[H&&Object(me.jsx)(y.c,{children:Object(me.jsx)(Br.a,{})}),M!==_.F.MY_FARMS&&Object(me.jsxs)(me.Fragment,{children:[Object(me.jsx)(ht.y,{children:Object(me.jsx)(o.b,{id:"Staked Only"})}),Object(me.jsx)(w.a,{isActive:G[X],toggle:()=>Z((e=>Object(r.a)(Object(r.a)({},e),{},{[M]:!e[X]})))})]}),Object(me.jsx)(Wr.a,{})]})}),Object(me.jsxs)(ht.m,{children:[je,Object(me.jsxs)(ht.v,{children:[Object(me.jsx)(ht.w,{placeholder:i.a._("Search by token name or pool address"),maxLength:255,value:W,onChange:e=>$(e.target.value)}),Object(me.jsx)(j.a,{color:I.subText,size:16})]})]})]})]}),(()=>{switch(M){case _.F.ACTIVE:return B===sn.c.ELASTIC?Object(me.jsx)(Er,{stakedOnly:G}):Object(me.jsx)(Zt,{loading:S,active:!0});case _.F.ENDED:return B===sn.c.ELASTIC?Object(me.jsx)(Er,{stakedOnly:G}):Object(me.jsx)(Zt,{loading:S,active:!1});case _.F.VESTING:return B===sn.c.ELASTIC?Object(me.jsx)(Ue,{}):Object(me.jsx)(He,{loading:U});case _.F.MY_FARMS:return B===sn.c.ELASTIC?Object(me.jsx)(Er,{stakedOnly:G}):Object(me.jsx)(Zt,{loading:S,active:!1});default:return Object(me.jsx)(Zt,{loading:S,active:!0})}})()]})]}),Object(me.jsx)(k.a,{})]})}},"./src/pages/Pool/styleds.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var r=n("./node_modules/rebass/dist/index.esm.js"),s=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),o=s.default.div.withConfig({displayName:"styleds__Wrapper",componentId:"sc-qs1q00-0"})(["position:relative;"]),i=(Object(s.default)(r.e).withConfig({displayName:"styleds__ClickableText",componentId:"sc-qs1q00-1"})([":hover{cursor:pointer;}color:",";"],(e=>e.theme.primary)),s.default.span.withConfig({displayName:"styleds__Dots",componentId:"sc-qs1q00-2"})(["&::after{display:inline-block;animation:ellipsis 1.25s infinite;content:'.';width:1em;text-align:left;}@keyframes ellipsis{0%{content:'.';}33%{content:'..';}66%{content:'...';}}"]))},"./src/state/farms/classic/updater.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),s=n("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),o=n("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),i=n("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),c=n("./node_modules/@ethersproject/bignumber/lib.esm/bignumber.js"),a=n("./node_modules/react/index.js"),d=n("./node_modules/react-redux/es/index.js"),l=n("./src/constants/index.ts"),j=n("./src/constants/tokens.ts"),b=n("./src/hooks/index.ts"),u=n("./src/hooks/Tokens.ts"),p=n("./src/hooks/useContract.ts"),x=n("./src/state/application/hooks.ts"),m=n("./src/state/farms/classic/actions.ts"),h=n("./src/state/farms/classic/types.ts"),O=n("./src/state/hooks.ts"),f=n("./src/state/pools/hooks.ts");function g(e){var t=e.isInterval,n=void 0===t||t,g=Object(O.a)(),v=Object(b.b)(),y=v.chainId,k=v.account,w=v.isEVM,C=v.networkInfo,S=Object(p.i)(!1),T=Object(x.f)(),I=Object(a.useRef)(T.currentPrice);I.current=T.currentPrice;var A=Object(u.e)(),_=Object(x.g)(),L=_.classicClient,E=_.blockClient,P=_.isEnableBlockService,D=Object(d.e)((e=>e.farms.data)),z=Object(a.useRef)(D);z.current=D;var R=Object(a.useRef)(y);return R.current=y,Object(a.useEffect)((()=>{if(w){console.count("running farm updater");var e=!1;b();var t=n&&setInterval((()=>{b()}),3e4);return()=>{e=!0,t&&clearInterval(t)}}function a(e){return d.apply(this,arguments)}function d(){return d=Object(i.a)(Object(s.a)().mark((function t(n){var a,d,b,u,p,x,m,O,g,v,S,T,_,D,z,R,F,M;return Object(s.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(w){t.next=2;break}return t.abrupt("return",[]);case 2:return t.next=4,null===n||void 0===n?void 0:n.getRewardTokens();case 4:if(a=t.sent,!e){t.next=7;break}throw new Error("canceled");case 7:return t.next=9,null===n||void 0===n?void 0:n.poolLength();case 9:if(d=t.sent,!e){t.next=12;break}throw new Error("canceled");case 12:return b=[...Array(c.a.from(d).toNumber()).keys()],u=C.classic.fairlaunchV2.includes(n.address),t.next=16,Promise.all(b.map(function(){var t=Object(i.a)(Object(s.a)().mark((function t(r){var i;return Object(s.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===n||void 0===n?void 0:n.getPoolInfo(r);case 2:if(i=t.sent,!e){t.next=5;break}throw new Error("canceled");case 5:if(!u){t.next=7;break}return t.abrupt("return",Object(o.a)(Object(o.a)({},i),{},{accRewardPerShares:i.accRewardPerShares.map(((e,t)=>e.div(i.rewardMultipliers[t]))),rewardPerSeconds:i.rewardPerSeconds.map(((e,t)=>e.div(i.rewardMultipliers[t]))),pid:r,fairLaunchVersion:h.a.V2}));case 7:return t.abrupt("return",Object(o.a)(Object(o.a)({},i),{},{pid:r,fairLaunchVersion:h.a.V1}));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 16:return p=t.sent,t.next=19,Promise.all(b.map(function(){var t=Object(i.a)(Object(s.a)().mark((function t(r){var o;return Object(s.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!k){t.next=6;break}return t.next=3,null===n||void 0===n?void 0:n.getUserInfo(r,k);case 3:t.t0=t.sent,t.next=7;break;case 6:t.t0={amount:0};case 7:if(o=t.t0,!e){t.next=10;break}throw new Error("canceled");case 10:return t.abrupt("return",o.amount);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 19:if(x=t.sent,!e){t.next=22;break}throw new Error("canceled");case 22:return t.next=24,Promise.all(b.map(function(){var t=Object(i.a)(Object(s.a)().mark((function t(r){var o;return Object(s.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!k){t.next=6;break}return t.next=3,null===n||void 0===n?void 0:n.pendingRewards(r,k);case 3:t.t0=t.sent,t.next=7;break;case 6:t.t0=null;case 7:if(o=t.t0,!e){t.next=10;break}throw new Error("canceled");case 10:return t.abrupt("return",o);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 24:if(m=t.sent,!e){t.next=27;break}throw new Error("canceled");case 27:return O=p.map((e=>e.stakeToken.toLowerCase())),t.next=30,Object(f.a)(P,O,L,E,y,I.current);case 30:if(g=t.sent,!e){t.next=33;break}throw new Error("canceled");case 33:if(v=a.map((e=>e.toLowerCase()===l.db.toLowerCase()?j.i[y]:A[e])).filter(Boolean),S=p.map(((e,t)=>Object(o.a)(Object(o.a)(Object(o.a)({},g.find((t=>t&&t.id.toLowerCase()===e.stakeToken.toLowerCase()))),e),{},{rewardTokens:v,fairLaunchAddress:n.address,userData:{stakedBalance:x[t],rewards:e.fairLaunchVersion===h.a.V2?m[t]&&m[t].map(((t,n)=>t.div(e.rewardMultipliers[n]))):m[t]}}))),!(T=l.P[n.address])){t.next=46;break}return t.next=39,fetch(T.subgraphAPI,{method:"POST",body:JSON.stringify({query:T.query})}).then((e=>e.json()));case 39:if(_=t.sent,!e){t.next=42;break}throw new Error("canceled");case 42:D=_.data.pair.totalSupply,z=D.split("."),R=Object(r.a)(z,2),F=R[0],M=R[1],D=F+"."+M.slice(0,18),S.push(Object(o.a)(Object(o.a)(Object(o.a)({},_.data.pair),{},{amp:1e4,vReserve0:_.data.pair.reserve0,vReserve1:_.data.pair.reserve1,token0:Object(o.a)(Object(o.a)({},_.data.pair.token0),{},{derivedETH:_.data.pair.token0.derivedBNB}),token1:Object(o.a)(Object(o.a)({},_.data.pair.token1),{},{derivedETH:_.data.pair.token1.derivedBNB}),trackedReserveETH:_.data.pair.trackedReserveBNB,totalSupply:D},p[0]),{},{rewardTokens:v,fairLaunchAddress:n.address,userData:{stakedBalance:x[0],rewards:m[0]}}));case 46:return t.abrupt("return",S.filter((e=>!!e.totalSupply)));case 47:case"end":return t.stop()}}),t)}))),d.apply(this,arguments)}function b(){return u.apply(this,arguments)}function u(){return(u=Object(i.a)(Object(s.a)().mark((function t(){var n,r,o,i;return Object(s.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,S){t.next=4;break}return g(Object(m.b)({})),t.abrupt("return");case 4:return g(Object(m.c)(!0)),n={},r=Object.keys(S),o=r.map((e=>a(S[e]))),t.next=10,Promise.all(o);case 10:if(i=t.sent,!e){t.next=13;break}throw new Error("canceled");case 13:r.forEach(((e,t)=>{n[e]=i[t]})),R.current!==y||0!==Object.keys(z.current).length&&e||g(Object(m.b)(n)),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),e||(console.error(t.t0),g(Object(m.f)(t.t0)));case 20:g(Object(m.c)(!1));case 21:case"end":return t.stop()}}),t,null,[[0,17]])})))).apply(this,arguments)}}),[g,y,S,k,w,C,L,E,A,n,P]),null}}}]);